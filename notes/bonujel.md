---
timezone: UTC+8
---

# bonujel

**GitHub ID:** bonujel

**Telegram:** 

## Self-introduction

Web3 实习计划 2025 冬季实习生

## Notes

<!-- Content_START -->
# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->
## **行动**

-   观看“Web3 行业全局介绍 & 岗位概览“直播
    
-   完成“在 My First NFT mint 第一个 NFT”
    
-   参加co-learning
    

## **内容**

### **token**

“token”最核心的意义是：它把某种“可被拥有、可被转移、可被验证的权利/价值”编码进一个全网共同维护的账本里，并且可以被程序自动执行规则。换句话说，token 让“数字世界里的财产权、使用权、治理权、收益权、资源配额”等，第一次变成了互联网原生、可编程、可组合、可市场化的对象。它不只是“币”，而是一种通用的资产与权利表达方式：你可以用它做结算、做激励、做安全预算、做准入与治理，也可以把现实资产映射到链上形成可流通的凭证。

第一层：token 是“链上可验证的产权记录”

1.  统一的“所有权状态机”：谁拥有多少、何时转移、依据什么规则转移，都由共识 + 密码学签名保证。
    
2.  可编程规则：发行、转账、冻结、权限、销毁、分红、抵押等行为可以由合约/协议规则自动执行。
    
3.  可组合：token 可以被其他合约当成“积木”继续组合成更复杂的金融/业务结构。
    

第二层：token 解决的是“陌生人协作的协调问题”

1.  激励对齐：把网络参与者（用户、开发者、节点、流动性提供者）的利益绑定到同一套规则与收益函数上。
    
2.  安全预算：用 token 的价值与惩罚机制（如 PoS 质押与惩罚）把攻击成本显性化。
    
3.  市场化资源定价：把区块空间、算力/带宽、存储、服务访问等资源通过 token 定价与分配。
    

第三层：token 在实际系统里常见的九类用途

1.  货币与结算：原生币/稳定币，用于支付、跨境汇款、商户结算、微支付。
    
2.  交易费与反垃圾：gas/手续费让链上资源有成本，抑制 spam，并为验证者/矿工提供收入。
    
3.  共识与安全（PoS）：质押 token 获得出块/验证权；作恶会被惩罚（slash），提高安全性。
    
4.  抵押与信用：在 DeFi 中作为抵押品借贷、清算、杠杆与风险管理基础。
    
5.  治理与组织：治理 token 表示投票权/提案权，用于 DAO 的参数修改、资金分配、策略决策（也带来治理攻击风险）。
    
6.  准入与会员：持有某 token 才能使用某服务、进入某社区、获取额度/折扣（“token-gated access”）。
    
7.  收益权与现金流分配：用 token 表达对费用、收益、分润的某种权利（往往伴随强监管属性）。
    
8.  资产代币化（Tokenization / RWA）：把现实世界资产（债券、基金份额、票据、黄金、碳信用等）映射为链上可流通凭证，提升清结算效率与可组合性。
    
9.  非同质化与凭证：NFT/票据/证书/版权/游戏道具等，用于唯一性、溯源与防伪。
    

根据“技术”特性，代币分为两类：**同质化代币（FT）**和**非同质化代币(NFT)**。

-   同质化代币：表示可互换；由多个相同的单位组成，可以替代同一代币的任何其他单位，并可以分为小数单位（例如拥有 0.5 个代币）。
    
-   非同质化代币：表示独特且不可互换；每个代币都是独一无二的、不可分割的，并具有使其与其他代币不同的独特属性。
    

### **以太坊NFT协议的进化**

**ERC-165：**不是为了解决“怎么做 NFT”的问题，而是确定了“外部如何用一种统一方式识别一个合约实现了哪些接口”。核心是 `supportsInterface(bytes4)`，通过计算函数选择器的异或（XOR）值，合约可以声明其支持的接口集。这一标准虽不直接定义 NFT，但它是所有后续 NFT 标准（包括 ERC-721 和 ERC-1155）的**元依赖（Meta-dependency）**。没有 ERC-165，市场将无法自动区分一个合约究竟是同质化代币（ERC-20）还是非同质化代币（ERC-721），也无法安全地执行资产转移。

**ERC-721：** 首次通过 `tokenId` 将所有权颗粒度精确到每一个独立的资产，使得 `Token A ≠ Token B` 成为可能。

确立了 `ownerOf(tokenId)`、`transferFrom` 和 `approve` 等核心原语。尤为重要的是，它引入了 `safeTransferFrom` 机制。该机制在转账时会检查接收方是否为合约，如果是，则调用接收方的 `onERC721Received` 函数。如果接收方合约未实现该接口（通过 ERC-165 检测），交易将回滚。这一设计极大地降低了 NFT 误转入不支持合约而导致“资产黑洞”的风险 。

尽管 ERC-721 奠定了 NFT 的基础，但其“每一个 Token 都是独立实体”的设计理念在处理大规模资产时显得笨重且昂贵

**ERC-1155 ：\***\*一个合约管理多种 token 类型\*\*。它允许同一合约里既有 FT 也有 NFT（或半同质化），并天然支持 batch（一次交易转多个 id、多个数量），减少部署碎片与交易开销。对游戏道具、批量铸造/空投、组合资产这类场景，1155 的工程效率通常更高；而对“单一系列的收藏品”这类强叙事集合，721 仍然是最常见选择。

创新在于重新定义了 `id` 的含义。在 ERC-721 中，`id` 指向唯一的资产；而在 ERC-1155 中，`id` 指向一种“资产类型”。

-   若该类型的供应量为 1，则表现为 NFT。
    
-   若供应量 > 1，则表现为同质化代币。 此外，`safeBatchTransferFrom` 允许在单笔交易中转移多种类型的资产，相较于 ERC-721，其 Gas 消耗在批量操作下降低了 80%-90%。这标志着 NFT 从单纯的“收藏品”向“实用型库存”的进化 。
    

**ERC-2309 ：**解决了一个“链上工程”的瓶颈：如果你要一次性 mint/transfer 海量 NFT，逐个发 `Transfer` 事件会变成 O(n) 的 gas 灾难。（项目方通常如果一次性铸造 10,000 个 NFT。在标准 ERC-721 中，这需要触发 10,000 次 `Transfer` 事件，极其昂贵且易导致区块 Gas 上限溢出。）

ERC-2309 引入了 `ConsecutiveTransfer` 事件：

```
event ConsecutiveTransfer(uint256 indexed fromTokenId, uint256 toTokenId, address indexed fromAddress, address indexed toAddress);
```

该事件不再逐一记录，而是记录“从 ID X 到 ID Y 的所有权发生了转移”。这一改动将日志记录的复杂度从线性 O(N) 降低到了常数 O(1)。然而，值得注意的是，由于这改变了标准的事件签名，许多早期的索引器（Indexer）和交易所（如早期的 OpenSea）对其支持较慢，导致采用 ERC-2309 的项目有时面临“资产未显示”的兼容性挑战。

**ERC-2981:** 在 ERC-2981 之前，版税并非链上标准，而是依赖于各个市场（OpenSea, Rarible）的私有注册表。这意味着在 A 平台设置的版税，在 B 平台交易时无法生效。ERC-2981 通过引入 `royaltyInfo(tokenId, salePrice)` 函数，允许合约告诉市场：“如果这个 Token 卖了 100 ETH，请给地址 X 支付 5 ETH” 。

但他仅是一个**信号标准（Signaling Standard）**，而非强制执行标准。它依赖于市场平台的自愿遵守。当市场为了抢占份额而选择忽略 `royaltyInfo` 时，该标准实际上会失效。尽管如此，作为通用的版税查询接口，ERC-2981 依然是当前绝大多数 NFT 合约的标配 。

**ERC-4494 ：**ERC-20 代币通过 EIP-2612 实现了 `permit` 功能，允许用户通过签名而非发送交易来进行授权，极大地优化了体验。ERC-4494 试图将这一逻辑移植到 ERC-721 上。其技术难点在于 `nonce` 的管理：与 ERC-20 的账户级 nonce 不同，ERC-4494 提议将 nonce 绑定在 `tokenId` 上，以确保 NFT 转手后旧的签名授权失效 。

但是ERC-4494 最终被标记为 **Stagnant（停滞）**。主要原因在于：

1.  **基础设施的替代**：Opensea 推出的 **Seaport** 协议以及 Uniswap 的 **Permit2** 实际上在应用层解决了签名授权的问题，使得底层的代币标准升级变得不再紧迫。
    
2.  **安全性与复杂性**：关于谁有权签署 Permit（仅所有者还是被批准的操作员）的争论增加了标准化的难度。 因此，虽然用户的时间线中包含了 ERC-4494，但需明确它并未像 ERC-721 或 2981 那样成为广泛采纳的行业标准，而是一次未竟的尝试 。
    

2022 年开始，随着**元宇宙概念**的兴起，NFT 不再仅仅是静态图片。市场需要能够“租赁”的 NFT，以及随外部数据（如游戏等级、天气）变化的动态 NFT。NFT 从“所有权”走向“更复杂的权利拆分与索引协作”。

**ERC-4671：**试图建立一种全新的、专门针对不可转移代币（如证书、勋章）的标准。源于v神提出“去中心化社会（DeSoc）”和“灵魂绑定代币（SBT）”的概念。

最终stagnant：没有继承 ERC-721，而是定义了一套全新的接口，完全移除了转账逻辑，并增加了复杂的发行者（Issuer）管理和有效性验证逻辑 。 然而，这种破坏性的创新导致了它的失败。由于不兼容 ERC-721，现有的钱包（MetaMask）和市场无法直接显示这些代币。社区最终意识到，SBT 不需要成为一种新资产类别，而应该只是**一种具有特殊属性的 ERC-721**。因此，ERC-4671 陷入停滞，被更具兼容性的 ERC-5192 取代 。

**ERC-4907：**分离了 NFT 的所有者（Owner）和使用者（User），并引入了自动过期的租赁机制。在 ERC-4907 之前，租赁 NFT 通常需要抵押借贷（存在资金占用风险）或中心化托管。ERC-4907 在合约存储中增加了一个 `UserInfo` 结构体，记录使用者地址和过期时间戳。 `userOf(tokenId)` 函数被修改为：如果 `block.timestamp < expires`，返回使用者地址；否则返回零地址。这种**无需交易即可自动过期**的设计是其最大创新，极大地降低了租赁业务的 Gas 成本。

**ERC-4906：**定义了标准的 `MetadataUpdate` 事件，用于通知第三方平台元数据已更改。OpenSea 等平台为了性能会深度缓存 NFT 的元数据（图片、属性）。当一个“盲盒”NFT 开图，或者一个游戏装备升级时，链上状态虽然变了，但前端显示的依然是旧数据。ERC-4906 标准化了 `MetadataUpdate` 和 `BatchMetadataUpdate` 事件。这相当于给索引器发出的一个“刷新信号（Ping）”，解决了动态 NFT 在展示层的同步难题 。

**ERC-5192：**通过增加“锁定”状态，将 ERC-721 转化为灵魂绑定代币。仅引入了 `locked` 状态和相应的事件。当代币处于锁定状态时，所有转账函数必须 Revert（回滚）。这种设计使得 SBT 可以直接在 OpenSea 上显示（作为不可售卖的 NFT），并被所有支持 ERC-721 的钱包识别。

**ERC-6551 ：**把 NFT 推到更“账户化”的形态：为每个 NFT 绑定一个“token bound account（合约账户）”，使 NFT 能像地址一样持有资产、与应用交互（无需修改原 NFT 合约）。ERC-6551 颠覆了所有权层级。在此之前，NFT 只是账户里的一个数据；在此之后，NFT 本身变成了一个账户（Token Bound Account, TBA）。

-   **技术机制**：通过一个无许可的注册表合约，为每个 NFT 计算出一个确定性的合约地址。这个地址可以接收 ETH、ERC-20 代币，甚至拥有其他 NFT。
    
-   **应用场景**：这使得“NFT 组合包”成为可能（例如：一个 RPG 角色 NFT，其“背包”里装着武器 NFT 和金币 Token）。当转移角色 NFT 时，其绑定的账户及账户内所有资产自动随之转移。
<!-- DAILY_CHECKIN_2026-01-13_END -->

# 2026-01-12
<!-- DAILY_CHECKIN_2026-01-12_START -->

行动与产出

-   完成 MetaMask 钱包创建；在 Sepolia 领取测试币并完成转账验证；
    
-   参与以太坊中文周会；
    
-   参与 co-learning 答疑场；
    

周会部分内容

-   以太坊 Fusaka 升级进展：BPO2 参数调整将 Blob 目标值提升至每区块 14、最大值提升至 21。这类调整本质上是在“数据可用性（DA）供给侧”扩容：提高每区块可承载的 Blob 数量上限与常态目标值，会直接改变 Blob 供需关系与 blob basefee 的形成区间，从而对 L2（rollup）发布数据的边际成本进行再定价。意义主要体现在两点：其一，若供给提升顺利落地，L2 的数据发布成本有望下降，进而改善用户侧交易费与批量结算策略；其二，参数上调会把压力从“价格”转移到“传播与验证路径”，对共识层网络传播、区块构建/验证的峰值负载提出更高要求，因此评估时不能只看均值吞吐，必须同步关注区块传播延迟、重组/错过提议等系统性指标（尤其是尾部表现）。
    
-   ruebit 因旧合约定价错误导致重大损失，并出现 Tornado Cash 洗钱路径；Zcash 因治理与商业化分歧出现团队出走并成立 CashZ。安全侧样本的专业含义在于强调“经济逻辑缺陷（economic bug）”的破坏性不亚于传统的权限/重入漏洞：定价、激励、结算等机制一旦存在可被套利的错误，会在极短时间内被自动化资金放大为系统性损失；而后续通过混币工具隐藏资金流向，意味着事件处置不仅是技术修复，还会延伸到追踪、合规与生态信任修复。治理侧样本则提醒：公链或隐私币项目的长期可持续性不仅取决于密码学与工程实现，更取决于资金安排、决策机制与商业化路径的共识。一旦在核心利益与路线选择上出现结构性分歧，团队分裂、组织重组甚至生态分叉的概率会上升，直接影响路线图兑现能力、开发资源密度与外部合作方的风险评估。
<!-- DAILY_CHECKIN_2026-01-12_END -->
<!-- Content_END -->
