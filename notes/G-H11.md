---
timezone: UTC+8
---

# G-H11

**GitHub ID:** G-H11

**Telegram:** @SCFh4meCOn21354

## Self-introduction

Web3 实习计划 2025 冬季实习生

## Notes

<!-- Content_START -->
# 2026-01-15
<!-- DAILY_CHECKIN_2026-01-15_START -->
## 一、Solidity 基础：

基础阶段聚焦 “能写、能部署、能运行”，掌握合约开发的核心语法、工程化规范与入门工具，是后续进阶的核心前提。

### 1\. Remix IDE：入门级全流程开发工具

Remix IDE 是浏览器端一站式 Solidity 开发环境，无需本地配置即可完成合约开发全生命周期，是新手入门的首选：

**核心能力：**代码编写（语法高亮、自动补全、错误提示）、编译（自定义 Solc 版本、开启优化）、部署（内置 VM / 测试网 / 主网）、调试（断点、步过、查看栈 / 内存 / 存储状态）；

**入门实操流程：**创建`.sol`文件 → 编写最简合约（如 HelloWorld） → 编译生成字节码 / ABI → 部署至 Remix VM → 调用函数验证执行结果；

**实用技巧：**通过 “Deployed Contracts” 面板管理已部署合约，利用 “Console” 面板执行自定义交互指令，通过 “Files” 面板管理多文件项目（如导入开源库）。

### 2\. Solidity 程序核心结构

一个完整的 Solidity 合约遵循固定工程化结构，核心组成如下：

```
// 1. 版本声明（指定兼容的Solc版本） 
pragma solidity ^0.8.20;

// 2. 导入外部合约/库（复用开源代码） 
import "@openzeppelin/contracts/access/Ownable.sol";

// 3. 合约定义（核心，支持继承/接口实现） 
contract MyFirstContract is Ownable { 

// 4. 状态变量（链上持久化存储） 
uint256 public totalCount;

// public自动生成getter函数 
string public contractName;
// 5. 构造函数（部署时执行一次，初始化状态）
constructor(string memory _name) {
    contractName = _name;
    totalCount = 0;
}

// 6. 核心函数（业务逻辑载体）
function incrementCount() public onlyOwner { // onlyOwner是权限修饰器
    totalCount += 1;
    emit CountIncremented(totalCount); // 触发事件
}

// 7. 事件（记录链上日志，供链下查询）
event CountIncremented(uint256 newCount);

}
```

**版本声明：**`^0.8.20` 表示兼容 0.8.20 至 0.9.0 前的所有版本，避免编译兼容问题；

**核心规则：**状态变量持久化存储在链上，函数是逻辑执行单元，事件用于链下状态追踪。

### 3\. 核心数据类型（值类型 + 引用类型）

Solidity 数据类型决定了合约数据的存储方式与操作逻辑，是语法的核心基础：

| 类型分类 | 具体类型 | 核心特性与使用场景 |   |
| --- | --- | --- | --- |
| 基础值类型 | 整数（uint/int） | uint8~uint256（无符号）、int8~int256（有符号），默认 uint=uint256；0.8 + 版本默认检查溢出，无需手动引入 SafeMath |   |
|   | 布尔（bool） | 取值 true/false，支持 &&、 | 、! 逻辑运算，常用于条件判断 |
|   | 地址（address） | 20 字节以太坊账户标识；address payable 支持 ETH 转账（transfer/send/call），普通 address 仅可查询余额 |   |
|   | 字节（bytes） | bytes1~bytes32（固定长度，Gas 成本低）、bytes（动态长度），适合存储二进制数据（如哈希、签名） |   |
|   | 字符串（string） | 动态长度 UTF-8 字符串，本质是 bytes 封装，Gas 成本高于固定长度 bytes |   |
| 引用类型 | 数组（array） | 固定数组（uint [5]）、动态数组（uint []）；支持 push/pop/ 长度获取，越界访问会触发异常 |   |
|   | 映射（mapping） | key-value 键值对（如mapping(address => uint256) balanceOf），仅支持值查询，无原生遍历功能（需额外维护索引） |   |
|   | 结构体（struct） | 自定义复合类型（如struct User { address addr; uint256 score; }），可嵌套使用，适合封装关联数据 |   |
| 特殊类型 | 枚举（enum） | 自定义枚举值（如enum Status { Pending, Completed }），默认从 0 索引，提升代码可读性 |   |

### 4\. 函数：合约逻辑的核心执行单元

函数是 Solidity 合约的交互入口，定义了合约的可执行逻辑：

**基本格式：**`function 函数名(参数类型 参数名) 可见性 修饰器 returns (返回类型) { 逻辑 }`；

**可见性控制（核心）：**

-   **public：**内部 / 外部均可调用（自动生成 getter 函数）；
    
-   **private：**仅当前合约内部调用；
    
-   **internal：**当前合约 + 继承合约调用；
    
-   **external：**仅外部账户 / 合约调用（Gas 成本更低）；
    
-   **修饰器（modifier）：**复用通用逻辑（如权限校验），示例：
    
    `modifier onlyAdmin() { require(msg.sender == admin, "Not admin"); _; // "_"表示执行函数主体逻辑 }`
    

**特殊函数：**

-   **receive：**仅接收 ETH 时触发（`receive() external payable {}`），无参数、无返回值；
    
-   **fallback：**调用不存在的函数 / 接收 ETH 且无 receive 时触发，处理非常规交互。
    

### 5\. 合约基础特性

**状态变量：**链上持久化存储，修饰符包括 **public/private/internal、constant**（编译期定值）、**immutable**（部署期定值）；

事**件（event）：**记录链上日志（Gas 成本低），支持`indexed`关键字（最多 3 个）实现日志过滤，供前端 / 链下系统查询；

**错误处理：**0.8 + 推荐自定义错误（`error InsufficientBalance(uint256 balance, uint256 required)`）替代 require 字符串，大幅降低 Gas 成本；

**核心指令：**

-   **require：**校验业务条件，失败则回滚并退还剩余 Gas；
    
-   **revert：**主动触发回滚，可配合自定义错误；
    
-   **assert：**仅用于内部逻辑校验，失败则消耗全部 Gas。
    

### 6\. 面向对象特性与 0.8 + 新特性

**继承：**通过**is**关键字实现，支持单继承 / 多继承，**super**关键字解决多继承歧义；

**接口（interface）：**仅定义函数签名，无实现（如`interface IERC20 { function transfer(address to, uint256 amount) external returns (bool); }`），用于标准化交互；

**库（library）：**无状态变量的可复用代码模块，支持`using Library for Type`语法（如`using SafeMath for uint256`）；

**瞬态存储（transient）：**0.8.18 + 新增，标记的变量仅在当前交易执行期间保留，交易结束后重置，不占用持久化存储，降低 Gas 成本（适用于临时计算数据）。

## 二、Solidity 进阶：

进阶阶段聚焦 “理解为什么”，穿透语法表层，掌握合约在 EVM 中的运行逻辑、底层交互机制与性能优化方法，是从 “会写” 到 “写好” 的核心跨越。

### 1\. 事件和日志机制

-   **核心作用：**EVM 将事件写入区块链日志（Log），不影响合约状态，但可永久存储且 Gas 成本低；用于前端状态更新、链下审计、合规溯源；
    
-   **日志结构：**包含主题（topics，`indexed`参数）和数据（data，非 indexed 参数），topics 支持快速过滤，data Gas 成本低但不可过滤；
    
-   **实战价值：**合约中触发事件 → 前端通过 Ethers.js/Web3.js 监听 → 实时更新 UI（如转账后刷新余额）。
    

### 2\. ABI 编码和解码

ABI（Application Binary Interface）是合约与外部交互的标准格式，定义了函数签名、参数 / 返回值的编码规则：

-   **编码函数：**
    
    -   **abi.encode：**标准编码（保留类型信息），适合合约间调用；
        
    -   **abi.encodePacked：**紧凑编码（无类型信息，Gas 成本低），易产生哈希碰撞；
        
    -   **abi.encodeWithSignature：**按函数签名编码（如`transfer(address,uint256)`），简化调用；
        
-   **解码函数：**`abi.decode`将二进制数据解码为 Solidity 类型，示例：
    
    `(address to, uint256 amount) = abi.decode(data, (address, uint256));`
    
-   **核心用途：**合约间调用传参、离线签名数据解析、链下系统交互。
    

### 3\. 合约间调用：call/delegatecall/staticcall

合约间调用是 EVM 生态的核心交互方式，三种方式差异显著（决定了调用的安全性与适用场景）：

| 调用方式 | 核心逻辑 | Gas 控制 | 核心风险 | 适用场景 |
| --- | --- | --- | --- | --- |
| call | 调用目标合约函数，使用目标合约的存储 /msg.sender/msg.value | 手动指定（target.call{gas: 100000, value: 1 ether}(data)） | 重入攻击、返回值未检查 | 通用合约调用、ETH 转账 |
| delegatecall | 调用目标合约代码，使用当前合约的存储 /msg.sender/msg.value | 同 call | 存储布局不匹配导致逻辑错误、重入攻击 | 代理合约、库函数调用 |
| staticcall | 只读调用，不修改合约状态 | 同 call | 无（只读操作） | 查询目标合约状态（如余额、持仓） |

-   **关键准则：**call/delegatecall 必须检查返回值（`(bool success, ...) = target.call(...); require(success, "Call failed");`）。
    

### 4\. 合约创建：create 和 create2

-   **create**（常规创建）：通过`new Contract(参数)`创建，地址由部署者地址 + nonce 计算（`address = keccak256(rlp.encode(deployer, nonce))[-20:]`）；
    
-   **create2**（确定性创建）：通过`CREATE2` opcode 创建，地址由部署者地址 + salt + 初始化代码哈希计算，可**预计算地址**（未部署也能确定地址）；
    
-   **核心场景：**create2 适用于闪电贷、原子交换、代理合约升级等需要地址确定性的场景。
    

### 5\. 存储布局与 Gas 优化

EVM 存储按 “槽（slot）” 划分（每个 slot 32 字节），Gas 成本：存储写入（~20000 Gas）> 内存操作（~3 Gas）> 栈操作（~0 Gas），优化核心是减少存储操作：

-   **存储布局规则：**状态变量按声明顺序填充 slot，小类型可打包（如 uint128+uint128 占用 1 个 slot）；mapping / 动态数组的实际数据存储在独立 slot；
    
-   **Gas 优化技巧：**
    
    1.  打包存储变量（减少 slot 占用）；
        
    2.  用`calldata`（只读）替代`memory`（复制）作为函数参数；
        
    3.  用事件替代非必要存储；
        
    4.  避免无上限循环（易触发 Gas 耗尽）。
        

### 6\. 代理合约模式（可升级合约）

代理合约实现 “存储与逻辑分离”，解决合约部署后不可篡改的问题：

-   **透明代理：**管理员调用逻辑合约，普通用户调用代理合约，避免函数签名冲突；
    
-   **UUPS 代理：**逻辑合约内置升级函数，代理合约无升级逻辑，Gas 成本更低（当前主流）；
    
-   **核心风险：**升级权限需严格控制（多签 / 时间锁），升级后逻辑合约不可修改存储变量顺序 / 类型。
    

### 7\. 数字签名和验证

基于椭圆曲线加密（ECDSA）实现 “链下签名、链上验证”，避免私钥暴露：

-   **核心流程：**用户私钥签名数据 → 合约通过`ecrecover`恢复签名者地址 → 验证身份；
    
-   **示例代码：**
    
    `function verify(bytes32 msgHash, uint8 v, bytes32 r, bytes32 s, address signer) public pure returns (bool) { address recovered = ecrecover(msgHash, v, r, s); return recovered == signer; }`
    

学习笔记链接：
<!-- DAILY_CHECKIN_2026-01-15_END -->

# 2026-01-14
<!-- DAILY_CHECKIN_2026-01-14_START -->




## 一、EVM 与 Gas 机制

### 核心结论

EVM（以太坊虚拟机）是以太坊的执行引擎，负责解析执行智能合约字节码，维护链上状态；Gas 机制通过计算资源计价与限额防止网络滥用，是保障网络安全、效率与经济可持续性的核心，两者共同支撑以太坊 “世界计算机” 的稳定运行。

### 关键知识点

**1、EVM 核心构成**

①全局状态（World State）：记录所有账户的 nonce、balance、codeHash、storageRoot，以 Merkle-Patricia Trie 组织。

②执行环境：栈（Stack，深度上限 1024，用于算术运算）、内存（Memory，临时数据存储，执行后销毁）、存储（Storage，永久状态存储，Gas 成本最高）。

③操作码（Opcodes）：EVM 指令集，如 ADD（加法）、SSTORE（写入存储）、CALL（外部调用），每条指令有固定 Gas 成本。

④执行上下文：包含 msg.sender（调用者）、msg.value（附带 ETH）、gasLeft（剩余 Gas）等，决定合约执行权限与资源限额。

**2、EVM 执行流程**

①部署阶段：EOA 发起创建交易→EVM 执行 init code→初始化 storage→写入 runtime code→生成合约账户。

②调用阶段：接收 calldata（函数选择器 + 参数）→解析函数→执行字节码→操作栈 / 内存 / 存储→触发事件→返回结果。

③异常处理：执行失败（如 Gas 耗尽、revert）时，状态全部回滚，已消耗 Gas 不退还，防止资源滥用。

**3、Gas 机制细节**

①Gas 定义：计算资源计量单位，用于衡量交易 / 合约调用的资源消耗，避免无限循环与 DoS 攻击。

②费用构成（EIP-1559 后）：实际费用 = GasUsed×(BaseFee+PriorityFee)，BaseFee 由协议自动调整并销毁，PriorityFee 为验证者小费。

③单位换算：1 ETH=10¹⁸ Wei，1 Gwei=10⁹ Wei，Gas 价格通常以 Gwei/Gas 表示，如 20 Gwei/Gas 即 20×10⁹ Wei/Gas。

④opcode Gas 成本：算术运算（如 ADD）约 3 Gas，内存操作（如 MLOAD）约 3-300 Gas，存储写入（SSTORE）约 20000 Gas，外部调用（CALL）约 700 Gas 起步。

**4、Gas 优化策略**

①存储优化：合并存储写入（先在内存计算再批量写入）、打包小变量到同一存储槽（如 uint128+uint64+bool）、用事件替代非关键存储。

②数据位置：外部函数参数用 calldata（只读不复制），重复读取的 storage 变量缓存到 memory。

③代码优化：使用 constant/immutable 变量（不占存储）、避免无上限循环、采用库合约复用逻辑、开启编译器优化（Solc optimizer）。

④链上链下分工：将遍历、统计等重计算移至链下，链上仅验证结果（如 Merkle 证明）。

⑤网络选择：优先在 L2（如 Arbitrum、Optimism）部署，利用 blob 交易降低数据成本。

**5、关键升级影响**

①London 升级（EIP-1559）：引入 BaseFee 销毁机制，费用可预测性提升，ETH 具备通缩潜力。

②Dencun 升级（EIP-4844）：引入 blob 交易，降低 L2 数据存储成本，间接减少 L2 合约调用 Gas 费。

③EIP-6780：限制 SELFDESTRUCT 功能，仅在合约创建同交易中生效，避免状态滥用。

## 二、共识机制与生态展望

### 核心结论

以太坊历经 PoW 到 PoS 的共识转型，通过合并、Dencun 等升级构建 “Rollup 为中心” 的扩容路线，生态聚焦 DeFi、NFT、Layer2 三大核心赛道，未来将通过 Danksharding、Verkle 树进一步提升扩展性，ETH 经济模型趋向通缩，机构参与度与跨链互操作性持续提升。

### 关键知识点

**1、共识机制演进**

①PoW（工作量证明）：早期共识，矿工通过算力竞争出块，能耗高，2022 年合并后停用，Ethash 算法为内存密集型，抑制 ASIC 垄断。

②The Merge（合并）：2022 年 9 月实施，将执行层（主网）与共识层（信标链）合并，PoS 取代 PoW，能耗降 99.95%，为扩容铺路。

③PoS（权益证明）：验证者质押≥32 ETH 参与出块，通过 Slashing 惩罚双签、环绕投票等作恶行为，奖励包括共识层 ETH 增发 + 执行层小费 + MEV。

④最终性（Finality）：通过 Casper FFG 机制，区块经足够验证者投票后达成最终确认，不可回滚。

**2、扩容路线图**

①Rollup 为中心：Optimistic Rollup（乐观式，如 Optimism）与 ZK Rollup（零知识，如 zkSync）承接大部分交易，L1 负责结算与数据可用性。

②Proto-Danksharding（EIP-4844）：2024 年 Dencun 升级引入，支持 blob 交易，为 L2 提供廉价临时数据空间，L2 交易费降低 90%。

③Danksharding：未来升级方向，引入数据可用性采样（DAS），验证者随机抽样验证 blob 数据，无需下载全部数据，进一步提升 L2 数据容量。

④Verkle 树：替换当前的 Merkle-Patricia Trie，缩小状态证明体积，支撑无状态客户端，降低节点存储压力。

**3、生态核心亮点**

①DeFi：流动质押（Lido）、再质押（EigenLayer）、RWA（国债代币化）成为增长动力，BlackRock 等传统机构入局发行链上基金。

②NFT：从 PFP 投机转向实用场景，包括游戏资产（Axie Infinity）、品牌会员（奢侈品牌数字藏品）、凭证化资产（POAP 出席凭证）。

③Layer2：Arbitrum、Optimism、Base 等 Rollup 日活与交易量持续增长，Dencun 升级后费用进一步降低，成为应用部署首选。

④社交与 DAO：去中心化社交协议（Lens Protocol、Farcaster）、DAO 治理（Uniswap DAO）、公共物品资助（Gitcoin Grants）生态成熟。

**4、ETH 经济模型**

①发行机制：PoS 下年增发约 60-70 万 ETH，通胀率 0.5% 左右，远低于 PoW 时代的 4-4.6%。

②销毁机制：EIP-1559 下 BaseFee 销毁，高链上活动时销毁量超过发行量，呈现净通缩。

③价值支撑：Gas 费收入、质押收益、生态应用需求构成 ETH 核心价值，机构质押与 RWA 上链提升长期需求。

**5、未来发展方向**

①技术升级：Pectra 升级（2025 年）将推进账户抽象、EOF（EVM 对象格式）、验证者质押上限提升（从 32 ETH 到 2048 ETH）。

②生态扩展：跨链互操作性（LayerZero、CCIP）、隐私保护（零知识证明）、AI+DeFi（智能策略代理）成为创新方向。

③治理与合规：EIP 流程优化、机构合规工具完善、RWA 监管框架落地，推动以太坊生态规范化。

学习笔记链接：[https://www.notion.so/Week1Day3-2e712f0b8b2780f192aeff6d6a5eb4b7?source=copy\_link](https://www.notion.so/Week1Day3-2e712f0b8b2780f192aeff6d6a5eb4b7?source=copy_link)
<!-- DAILY_CHECKIN_2026-01-14_END -->

# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->






# 基础概念了解回顾——Week1Day2

## 一、网络结构与节点类型

### 核心结论

以太坊网络由分布式节点通过 P2P 协议构成，节点需同时运行执行客户端与共识客户端（合并后），按功能分为全节点、轻节点、归档节点，通过节点发现、加密通信、数据同步机制保障去中心化与数据一致性，是以太坊安全与抗审查性的基础。

### 关键知识点

**1、节点与客户端软件**

①节点定义：运行以太坊客户端并连接其他节点的计算机，是网络的核心组成单元。

②客户端分类：合并后需同时运行执行客户端（EL，如 Geth、Nethermind）和共识客户端（CL，如 Lighthouse、Prysm），通过 Engine API 协同。

③执行客户端功能：处理交易、执行 EVM 逻辑、维护账户状态、提供 JSON-RPC 接口（eth\_\*）。

④共识客户端功能：管理 PoS 共识、区块提议与投票、跟踪验证者状态、维护信标链视图。

⑤验证者客户端：作为共识客户端插件，管理验证者密钥，参与区块提议与投票，需质押≥32 ETH。

**2、节点间通信机制**

①节点发现：基于 UDP+Kademlia 协议，新节点通过引导节点（boot nodes）获取邻居列表，通过 Ping/Pong 确认在线状态，FindNode 请求邻居地址。

②连接建立：通过 TCP 建立稳定连接，RLPx 协议实现加密通信与多路复用，在单一 TCP 通道上承载区块同步、交易传播等子协议。

③数据传播：采用 Gossip 协议，节点收到新交易 / 区块后随机转发给少数邻居，实现秒级全网扩散；历史数据通过点对点请求 - 响应模式按需拉取。

**3、节点同步模式**

①Full Sync（全同步）：从创世块逐块执行所有交易，重建状态，最安全但耗时数天，适合审计场景。

②Snap Sync（快照同步）：下载最新区块头 + 状态快照，并发填充状态数据，数小时到 1 天完成，为全节点默认模式。

③Light Sync（轻同步）：仅下载区块头，依赖全节点提供数据证明，适合资源受限设备。

**4、关键技术细节**

①合并后客户端协同：共识客户端通过 Engine API 向执行客户端请求区块 payload，执行客户端执行交易后返回结果，共识客户端打包并广播区块。

②Gossip 协议价值：去中心化传播，容错性强，单个节点离线不影响全网同步，传播延迟低（秒级）。

③节点搭建流程：选择节点类型→配置硬件（全节点需 1TB SSD+16GB 内存）→安装 EL+CL 客户端→选择同步模式→开启 RPC 接口→配置防火墙与监控。

## 二、账户类型与结构

### 核心结论

以太坊账户分为 EOA（外部拥有账户）和合约账户两类，EOA 由私钥控制，可主动发起交易；合约账户由代码驱动，被动响应调用，两者通过地址（0x 开头 20 字节）标识，共同支撑链上资产流转与逻辑执行。

### 关键知识点

**1、EOA（外部拥有账户）**

①定义：由公私钥对控制的账户，无内置代码，可主动发起交易（转账、调用合约），持有 ETH 与各类代币。

②核心字段：地址（公钥派生）、nonce（交易计数器，防止重放攻击）、balance（ETH 余额，以 wei 为单位）、code/storage（均为空）。

③控制方式：私钥签名交易，验证者通过公钥验证签名合法性；助记词（BIP-39）派生私钥，支持多地址管理；MetaMask 等钱包通过本地加密存储私钥 / 助记词。

④安全要点：私钥 / 助记词泄露即资产丢失，无找回机制；硬件钱包可提升私钥安全性，避免联网暴露。

**2、合约账户**

①定义：无私钥，由部署的 EVM 字节码决定行为，有独立地址、balance、code（运行时代码）、storage（状态变量存储）。

②创建流程：EOA 或工厂合约发起创建交易（to 字段为空，data 字段为 init code + 构造函数参数）→EVM 执行 init code→生成 runtime code 并写入链上→初始化 storage→生成合约地址。

③地址计算：CREATE 方式由 “部署者地址 + nonce” 决定，公式为 keccak256 (RLP (\[sender, nonce\])) 后 20 字节；CREATE2 方式由 “部署者地址 + salt+keccak256 (init code)” 决定，支持地址预计算。

④核心限制：不能主动发起交易，仅能被 EOA 或其他合约调用；代码默认不可篡改，可通过代理模式实现升级。

**3、地址与账户交互**

①地址格式：以 “0x” 开头的 40 位十六进制字符串（20 字节），0x 前缀为十六进制标识，符合编程界传统。

②EIP-55 校验和：混合大小写标识地址，通过大小写模式校验输入正确性，降低手动输入错误风险。

③账户交互机制：EOA 通过交易调用合约（指定 to 地址 + calldata）→EVM 加载合约代码→执行函数逻辑→更新 storage / 余额→触发事件；合约间通过 call/delegatecall/staticcall 实现内部调用，共享同一交易的 Gas 限额。

**4、代币与账户的关系**

①ERC-20 代币：通过合约账户的 mapping 存储余额（mapping (address=>uint256)）与授权额度，转账本质是调用合约 transfer/transferFrom 函数，更新存储状态。

②ERC-721 代币：通过 mapping (uint256=>address) 记录 tokenId 与所有者映射，支持唯一资产确权（如数字艺术品）。

③代币操作流程：EOA 发起交易→调用代币合约函数→合约验证权限 / 余额→更新存储→触发 Transfer 事件→区块浏览器记录交易。

## 三、智能合约理论基础

### 核心结论

智能合约是部署在链上的 “代码 + 状态” 组合，通过 Solidity 等语言编写、EVM 执行，具备自动执行、公开透明、不可篡改特性，是以太坊应用生态的核心载体，开发流程涵盖编写、编译、部署、调用，需重点关注安全漏洞防范。

### 关键知识点

**1、智能合约核心特性**

①自动执行：满足预设条件（if…then… 逻辑）即触发，无需第三方干预，如时间锁账户（满 18 岁可提取资金）。

②结果确定性：相同输入在任意节点执行结果一致，保障共识一致性。

③公开透明：代码与执行记录全网可见，支持链上审计与验证。

④不可篡改：部署后代码默认不可修改，可通过代理模式（Proxy）实现功能升级。

⑤假名性：交易绑定地址而非实名，链上行为可追踪，隐私需额外设计（如零知识证明）。

**2、Solidity 语言特性**

①适配 EVM：专为 EVM 设计，编译后生成字节码，支持所有链上资源操作（存储、Gas、事件）。

②核心特性：静态类型、面向对象（继承、接口、抽象合约）、支持结构体 / 映射 / 枚举、图灵完备。

③生态支持：配套 Hardhat/Foundry 开发框架、OpenZeppelin 安全库、Remix 浏览器 IDE，工具链成熟。

④安全增强：0.8.0 + 版本默认整数溢出检查，支持自定义错误（error 类型），降低漏洞风险。

⑤学习路径：基础概念→官方文档 + Remix 实操→Hardhat/Foundry 工具使用→安全漏洞学习→项目实战（如 ERC-20 代币开发）。

**3、合约编译与部署**

①编译产物：init code（部署时执行，含构造函数）、runtime code（链上运行代码）、ABI（JSON 格式接口描述，含函数 / 事件参数）、metadata（编译器版本、源码哈希）。

②部署流程：编写代码→编译生成字节码 + ABI→EOA 发起创建交易（支付 Gas）→EVM 执行 init code→写入 runtime code 与初始 storage→返回合约地址。

③部署成本：Gas 消耗 = 基础交易成本（21000 Gas）+CREATE 指令成本（32000 Gas）+ 字节码存储成本（200 Gas / 字节）+ 构造函数执行成本，总费用 = GasUsed×(BaseFee+PriorityFee)。

**4、常见安全漏洞与防范**

①重入攻击：通过 CEI 模式（Checks→Effects→Interactions）、ReentrancyGuard 修饰符、Pull-Payment 提现模式防范。

②整数溢出 / 下溢：使用 Solidity 0.8.0 + 版本（默认检查），必要时用 unchecked 块优化 Gas。

③访问控制错误：采用 Ownable/AccessControl 管理权限，禁止使用 tx.origin 鉴权，关键操作搭配多签 + 时间锁。

④预言机操控：使用 Chainlink 等去中心化预言机，采用 TWAP（时间加权平均价格），设置滑点限制。

**⑤**Gas 耗尽攻击：避免无上限循环，使用 call 而非 transfer/send 发送 ETH，检查返回值。

⑥可升级合约风险：采用 OpenZeppelin Proxy 模板，严格遵守存储布局规则，升级权限交由多签 + 时间锁控制。

**5、部署与调试工具**

①Remix IDE：浏览器端 IDE，支持编写、编译、部署、调试，适合入门与快速原型。

②Hardhat：Node.js 开发框架，支持脚本化部署、主网 fork 测试、Gas 报告，插件生态丰富。

③Foundry：Rust 编写的开发工具链，支持 Solidity 原生测试、模糊测试（fuzzing）、高速编译，适合协议级开发。

④Tenderly：云端调试平台，支持交易回放、断点调试、主网 fork 模拟，适合复杂合约调试。  
学习笔记链接：[https://www.notion.so/Week1Day2-2e712f0b8b27806b811ffe871e854f1b?source=copy\_link](https://www.notion.so/Week1Day2-2e712f0b8b27806b811ffe871e854f1b?source=copy_link)
<!-- DAILY_CHECKIN_2026-01-13_END -->

# 2026-01-12
<!-- DAILY_CHECKIN_2026-01-12_START -->













# 基础概念了解回顾——Week1Day1

## 一、Web3的历史与发展：

Web1.0：静态网页时代，网页主要是HTML构成，网站的内容由服务器生成，浏览器负责展示，内容是静态的，用户交互有限；

Web2.0：随着JavaScript的普及和Ajax技术的发展，Web应用开始变得更加动态和交互性强，内容是动态的，但是数据都集中在一个平台的数据库中，用户并不拥有这些数据。这个时代的特点是用户参与度高，社交网络、博客和论坛等应用兴起。

Web3.0：第三代互联网可以说是Web 1.0和Web 2.0相结合，就形成了Web3的数字化生态，在其中用户可以真正拥有自己的数据，并且交易受到了加密技术保障。

### **解决疑惑：**

**1、什么是Web3**

在Web3中，互联网应用和服务不再依赖于中心化的服务器和数据库，而是通过区块链、去中心化存储、智能合约等技术，赋予用户对数据、身份和价值交换的完全控制权。可以理解为去中心化和数据所有权回归用户。

**2、Web2和Web3的区别**

**①所有权上**，Web2是你的所有数据存储在第三方平台上，用户隐私存在一定风险，而Web3利用区块链的加密和分布式账本技术，用户数据归个人所有，只有在用户授权的情况下才能被使用，极大地保障了用户的隐私和数据主权。

**②中心化程度上**，Web2高度中心化，平台拥有绝对的控制权和规则制定权。Web3去中心化的架构，减少了对中心化机构的依赖，平台规则由社区共同制定和维护。

**3、如何理解去中心化**

去中心化是指将原本由单一中心化机构或个人控制和管理的权力、资源和决策权，分散到更多的节点或个体中，实现权力的分权和资源的分散。通俗地讲，在“去中心化”的世界里，每一个人都会是一个节点，任何人也都有可能成为一个中心。

## 二、区块链的基础概念

区块链是一种去中心化的分布式账本技术，具有不可篡改、安全透明等特点，在金融、供应链、医疗等多个领域有着广泛的应用前景。

### **1、分布式账本**

定义：分布式账本是区块链的核心概念之一，它是一种在多个节点之间共享、复制和同步的账本，而非存储在单一的中心化服务器上。网络中的每个节点都拥有完整或部分的账本副本，所有副本在经过共识机制验证后保持一致。

**特点：**

①去中心化：没有单一的控制中心，所有节点地位平等，共同参与账本的维护和管理，降低了因单点故障或中心化机构出现问题带来的风险。

②不可篡改：一旦数据被记录在分布式账本上，要想篡改就需要控制网络中大部分节点，成本极高，几乎不可能实现，保证了数据的真实性和完整性。

③透明性：网络中的所有节点都可以查看账本上的交易记录，数据对所有人公开，使得交易过程可追溯、可审计，增加了信任度。

### **2、共识机制**

定义：共识机制是区块链网络中节点之间就区块数据的有效性和顺序达成共识的规则和算法。它确保了分布式账本的一致性和安全性，使得不同节点能够在没有中心化机构协调的情况下，对区块链的状态达成一致意见。

**常见类型：**

①工作量证明（PoW）：节点需要通过进行复杂的数学运算来竞争记账权，谁先找到符合条件的解，谁就可以将新的区块添加到链上。比特币就采用了 PoW 机制，这种方式虽然保证了安全性，但能耗较高。

②权益证明（PoS）：根据节点持有的加密货币数量和时间来分配记账权，持有权益越多、时间越长的节点，获得记账权的概率越大。与 PoW 相比，PoS 能耗较低，且效率相对较高。

### **3、节点**

定义：节点是区块链网络中的参与主体，可以是个人电脑、服务器等设备。每个节点都具有独立的运算和存储能力，它们通过网络连接在一起，共同构成了区块链网络。

**分类：**

①全节点：存储了区块链的完整账本数据，能够独立验证交易和区块的合法性，参与共识过程，对区块链网络的安全和稳定起着重要作用。

②轻节点：只存储了区块链的部分数据，通常依赖全节点来获取完整的区块链信息，进行交易验证等操作。轻节点占用的存储空间较小，适用于资源有限的设备，如手机等。

③矿工节点：主要负责参与区块链的共识过程，通过计算来竞争记账权，将新的交易记录打包成区块添加到区块链上，并获得相应的奖励。在采用 PoW 等共识机制的区块链网络中，矿工节点是保证网络安全和运行的关键力量。

### 4、比特币（BTC）

定义：总的来说，比特币是一种奖励网络节点服务提供商的代币激励，因比特币的设计、有限的供应量和能够自由转账交易而具备货币的属性，成为了一种加密货币。

### 5、行业赛道

**分类：**

**①DeFi，全称为 Decentralized Finance（去中心化金融）。**

DeFi是基于区块链技术建立的金融体系，目标是提供不依赖传统银行或金融中介的服务，比如借贷、交易、支付等，让每个人都可以自由参与，无需审批、无需信任中介机构。

**②NFT，本质是数字资产的唯一性和所有权。**

NFT 通过区块链技术解决了“所有权”模糊这一问题。每个 NFT 代表一个唯一的数字资产，并且在区块链上存有不可篡改的记录。**区块链技术**的核心特点是，它是一种去中心化、公开透明的账本，所有交易和所有权信息都被记录在上面。

**③DAO，（Decentralized Autonomous Organization，去中心化自治组织）。**

DAO不依赖传统的公司架构，而是通过智能合约和社区投票来做决策。它不需要一个管理层，所有事情都由持有代币的社区成员共同治理，公开透明。

**④MEME 原意为“迷因”，即网络文化中的梗、表情包、搞笑段子等。**

在加密圈，MEME 通常指那些以网络文化为基础的代币，比如 DOGE（狗狗币）、PEPE（青蛙币）、SHIB（柴犬币）等。

MEME 币的特点通常是“有趣、搞怪、社区驱动”，它们往往缺乏明确的技术价值，但通过强大的社区共识和文化认同获得价值。2024-2025 年，MEME 币市场出现了新的特点：**公平发射**（Fair Launch）、**社区自治**和**实用性整合**成为新趋势。

**⑤交叉创新领域。**

随着 Web3 技术的发展，各个细分领域开始相互融合，产生了许多创新应用。这些跨领域的组合不仅拓展了单一技术的应用边界，还创造了全新的商业模式和用户体验。如“**DeFi + NFT”推动数字资产金融化；“DAO + MEME”形成社区文化与治理融合；“AI + DeFi”提供智能化金融服务；“WEB3 + 乡建”催生南塘 DAO 的探索。**

## 三、以太坊的基础概念

### 1、什么是以太坊

以太坊是一个去中心化、开源、具备智能合约功能的公共区块链平台。其核心是以太坊虚拟机（EVM），这是一个图灵完备的虚拟机，能够执行智能合约代码，使区块链不仅是“记账系统”，更是“可编程的全球结算与应用平台”。

**特点：**

全球性：节点分布全球，无单一控制中心。

可编程性：支持智能合约，可实现复杂业务逻辑。

去中心化：由全球节点共同维护，抗审查、抗单点故障。

### 2、以太坊的核心机制

**①智能合约**

智能合约是存储在以太坊区块链上的一段程序代码，由全网节点共同验证和执行。它是以太坊从“记账系统”升级为“可编程全球结算平台”的关键。

**特点：**

**自动执行**：一旦部署，只要满足触发条件，代码将无条件执行。

**不可篡改**：部署后的合约代码默认不可修改，确保了规则的公正性。

**公开可验证**：所有执行逻辑和状态变更都记录在链上，任何人可以审计。

**②共识机制：权益证明（PoS）**

自2022年“合并”（The Merge）后，以太坊从工作量证明（PoW）完全转向PoS，验证者需质押≥32 ETH，通过投票机制出块，恶意行为会被惩罚（Slashing），能耗相比PoW降低约99.95%。

**③Gas 机制**

Gas是以太坊用于衡量和支付计算与存储资源的单位。所有链上操作（转账、调用合约等）都会消耗Gas，以防止网络资源被滥用。

**④账户模型**

EOA（外部拥有账户）：由私钥控制，可主动发起交易。

合约账户：由代码控制，不可主动发起交易，只能被调用。

### 3、以太坊的生态概览

**①DeFi（去中心化金融）**

在各类借贷协议（如抵押 ETH 借稳定币）、衍生品协议、流动性池（AMM/LP）、RWA里，ETH 都是使用最广泛、信用最好、流动性最强的底层资产之一；

**②NFT（非同质化代币）**

绝大多数 NFT （艺术、收藏品、游戏道具、虚拟土地等）的铸造与交易，仍主要以 ETH 计价与结算；

**③DAO（去中心化自治组织）**

DAO已成为Web3项目标准的治理框架。重点从“是否去中心化”转向治理效率、参与度、法律合规与抗攻击能力的优化。如Uniswap DAO、Aave DAO，负责管理协议参数、国库资金（数亿至数十亿美元规模）和升级决策，实现了“协议即组织”。

**④Layer 2 扩容方案**

以太坊确立了“以Rollup为中心”的扩容路线图，L2负责执行，L1负责安全和数据可用性。现在绝大多数用户交易已迁移至L2。L2的TPS总和已达到每秒数万笔，费用低廉，已成为新应用部署的首选。以太坊主网正在成为“结算层”和“数据可用性层”。

### 4、以太坊的价值观

**核心价值观：**

**①去中心化治理（Decentralization）**

**②无需许可与开放性（Permissionless & Open）**

**③抗审查性（Censorship Resistance）**

**④密码朋克精神（Cypherpunk Ethos）**

**⑤公共物品导向（Public Goods Orientation）**

**⑥可持续发展理念**

这些价值观不仅塑造了以太坊的技术发展方向，也形成了独特的社区文化，吸引了全球开发者、研究者和用户的参与。

学习笔记链接：[https://www.notion.so/Week1Day1-2e612f0b8b2780339d5fcbca60cc0b11?source=copy\_link](https://www.notion.so/Week1Day1-2e612f0b8b2780339d5fcbca60cc0b11?source=copy_link)
<!-- DAILY_CHECKIN_2026-01-12_END -->
<!-- Content_END -->
