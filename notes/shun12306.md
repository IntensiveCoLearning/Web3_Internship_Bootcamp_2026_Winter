---
timezone: UTC+8
---

# shun12306

**GitHub ID:** shun12306

**Telegram:** @ztensoon

## Self-introduction

Web2-Javaer一枚，对Defi和Agent生态感兴趣。

## Notes

<!-- Content_START -->
# 2026-01-16
<!-- DAILY_CHECKIN_2026-01-16_START -->
## 第三章的核心主线

这一章主要围绕 **3 个关键问题**展开：

1️⃣ 以太坊里有哪些账户类型  
2️⃣ 它们如何被控制、能做什么、不能做什么  
3️⃣ 钱包、代币、合约，本质上和账户是什么关系

* * *

## 一、以太坊账户模型：与比特币完全不同

### 1️⃣ 账户模型（Account Model）

-   以太坊使用的是 **账户模型**
    
-   每个账户都有：
    
    -   地址（address）
        
    -   余额（balance）
        
    -   状态（state）
        
-   所有账户共同构成一个 **全局状态机**
    

👉 这是和比特币 **UTXO 模型** 的根本差异  
👉 也是以太坊能“跑程序”的前提

* * *

## 二、两大账户类型（全章最重要）

以太坊只有 **两种账户**，但非常关键：

* * *

### 1️⃣ 外部拥有账户（EOA, Externally Owned Account）

**核心特征**

-   由 **私钥控制**
    
-   可以：
    
    -   主动发起交易
        
    -   转账 ETH
        
    -   调用合约
        
-   没有代码，只有：
    
    -   nonce
        
    -   balance
        

**典型代表**

-   你的 MetaMask 钱包地址
    
-   交易所给你的充值地址
    

👉 **EOA = 人类 / 钱包的“入口身份”**

* * *

### 2️⃣ 合约账户（Contract Account）

**核心特征**

-   由 **代码控制**
    
-   不能主动发起交易
    
-   只能：
    
    -   被调用
        
    -   在调用过程中“被动执行”
        
-   有：
    
    -   代码（bytecode）
        
    -   storage（状态变量）
        

**典型代表**

-   ERC20 合约
    
-   NFT 合约
    
-   DeFi 协议合约
    

👉 **合约账户 = 程序本身**

* * *

## 三、EOA vs 合约账户（必须形成对比认知）

| 对比点 | EOA | 合约账户 |
| --- | --- | --- |
| 是否有私钥 | ✅ | ❌ |
| 是否有代码 | ❌ | ✅ |
| 能否主动发交易 | ✅ | ❌ |
| 控制方式 | 私钥签名 | 合约逻辑 |
| 典型用途 | 钱包 / 用户 | 协议 / 规则 |

**关键结论：**

> **只有 EOA 才能“点火”发起交易**  
> 合约只能在交易执行过程中被触发

这是理解一切交互的底层规则。

* * *

## 四、地址为什么都是 0x 开头？

这一节帮你消除“看起来很神秘，其实很工程”的误解。

### 1️⃣ 地址的本质

-   以太坊地址是：
    
    -   公钥的 Keccak256 哈希
        
    -   取后 20 字节
        
-   用 **16 进制表示**
    
-   所以以 `0x` 开头
    

👉 **地址不是“账户本身”，而是账户的标识**

* * *

## 五、谁能发起交易？（考试级重点）

书中专门强调了一点：

> **只有 EOA 可以主动发起交易**

原因：

-   交易必须签名
    
-   签名只能来自私钥
    
-   合约没有私钥
    

所以你看到的：

-   合约转账
    
-   合约调用合约
    

本质上都是：

> **EOA → 合约 → 合约**

* * *

## 六、合约账户里的“钱”和“状态”

### 1️⃣ 合约账户也可以有余额

-   可以持有 ETH
    
-   可以持有 ERC20 / NFT（逻辑上）
    

### 2️⃣ 合约的“状态”存在哪？

-   存在 **storage**
    
-   属于全局状态的一部分
    
-   每次修改都要消耗 Gas
    

👉 这为后面：

-   Gas
    
-   状态成本
    
-   合约设计  
    埋下伏笔
    

* * *

## 七、EOA 与合约之间如何交互？

这一章解释了最常见、但新手最容易混乱的事情：

### 1️⃣ EOA → 合约

-   最常见
    
-   例如：
    
    -   转账代币
        
    -   调用 DeFi
        
    -   Mint NFT
        

### 2️⃣ 合约 → 合约

-   合约内部逻辑调用
    
-   用于：
    
    -   组合 DeFi
        
    -   协议嵌套
        

### 3️⃣ 合约不能“自己醒来”

-   没有定时器
    
-   没有线程
    
-   必须被外部交易触发
    

👉 **区块链不是后台任务系统**

* * *

## 八、钱包（MetaMask）到底在管理什么？

这是第三章和“现实使用”连接最紧的一部分。

### MetaMask 本质上在做三件事：

1.  管理 **EOA 私钥**
    
2.  帮你 **构造交易**
    
3.  用 JSON-RPC 把交易发给节点
    

钱包 ≠ 存币软件  
钱包 = **私钥 + 交易签名工具**

* * *

## 九、代币（ERC20 / ERC721）和账户的关系

### 1️⃣ 代币不是“账户”

-   代币 = 合约里的数据结构
    
-   余额记录在合约 storage 中
    

### 2️⃣ “我有 100 个 USDT”是什么意思？

> USDT 合约里有一条记录：  
> `balances[你的地址] = 100`

👉 这对理解：

-   授权（approve）
    
-   合约安全
    
-   资产风险  
    非常重要
    

* * *

## 十、合约部署后的不可篡改性

### 1️⃣ 合约一旦部署：

-   地址固定
    
-   代码不可修改
    

### 2️⃣ 为什么这么设计？

-   防止“后门改规则”
    
-   保证用户信任
    

### 3️⃣ 那升级怎么办？

-   代理模式（后面章节会讲）
    
-   新合约 + 迁移
    

👉 **不可篡改 = 信任的代价**
<!-- DAILY_CHECKIN_2026-01-16_END -->

# 2026-01-15
<!-- DAILY_CHECKIN_2026-01-15_START -->

# 1.15 帐户体系
<!-- DAILY_CHECKIN_2026-01-15_END -->

# 2026-01-14
<!-- DAILY_CHECKIN_2026-01-14_START -->


# 1.14

## 一、Web3 合规性要求与法律风险（重点是「别碰刑事红线」）

### 1️⃣ 中国监管总体态度

-   **技术本身不禁止，但金融属性高度敏感**
    
-   明确禁止：
    
    -   ICO / IEO / IDO 等代币融资
        
    -   虚拟货币交易所运营与撮合
        
    -   虚拟货币作为支付工具
        
    -   境外交易平台向中国居民提供服务
        
-   核心基调：  
    👉 **“封堵金融属性 + 有限容忍技术创新”**
    

* * *

### 2️⃣ Web3 常见高风险行为（个人也可能被追责）

**⚠️ 非常重要的一点：程序员、产品、运营都可能是“共犯”**

-   **代币发行 / 空投 / Token 设计**
    
    -   即使叫“积分”“治理 Token”，只要可流通或具融资属性，就可能构成非法金融活动
        
-   **链游 / 抽奖 / 盲盒**
    
    -   “充值 → 随机收益 → 提现”极易被认定为赌博
        
-   **邀请返利 / 多级推广**
    
    -   DAO、矿机、NFT 项目中的层级返利 → 传销风险
        
-   **OTC / 出金 / 换汇**
    
    -   虚拟币作为“桥梁资产” → 非法经营、洗钱、帮信罪风险
        
-   **代投 / 帮人操作账户**
    
    -   民事纠纷 + 刑事风险并存
        

* * *

### 3️⃣ 全球监管趋势（不是放松，而是更清晰）

-   **FATF（反洗钱）**：Travel Rule、KYC、交易监控
    
-   **美国**：SEC / CFTC / 稳定币立法
    
-   **欧盟**：MiCA（全球首个全面监管框架）
    
-   **香港**：VASP 牌照 + 稳定币监管
    

👉 趋势总结：

-   监管 **趋严、趋同**
    
-   合规成本上升
    
-   **长期利好正规项目和从业者**
    

* * *

### 4️⃣ Web3 入职阶段的特殊风险（非常贴近你这种背景）

-   **劳动关系不清晰**
    
    -   境外主体、无劳动合同、无五险一金
        
-   **薪资结构风险**
    
    -   Token / USDT 发工资 ≠ 合法工资
        
-   **出金风险**
    
    -   银行卡冻结、涉诈资金、刑事追责
        
-   **项目合法性**
    
    -   即便是“普通员工”，也可能被牵连调查
        

* * *

### 5️⃣ 典型刑事风险与真实判例

重点提醒：  
👉 **“我只是写代码 / 做产品”并不能免责**

-   开设赌场罪（链游、投注平台）
    
-   非法经营罪（虚拟币换汇、跨境支付）
    
-   非法吸收公众存款罪（矿机、返利）
    
-   组织领导传销罪（多级返佣）
    
-   洗钱罪（虚拟币跨境转移）
    

* * *

## 二、Web3 常见网络安全风险（新手最容易中招）

### 1️⃣ 攻击方式

-   **钓鱼**
    
    -   假面试、假奖学金、假空投
        
-   **木马 / 恶意软件**
    
    -   面试软件、学习资料、破解工具
        
-   **社交工程**
    
    -   冒充 HR、学长、管理员
        
-   **插件 / 供应链攻击**
    
-   **剪贴板劫持**
    
-   **账号劫持（邮箱是核心）**
    

* * *

### 2️⃣ 攻击后果

-   钱包资产被盗（几乎不可追回）
    
-   邮箱 / 社交 / 交易所“全盘沦陷”
    
-   电脑被远控、长期监控
    

* * *

### 3️⃣ 学生版安全防护清单（非常实用）

-   不安装“专用面试软件”
    
-   钱包分级（测试钱包 ≠ 主钱包）
    
-   助记词永不联网
    
-   插件只用官方
    
-   开启 2FA
    
-   转账前核对地址
    
-   定期撤销授权（[Revoke.cash](http://Revoke.cash)）
    

* * *

## 三、真实骗局与高级攻击案例

-   Office 文档木马
    
-   Punycode 域名钓鱼（看起来一模一样）
    
-   假官方邮件 / 假客服
    
-   内部人员作恶
    

核心结论一句话：

> **Web3 是“黑暗森林”，暴露即意味着风险**
<!-- DAILY_CHECKIN_2026-01-14_END -->

# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->



## 1.13第二章一句话总结

> **本章系统讲清楚：以太坊这张“全球网络”是如何由不同类型节点组成、彼此通信、同步数据，并在 PoS 之后由执行层与共识层协作来维持去中心化与安全性的。**

如果第一章是在回答「**以太坊是什么**」，  
那第二章回答的就是：「**以太坊这台世界计算机是怎么联网跑起来的**」。

* * *

## 第二章的核心主线（非常重要）

这一章其实围绕 **3 条主线**展开：

1️⃣ **节点是什么 & 为什么要有节点**  
2️⃣ **不同节点类型的分工与取舍**  
3️⃣ **PoS 合并后：执行层 + 共识层如何协作**

* * *

## 一、以太坊网络的本质：P2P 节点网络

### 1️⃣ 以太坊不是“服务器”，而是“节点网络”

-   网络由**成千上万节点**组成
    
-   没有中心服务器
    
-   节点之间通过 **P2P 网络 + Gossip 协议**通信
    
-   每个节点：
    
    -   验证数据
        
    -   同步区块
        
    -   传播交易
        

👉 **这是去中心化的技术根基**

* * *

### 2️⃣ 客户端 ≠ 节点（这是新手容易混的）

-   **客户端软件**：Geth、Erigon、Nethermind、Besu、Prysm 等
    
-   **节点**：运行这些客户端后的实例
    

就像：

> JVM ≠ Java 程序  
> Geth ≠ 节点本身

* * *

## 二、节点类型：为什么要分全节点 / 轻节点 / 归档节点

这是本章的**重点认知模型**。

* * *

### 1️⃣ 全节点（Full Node）

**特点**

-   保存当前完整状态
    
-   验证所有新区块
    
-   可以独立验证链的正确性
    

**用途**

-   钱包
    
-   dApp 后端
    
-   普通开发者最常用
    

👉 **安全与资源消耗的平衡点**

* * *

### 2️⃣ 轻节点（Light Node / Light Client）

**特点**

-   只保存区块头
    
-   不保存完整状态
    
-   依赖全节点提供证明
    

**用途**

-   钱包
    
-   移动设备
    
-   低资源环境
    

👉 **信任假设稍多，但极轻量**

* * *

### 3️⃣ 归档节点（Archive Node）

**特点**

-   保存 **历史上每一个区块的完整状态**
    
-   数据量极大（几十 TB）
    

**用途**

-   区块浏览器
    
-   链上数据分析
    
-   DeFi/NFT 历史查询
    

👉 **“时间机器级节点”**

* * *

### 4️⃣ 为什么不是所有人都跑归档节点？

-   成本极高
    
-   对普通验证与交易并非必须
    

👉 所以生态中自然形成了**节点分工**

* * *

## 三、为什么开发者 / 机构要自己跑节点？

这一节是在回答一个现实问题：

> **“我直接用 Infura / Alchemy 不香吗？”**

### 1️⃣ 自建节点的核心价值

-   **去信任**
    
-   **抗审查**
    
-   **更稳定、可控**
    
-   **避免 RPC 限流 / 封禁**
    
-   **满足合规或风控要求（机构）**
    

👉 对银行 / 交易所 / 基础设施来说非常重要

* * *

### 2️⃣ 不跑节点也能开发吗？

可以。

所以本章最后专门提到：

-   不跑节点的数据分析方式
    
-   公共 RPC
    
-   索引服务（The Graph 等）
    

👉 **这是现实世界的折中方案**

* * *

## 四、PoS 合并后的关键变化：执行层 vs 共识层

这是第二章**最 Web3-native 的部分**。

* * *

### 1️⃣ 合并之后：一个节点 ≠ 一个程序

以太坊节点拆成了两大模块：

🔹 执行客户端（Execution Client）

负责：

-   EVM 执行
    
-   交易处理
    
-   状态变更
    
-   Gas 计算
    

例如：

-   Geth
    
-   Erigon
    
-   Nethermind
    
-   Besu
    

🔹 共识客户端（Consensus Client）

负责：

-   PoS 共识
    
-   验证者管理
    
-   出块 / 投票
    
-   最终性
    

例如：

-   Prysm
    
-   Lighthouse
    
-   Teku
    
-   Nimbus
    

* * *

### 2️⃣ 两者必须“成对运行”

-   执行层：**怎么执行**
    
-   共识层：**谁来执行、执行是否有效**
    

它们通过标准接口通信（Engine API）

👉 **这是 PoS 架构下的模块化设计**

* * *

## 五、节点同步：为什么“同步”本身就是一件大事

### 1️⃣ 节点同步的目标

-   获得正确的链状态
    
-   不信任第三方
    
-   独立验证历史
    

### 2️⃣ 常见同步模式

-   全同步（Full Sync）
    
-   快照同步（Snap Sync）
    
-   轻同步（Light Sync）
    

👉 同步速度 vs 安全性取舍

* * *

## 六、Gossip 协议：网络如何“活起来”

### 1️⃣ Gossip 的作用

-   节点之间快速扩散信息
    
-   交易、区块像“传谣言”一样传播
    
-   无需中心路由
    

### 2️⃣ 为什么不用“集中广播”？

-   抗审查
    
-   抗故障
    
-   网络自然扩展
    

👉 **这是去中心化网络的生命线**

* * *

## 七、去中心化的“量化保障”：节点数量

-   节点越多 → 越难攻击
    
-   地理分布越分散 → 越抗审查
    
-   多客户端 → 防止单点实现 Bug
    

👉 **以太坊非常强调“客户端多样性”**
<!-- DAILY_CHECKIN_2026-01-13_END -->

# 2026-01-12
<!-- DAILY_CHECKIN_2026-01-12_START -->





## 第一章核心要点总结

### 1️⃣ 以太坊的诞生背景与发展脉络

-   以太坊由 **Vitalik Buterin** 于 2013 年提出，2015 年主网上线
    
-   初衷：**解决比特币“只能转账、不可通用编程”的局限**
    
-   通过白皮书、众筹、基金会等方式发展，逐步形成全球开源社区
    
-   技术路线经历：
    
    -   PoW → PoS（The Merge）
        
    -   多次重要升级（London、Merge、Dencun 等）
        
-   长期愿景：**高安全 + 高去中心化 + 可扩展的通用区块链基础设施**
    

👉 这是在回答：**以太坊不是一蹴而就的，而是一个持续演进的系统**

* * *

### 2️⃣ 以太坊的平台定位：不只是“区块链”，而是“平台”

-   以太坊是：
    
    -   去中心化
        
    -   开源
        
    -   支持 **智能合约**
        
-   核心在于 **EVM（以太坊虚拟机）**
    
    -   让区块链具备“运行程序”的能力
        
-   从“记账系统”升级为：
    
    > **全球共享、可编程的结算与计算平台**
    

👉 这是与比特币最本质的差异之一

* * *

### 3️⃣ ETH（以太币）的三重角色

ETH 并不只是“币价资产”，而是系统内的**核心生产要素**：

1.  **Gas 燃料**
    
    -   所有交易和合约执行都必须消耗 ETH
        
2.  **共识安全保证金**
    
    -   PoS 下质押 ETH 成为验证者，维护网络安全
        
3.  **DeFi / Web3 的基础资产**
    
    -   抵押、计价、结算、流动性核心
        

👉 ETH 是“用得越多、网络越安全、价值捕获越强”的资产设计

* * *

### 4️⃣ 为什么叫“全球可编程区块链”

这个称号拆开看：

-   **区块链**：去中心化、不可篡改、可验证
    
-   **可编程**：
    
    -   智能合约
        
    -   图灵完备的 EVM
        
    -   可以构建无限复杂的逻辑
        
-   **全球性**：
    
    -   无国界、无许可
        
    -   任何人都能部署合约、调用应用
        

最终形成一个概念：

> **以太坊是一台“世界计算机（World Computer）”**

* * *

### 5️⃣ dApp：以太坊上真正“跑起来”的应用形态

-   dApp = **链上智能合约（后端）+ 链下前端**
    
-   典型应用：
    
    -   DeFi（DEX、借贷、衍生品）
        
    -   NFT / 游戏 / 内容
        
    -   DAO / 治理
        
-   优势：
    
    -   抗审查
        
    -   无需信任
        
    -   永久在线
        
-   代价：
    
    -   Gas 成本
        
    -   性能受限
        
    -   用户体验门槛高（钱包、私钥）
        

👉 这章为后面理解 DeFi、NFT、L2 做铺垫

* * *

### 6️⃣ 以太坊 vs 比特币：清晰的角色分工

-   **比特币**：
    
    -   数字黄金
        
    -   价值储存
        
    -   极简、保守、安全
        
-   **以太坊**：
    
    -   应用平台
        
    -   可编程资产和金融系统
        
    -   快速迭代、功能复杂
        

一句话总结：

> **比特币是价值锚，以太坊是应用发动机**
<!-- DAILY_CHECKIN_2026-01-12_END -->
<!-- Content_END -->
