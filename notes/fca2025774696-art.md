---
timezone: UTC+8
---

# fortune

**GitHub ID:** fca2025774696-art

**Telegram:** @fortune_119

## Self-introduction

一个web3数字游民，本科在读，渴望学习

## Notes

<!-- Content_START -->
# 2026-01-16
<!-- DAILY_CHECKIN_2026-01-16_START -->
# 1.今日学习汇总（以太坊网络结构）

一、节点架构：执行客户端与共识客户端

合并后，一个完整节点由两部分通过 Engine API 协作构成：

执行客户端：负责“算结果，管状态”。

职责：处理交易、运行EVM、维护最新区块链状态。

类比：厨师 - 负责烹饪菜肴（处理交易，生成状态结果）。

常见软件：Geth, Nethermind, Besu, Reth 等。

共识客户端：负责“选结果，定正统”。

职责：运行PoS共识，组织验证者出块与投票，决定最终链。

类比：经理 - 负责决定哪道菜上桌（哪个区块被全网接受）。

常见软件：Prysm, Lighthouse, Teku, Nimbus 等。

协作流程（关键）：

本地出块：共识客户端（经理）通过  engine\_forkchoiceUpdated  和  engine\_getPayload  通知执行客户端（厨师）准备并交付一个包含交易的“执行负载”。

验证他人区块：共识客户端收到新区块后，用  engine\_newPayload  让执行客户端重算验证其正确性，再决定是否投票。

二、节点同步模式

节点同步是指获取并验证所有历史数据的过程，主要有三种模式：

全同步：

做法：从创世区块开始，下载并重放执行所有交易，独立验证。

特点：最安全、最慢（需数天甚至更久）。

快照同步：

做法：先下载最新区块头和一个可信的状态快照，然后并发填充状态数据，最后同步最新区块。

特点：速度快（几小时到一天），是 Geth 等客户端的默认模式。

轻同步：

做法：只下载区块头，需要具体数据时向全节点请求并验证。

特点：存储要求极低，适合手机钱包，无法参与出块。

三、节点间交换的数据类型

节点在P2P网络中交换多种数据以保持同步：

区块数据：包括区块头（元数据、父哈希、状态根）和区块体（交易列表）。

交易与收据：交易细节及其执行后的收据（Gas消耗、事件日志）。

状态数据：账户余额、合约代码和存储，以 状态树片段 形式交换。

网络控制信息：用于发现节点、维持连接的 Ping/Pong 等消息。

# 2.个人进行链上数据的一些基础

一、网络规模与去中心化保障

节点数量：公开探测到的节点约 1-2万个，活跃验证者约 100万个（2025年11月数据）。

去中心化体现：

多客户端：无单一客户端占主导（如Geth份额已降至约37%）。

全球分布：节点遍布全球，避免单点故障。

基础设施混合：约半数节点为自建，托管节点也分散于多家云服务商。

验证者分散：近百万验证者使用不同方案，经济权力分散。

无需许可：任何人可运行节点独立验证。

二、Gossip协议

机制：像“传八卦”，节点将新消息（交易、区块）随机转发给少数邻居，邻居继续扩散，几秒内覆盖全网。

作用：实现去中心化、高容错、可扩展的信息传播，是交易、区块及PoS共识消息同步的核心。

三、个人节点搭建

节点类型选择：

全节点：需 500GB-1TB 存储，适合绝大多数开发者。

归档节点：需 2-12TB+ 存储，用于深度历史查询。

轻节点：存储极小，仅验证区块头，功能有限。

硬件与部署：

全节点推荐：4核CPU，16GB内存，2TB NVMe SSD。

归档节点要求更高：8核+，64GB内存，10TB+企业级SSD。

部署：可本地（隐私好）或云服务器（稳定）。

客户端与同步：

必须同时运行：1个执行客户端（如Geth） + 1个共识客户端（如Lighthouse）。

同步模式：开发推荐快照同步，归档同步用于构建归档节点。

启用JSON-RPC：配置客户端开启HTTP/WS端口（如8545），即可让dApp或脚本连接自己的节点。

数据分析：可配合 Ethereum ETL 等工具将链上数据导出到数据库。

四、不跑节点的数据分析方法 (图片7-10)

无需自建节点，也可通过以下方式分析链上数据：

SQL平台：如 Dune、Flipside，直接写SQL查询已解析的数据并可视化。

公共数据集：如 Google BigQuery 中的以太坊数据集，适合企业级分析与关联业务数据。

浏览器API：如 Etherscan API，适合脚本轻量查询。

数据API服务：如 Covalent，提供已结构化的业务数据视图。

混合方案：历史数据用BigQuery/Dune，实时数据用托管RPC服务（如Infura），平衡能力与成本。

核心一句话：以太坊通过上万节点和百万验证者在软件、地理、基础设施上的分散来实现去中心化；个人可根据需求选择运行不同类型的节点，或直接利用现有数据服务进行开发与分析。
<!-- DAILY_CHECKIN_2026-01-16_END -->

# 2026-01-15
<!-- DAILY_CHECKIN_2026-01-15_START -->

# 1.以太坊节点与网络学习

一、节点如何连接与通信

新节点上线会经历三个阶段：

发现（找邻居）：通过引导节点，使用UDP协议和Kademlia算法（像快递网络找最近站点）发送Ping/Pong和FindNode请求，逐步发现并填充“邻居列表”。

连接（拉专线）：与选中邻居建立加密的TCP连接，并使用RLPx/devp2p协议在同一连接上多路复用区块同步、交易广播等多种子协议（如同一条电话线开多个分机）。

传播（传八卦）：

Gossip协议：新交易/区块像八卦一样被节点随机转发，几秒内传遍全网。

请求/响应：缺失的历史数据，直接向邻居点对点请求获取。

二、三种核心节点类型

全节点：

存什么：所有区块 + 最近约128个区块的完整状态（更老的状态会被“修剪”）。

做什么：能独立验证所有交易和区块，是完全自托管、不求人的入口。像大型图书馆，有全部书目和最新版本的书。

归档节点：

是什么：禁用修剪的全节点，额外保存从创世块至今每一个区块高度下的完整状态快照。

用途与代价：供链上分析、审计、回测使用（如区块浏览器），但存储巨大（TB级），维护成本高。像国家档案馆。

轻节点：

存什么：只保存区块头，不存完整区块和状态。

特点：资源消耗极低，可在手机等设备运行。需要时向全节点索要数据，并利用区块头中的Merkle根进行密码学验证，实现“不信任但可验证”。像移动目录机，只存索引，借书时核对。

三、为何要自己运行全节点？（对开发者/机构）

隐私与安全：交易和查询不经过第三方RPC服务商，防止IP地址与链上身份被关联。

抗审查与韧性：避免依赖公共RPC可能遇到的限流、宕机或交易过滤，确保业务自主和稳定。

践行“不要信任，要验证”：本地验证所有数据，为金融、风控、审计提供可信的数据源。

支持去中心化与客户端多样性：增加网络独立副本，并有意识地选择非主流客户端（如不用占比过高的Geth），提升整个网络的抗风险能力。

提供稳定数据底座：可自建索引、分析面板等内部服务，获得低延迟、可定制的RPC接口。

获得协议主权：在协议升级或分叉时，能自主决定跟随哪条链，掌握“用脚投票”的治理话语权。

配置自由：根据性能、运维和合规需求，自由选择客户端（Geth, Nethermind, Besu等）并调整参数。

核心一句话：自己运行全节点，是为了拿回安全隐私、基础设施韧性、协议话语权这三件东西。

归档节点是区块链的“时间机器”，核心是能直接查询任意历史时刻的链上状态。

主要功能与优势：

1\. 即时历史查询：快速回答“某地址在某历史区块的余额是多少？”等问题，无需从头重放交易。

2\. 支持高级RPC：允许调用

“eth\_getBalance” 等方法时指定历史区块高度，这对调试、审计、分析至关重要。

3\. 分析审计基础：是区块浏览器、数据分析、合规审计等服务的必需基础设施。

核心代价：

\* 存储需求巨大：需要 2TB 至 12TB+ 的存储空间。

\* 同步耗时极长：首次同步需重放所有历史交易，通常耗时数周甚至数月。

一句话总结：归档节点是用海量存储空间换取“穿越时间”直接查询历史状态的能力，是专业数据服务的重型工具。
<!-- DAILY_CHECKIN_2026-01-15_END -->

# 2026-01-14
<!-- DAILY_CHECKIN_2026-01-14_START -->



# 1.学习链上数据的第一天：了解以太坊的节点与客户端架构

## 梳理笔记如下，三点关注，CL EL RPC

## 以太坊节点与客户端架构

核心变化（The Merge之后）：一个完整的以太坊节点不再是单一程序，而是由两个核心客户端（执行 + 共识）通过标准接口组合而成。

1\. 三大核心组件

执行客户端：旧称Eth1客户端。

职责：负责“干活的”。

监听并执行交易与智能合约。

维护区块链的当前状态（账户余额、合约数据）。

对外提供  eth\_  开头的JSON-RPC接口。

常见软件：Geth, Nethermind, Besu 等。

共识客户端：旧称Eth2或信标链客户端。

职责：负责“当法官的”。

运行权益证明（PoS）共识算法。

组织验证者对区块进行提议和投票。

决定哪条链是规范的主链。

常见软件：Lighthouse, Prysm, Teku 等。

验证者客户端（可选）：

职责：负责“当陪审团代表的”。

如果想质押ETH并参与出块赚取收益，需要在共识客户端上运行此客户端。

管理验证者密钥，在轮到时报出区块，并对看到的区块进行投票。

2\. 关键接口与网络

Engine API：

执行客户端和共识客户端之间通信的“专线电话”。

一个内部的JSON-RPC接口，用于传递区块骨架、执行结果和验证信息。

对外接口：

应用通过 Web3库（如web3.js）与节点交互。

对执行层的调用走  web3.eth （连接执行客户端）。

对共识层的调用走  web3.beacon （连接共识客户端）。

P2P网络：

执行客户端和共识客户端都有自己的P2P网络，用于与其他节点同步区块、交易和共识消息。

3\. 核心关系与总结

客户端 vs. 节点：

客户端：指软件实现（如Geth、Lighthouse）。

节点：指运行这些客户端软件的一台电脑或服务器实例。

全节点构成：

一台电脑 + 1个执行客户端 + 1个共识客户端 = 一个全节点。

若再挂上 验证者客户端 = 一个验证节点。

一句话总结：合并后，以太坊节点像一家法院，执行客户端是整理案卷和计算的书记员，共识客户端是做出最终裁决的法官，两者通过Engine API这条内部热线紧密协作，共同维护网络。

## 2.Web3的安全与合规

安全（钱包安全，谨防钓鱼u，合约链接，EIP-2612许可说明，空投陷阱，不要乱泄露地址）

合规（注意审查项目方背景，出入金安全）
<!-- DAILY_CHECKIN_2026-01-14_END -->

# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->




# 1.教材学习

## 生态创新：DeFi NFT DAO

1\. DeFi（去中心化金融）AMM / DEX：Uniswap用  x\*y=k  等公式自动做市，取代订单簿。

去中心化借贷：Aave/Compound通过超额抵押和资金池进行借贷，利率由算法自动调节。

稳定币：DAI通过超额抵押和链上治理保持与美元挂钩。

Layer2扩展：

OP Rollup（如Optimism）：默认交易正确，有人质疑才复查（欺诈证明）。

ZK Rollup（如zkSync）：每批交易附带零知识证明，主链只验证证明。

跨链互操作：通过跨链桥连接不同链，但也带来了安全风险。

2\. NFT（非同质化代币）

基础标准：ERC-721（唯一资产）、ERC-1155（可批量混合管理）。

品牌应用：用作数字藏品、会员凭证，实现“物理+数字”联动。

NFT钱包化（ERC-6551）：让NFT能持有其他资产、主动交互、记录链上历史。

NFT角色管理（ERC-7432）：为NFT添加可编程的角色与权限系统，支持租赁、临时授权等场景。

3\. DAO（去中心化自治组织）

协议DAO：如Aave/Uniswap的DAO，负责管理协议参数、资金和升级。

公共物品与资助DAO：如Gitcoin，用二次方融资等机制资助开源项目。

创意型DAO：如Nouns DAO，通过每日拍卖NFT筹集社区金库，集体决策资金用途。

其他应用：也已应用于慈善、艺术收藏、科研资助等领域。

# 2.确定暂时职业规划与四周初步学习计划

链上数据/投研（兼具审计）

[https://www.notion.so/2e747175679b80ecadcef2eb955f635b](https://www.notion.so/2e747175679b80ecadcef2eb955f635b)

# 3.EVM机制初步了解

Event与Log，Gas销毁机制
<!-- DAILY_CHECKIN_2026-01-13_END -->

# 2026-01-12
<!-- DAILY_CHECKIN_2026-01-12_START -->





1.完成测试网转币（sepolia测试网）

2.学习区块链基础内容，包括以太坊dApps的概念与应用，以太坊平台定位与核心特性

3.确定总结初步的职业定位：链上数据/投研（学习审计知识）

4.保证内容持续输出记录（社交平台）
<!-- DAILY_CHECKIN_2026-01-12_END -->
<!-- Content_END -->
