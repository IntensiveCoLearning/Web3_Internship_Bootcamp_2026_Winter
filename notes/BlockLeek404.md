---
timezone: UTC+8
---

# BlockLeek404

**GitHub ID:** BlockLeek404

**Telegram:** 

## Self-introduction

Web3 实习计划 2025 冬季实习生

## Notes

<!-- Content_START -->
# 2026-01-25
<!-- DAILY_CHECKIN_2026-01-25_START -->
以太坊等区块链并不是静止不变的；它们会通过升级不断演进，引入新功能、增强安全性、提升性能。但一个没有中央权威的去中心化网络，如何就“修改自身规则”这种根本性变化达成一致并实施？答案在于一种强有力的机制：硬分叉。

## 去中心化世界里的区块链如何升级

可以把区块链协议升级类比为更新手机操作系统。像苹果或谷歌这样的公司推送更新，用户安装即可。然而在以太坊这种去中心化生态中，并不存在一个“负责发布更新的公司”。升级是集体协作的结果，需要全球开发者、节点运营者和用户之间的协调与共识。

这些协议升级可能改变区块链运作的核心方式，包括：

-   共识机制：改变网络如何就账本状态达成一致，例如以太坊从工作量证明转向权益证明。
    
-   交易处理：修改交易如何被验证并打包进区块。
    
-   费用机制：调整交易费用（Gas）的计算方式，例如伦敦升级引入基础费用与费用销毁机制。
    
-   智能合约能力：为构建去中心化应用的开发者增加新特性或提升效率。
    
-   安全特性：修补漏洞或增强网络抵御潜在攻击的能力。
    

## 硬分叉的定义：不可回头的分界点

硬分叉是以太坊实施协议升级的技术过程，其决定性特征是：不向后兼容。

这意味着硬分叉激活后，新规则与旧规则差异巨大，二者不再兼容。任何没有更新到新软件的节点（运行区块链软件的计算机）将无法验证新的区块和交易。这些未升级节点等同于被留在旧的、不兼容的链上，而主网络则依据新规则继续前进。

## 治理流程：从想法到升级

以太坊的变化不会一夜发生。它们通常从一份正式的技术文档开始，称为以太坊改进提案（EIP）。任何人都可以撰写并提交 EIP，之后会进入严格且透明的审查流程，可能持续数月甚至数年。

EIP 流程包括若干阶段：

-   起草：提交初始提案。
    
-   审查中：核心开发者与更广泛社区对 EIP 进行讨论、辩论与完善。
    
-   最后征询：最终审查阶段，收集最后的反馈。
    
-   最终定稿：达成社区共识后，EIP 被接受并安排纳入未来的网络升级。
    

这一审慎流程确保所有变更在实施前都经过充分的技术验证并获得社区支持。

## 硬分叉的类型：计划升级与争议分裂

硬分叉可根据社区共识程度分为两类。

### 无争议硬分叉（计划升级）

这是最常见且理想的情况。整个社区认可变更有益，所有人协调升级软件。区块链在预定的区块高度无缝切换到新规则，仍然保持为一条统一的链。

以太坊上成功的计划升级包括：

-   合并（The Merge）：从高能耗的工作量证明（PoW）转向更可持续的权益证明（PoS）。
    
-   伦敦升级（The London Upgrade）：引入 EIP-1559，重塑 Gas 费用市场，使交易成本更可预测，并引入费用销毁机制。
    
-   坎昆-德内布（Cancun-Deneb，Dencun）升级：引入“原型 Danksharding”（EIP-4844），专注扩容，显著降低二层 Rollup 的交易费用。
    

### 有争议硬分叉（链分裂）

当社区中相当一部分人反对某项变更时，就会发生有争议硬分叉。这种分歧可能导致区块链永久分裂，形成两条独立链：在分叉点之前共享相同历史，分叉点之后各自演化。

最著名的例子是 2016 年的 The DAO 分叉。

-   事件：一个流行的智能合约 “The DAO”（去中心化风投基金）被黑客利用漏洞，导致约 1.5 亿美元价值的 ETH 被盗。
    
-   分歧：社区分裂。一方坚持不可篡改性原则，认为区块链历史不应被更改，“代码即法律”，即使结果不幸；另一方认为这是恶意攻击，应通过回滚交易将资金返还给原本持有人。
    
-   结果：多数人投票决定实施硬分叉，把区块链状态回退到攻击发生之前，从而在效果上抹除盗窃。这条升级后的新链就是今天的以太坊（ETH）。
    
-   分裂：少数坚持绝对不可篡改性的人拒绝分叉，继续运行原始、未更改的链，这条链后来称为以太坊经典（ETC）。两条链至今独立存在并运行。
    

## 升级背后的人与流程

硬分叉的实施通常包含多个步骤，并涉及若干关键群体：

-   提案与共识：一个想法以 EIP 的形式被正式化，并经过讨论直到获得足够社区支持。
    
-   客户端实现：维护以太坊客户端软件的独立团队（例如 Geth、Nethermind）将通过的 EIP 实现到代码中。多客户端多语言的“客户端多样性”是一项关键安全特性，可防止单一客户端的漏洞拖垮整个网络。
    
-   测试：在公共测试网上对变更进行严格测试，确保按预期工作。
    
-   激活：核心开发者设定硬分叉生效的具体区块高度并公布，给节点运营者数周时间更新软件。
    
-   分叉发生：网络到达指定区块高度时，已升级的节点开始执行新规则，未升级的节点则留在旧链上。
    

真正的最终决策者是节点运营者。开发者负责写代码，但决定是否运行新软件的是成千上万运行节点的个人与组织。如果他们不升级，升级就会失败。应用开发者与用户也很关键，他们通过提供反馈以及“用钱包投票”来选择使用升级后的链，从而赋予其经济价值与合法性。

最后，硬分叉机制也可以视为以太坊的终极防线：当发生灾难性攻击时，社区可以线下协调实施硬分叉，放弃已被破坏的链，从而维护网络整体的完整性。  

* * *

  
深入解析以太坊 Gas 费用

在以太坊网络上，每一个操作从发送 ETH 到与智能合约交互，都需要计算资源。为了支付这些资源，用户会在交易中附加一笔费用。这笔费用称为“gas”，是区块链运作与安全的基础。本课将介绍 gas 是什么、为什么必须存在，以及费用计算机制如何演进，从而形成更高效、更可预测的系统。

### 为什么需要 Gas 费用

Gas 费用并非随意收取的费用；它承担两项关键功能，以确保以太坊网络的健康与安全。

**对验证者的补偿：**  
验证者是运行维护网络软件的参与者。他们消耗计算能力与资源来处理交易、执行智能合约，并将新区块加入区块链。Gas 费用是他们因完成这项关键工作而获得的回报，从而形成直接的经济激励，促使他们诚实参与并维持网络运行。

**防止垃圾交易：**  
设想一个没有交易成本的网络。恶意行为者可以轻易用数百万笔无意义交易淹没网络，使系统拥堵并阻止正常用户的交易被处理。通过对每一次计算都要求支付费用，gas 建立起一道经济门槛，使这类垃圾攻击的成本高到难以承受，从而保护网络有限的区块空间。

网络使用量与 gas 费用之间的关系可以用供需来解释。每个区块的空间是有限的。当更多用户尝试提交交易时，对这部分有限空间的需求上升，进而推高被打包进区块所需支付的价格（gas 费用）。

### 什么是 Gas：以太坊虚拟机的燃料

Gas 是用于衡量在以太坊上执行某项操作所需计算工作量的单位。可以把它看作以太坊虚拟机（EVM）这台“全球计算机”的燃料。就像汽车需要汽油才能行驶一定距离一样，以太坊上的一笔交易也需要 gas 来支付其所需的计算步骤。

交易本质上是一组用户为与区块链交互而发送的指令。例如，如果一位名为 Ciara 的用户想向另一位名为 Patrick 的用户发送 10 ETH，她会从钱包发起一笔交易，包含如下指令：

-   收款方：Patrick 的钱包地址。
    
-   金额：10 ETH。
    
-   操作：将指定金额转给收款方。
    
-   Gas 费用：Ciara 愿意为处理该交易支付的金额。
    

这笔交易会由 Ciara 的私钥签名，以证明她对资金的所有权，然后被广播到网络上，等待验证者将其打包进区块。

### 以太坊交易费用机制的演进

自以太坊诞生以来，用户支付 gas 的方式发生了显著变化，从波动剧烈的拍卖系统演进为更可预测的模型。

类型 0：传统（Legacy）交易

最初的交易格式采用“第一价格拍卖”模型。用户需要指定两个参数：

-   **gasPrice：** 每单位 gas 的价格（以 Wei 这种 ETH 的小面额表示）。
    
-   **gasLimit：** 用户允许该交易最多消耗的 gas 数量。
    

该系统带来了显著的使用体验问题。为了让交易更快被打包，用户必须猜测其他人对 gasPrice 出价多少。这常导致用户为了确保成交而支付过高费用，或因出价过低而使交易在网络拥堵时处于待处理状态数小时甚至数天。

类型 2：EIP-1559 交易

在伦敦硬分叉中引入的 EIP-1559 对费用市场进行了彻底重构，使 gas 价格更可预测、更高效。它将交易费用拆分为两个组成部分：基础费用（base fee）与优先费用（priority fee）。

为了理解这一点，可以参考“公交车类比”：

-   **传统模型（类型 0）：** 想象一辆座位有限的公交车。上车前，所有人都喊出自己愿意支付的价格。司机选择出价最高的人上车，其余人被留下。你必须在不知道别人出价的情况下猜测该出多少。
    
-   **EIP-1559 模型（类型 2）：** 现在公交车有一个固定、不可议价的票价（基础费用），对所有人相同。这个价格由系统设定，并根据上一班车的拥挤程度变化。如果你想更快上车并确保座位，可以额外给司机一个可选的小费（优先费用）。
    

新系统引入了两个关键要素：

**基础费用（Base Fee）：**  
这是每单位 gas 的最低价格，交易要被考虑纳入区块就必须满足它。该费用由网络通过算法自动决定。协议以区块“50% 满载”为目标：如果某个区块超过 50% 满载，下一个区块的基础费用会上升；如果低于 50% 满载，基础费用会下降。关键在于，基础费用会被销毁，即永久从 ETH 供应中移除，从而对以太坊形成通缩压力。

**优先费用（小费）（Priority Fee / Tip）：**  
这是一项可选费用，直接支付给验证者。它作为激励，使验证者在同一区块内，尤其在高需求时期，优先处理你的交易。

该模型使费用更可预测。用户可以看到当前基础费用，只需在需要紧急处理时决定是否支付一个较小的可选优先费用。

### Gas 费用实用指南

为了更有效地管理交易，理解计价单位以及如何在区块浏览器上分析交易很重要。

理解 ETH 的计价单位：Wei 与 Gwei

由于 gas 费用常涉及极小的 ETH 分数，为了精确计价，网络使用更小的面额单位。

-   **Wei：** ETH 的最小单位。
    
-   **Gwei（Giga-Wei）：** 讨论 gas 价格时最常用的单位。
    

数值关系如下：

-   1 Gwei = 1,000,000,000 Wei
    
-   1 ETH = 1,000,000,000 Gwei（十亿 Gwei）
    
-   1 ETH = 10^18 Wei（1,000,000,000,000,000,000 Wei）
    

在 Etherscan 上分析交易

像 Etherscan 这样的区块浏览器提供所有交易数据的透明视图。查看一笔类型 2 交易时，你会看到若干与 gas 相关的关键字段：

-   **Gas Limit & Usage by Txn：** Gas Limit 是用户为该交易设置的最大 gas（标准 ETH 转账为 21,000），Usage by Txn 是交易实际消耗的 gas。未使用的 gas 会退还给用户。
    
-   **Base Fee Per Gas：** 交易被打包进区块时，网络确定的基础费用。
    
-   **Max Priority Fee Per Gas：** 用户愿意支付给验证者的最大小费。实际支付的小费可能更低，但不会超过该上限。
    
-   **Burnt & Txn Savings Fees：** Burnt 显示被销毁的 ETH 数量（计算方式为 Base Fee Per Gas \* Gas Used）。Txn Savings 表示当用户愿意支付的最大费用高于实际成本（Base Fee + Priority Fee）时，用户获得的退款。
    

大多数现代钱包（如 MetaMask）会自动处理这些计算。但它们也提供高级设置，允许用户手动设置最大基础费用、优先费用与 gasLimit，以更好地控制交易成本与速度。
<!-- DAILY_CHECKIN_2026-01-25_END -->

# 2026-01-24
<!-- DAILY_CHECKIN_2026-01-24_START -->

**工作量证明区块链如何运作**

在探讨权益证明（Proof of Stake，PoS）之前，有必要先理解它的前身——工作量证明（Proof of Work，PoW）。以比特币等早期区块链为代表，PoW 是一种共识机制，它依赖一种称为“挖矿”的过程来验证交易并将新区块加入链中。

在 PoW 系统中，被称为矿工的网络参与者使用高性能计算机相互竞争。他们的目标是率先解出一个复杂的计算难题。第一个找到解的矿工获得将下一批交易打包成新区块并写入区块链的权利，同时还能得到一定数量的新生成加密货币作为奖励，这被称为“区块奖励”。

PoW 链的安全性根植于密码学，尤其是哈希函数。每个区块都包含前一个区块的哈希值（一种唯一的数字指纹），从而形成一条按时间顺序排列、难以篡改的链。如果攻击者试图更改过去某个区块中的数据，该区块的哈希值就会发生彻底变化，这会断开它与后续所有区块之间的链接，使得后续区块全部失效。要想成功篡改区块链历史，攻击者必须以比全网更快的速度重新挖出被篡改的区块以及之后的所有区块，这需要几乎不可实现的算力规模。

* * *

**引入权益证明：一种更高效的共识机制**

权益证明（PoS）作为 PoW 的替代方案被提出，目标是在不消耗巨大能源的前提下，实现与 PoW 相同级别的安全性。最著名的例子是以太坊，它在 2022 年从 PoW 过渡到了 PoS。

两者的根本区别在于参与者获得“创建新区块权利”的方式。PoS 用基于经济激励的选择机制，取代了算力竞争。网络不再由矿工维护，而是由验证者（validators）来保障安全。验证者是运行节点的软件操作者，他们需要锁定（质押，stake）一定数量的本链原生加密货币作为抵押品。作为回报，系统会选中他们来创建新区块，并因其诚实参与而给予奖励。

* * *

**权益证明区块链的核心机制**

要理解 PoS 如何运作，需要拆解其核心组成部分：哈希、区块签名以及共识过程。

### 哈希：数字指纹

任何区块链的核心都是哈希，即将任意大小的输入数据转换为固定长度、唯一字符串的过程。比特币使用 SHA-256 算法，而以太坊的 PoS 实现采用一种类似的算法 Keccak256。哈希具有四个关键性质：

-   **确定性**：相同输入必然产生完全相同的哈希值。
    
-   **不可预测性**：对输入做极其微小的改动（哪怕只多一个空格），都会产生完全不同且难以预测的哈希值，这通常被称为“雪崩效应”。
    
-   **单向性**：从计算上几乎不可能由哈希值反推出原始数据。
    
-   **抗碰撞性**：在实践中，几乎不可能找到两个不同输入产生相同的哈希输出。
    

一个区块的哈希由其所有数据共同生成，包括区块号、所包含的交易列表，以及最关键的：前一个区块的哈希值。

### 区块签名：真实性的证明

在 PoS 系统中，被选中创建新区块的验证者并不是“挖矿”，而是对区块进行“签名”。验证者使用自己的私钥为区块生成数字签名。这种密码学签名具有两个重要作用：

-   **真实性**：证明是哪个验证者提出了该区块。
    
-   **完整性**：确认自签名以来，区块数据未被篡改。
    

如果攻击者试图修改已签名区块中的任何数据，区块的哈希值就会改变，从而使原有签名立即失效，因为签名不再与被篡改后的数据匹配。

* * *

**PoS 区块链与共识**

在 PoS 链中，区块按顺序连接。每个新区块都包含一个“前一区块哈希”字段，用来存储前一个区块的哈希值，这形成了区块链不可篡改、相互咬合的结构。若恶意行为者试图修改旧区块（例如第 2 个区块）中的某笔交易，该区块的哈希值就会改变，进而导致第 3 个区块中的“前一区块哈希”字段不再匹配，链条被破坏。这种失效会向后级联到所有后续区块，使篡改行为对全网一目了然。

为了验证新区块并延长链条，网络必须达成共识，而验证者在其中扮演核心角色。

-   **成为验证者**：用户必须质押大量加密货币才能参与。例如在以太坊上，验证者至少需要质押 32 ETH。这一质押作为保证其诚实行为的抵押品。
    
-   **提议与见证（投票）**：PoS 协议会在每个时间间隔（称为 slot，在以太坊上为 12 秒）中，伪随机选择一名验证者来提议新区块。区块被提议后，系统再选出一组其他验证者组成委员会，对该区块进行审核，检查其合法性，并投票决定是否将其纳入区块链。这个投票过程称为“见证”（attestation）。
    
-   **实现最终性**：区块在刚被提议时并非立刻成为永久记录，而需要经过“最终性”过程。要使区块被接受，它必须获得代表全网至少三分之二（2/3）已质押 ETH 的验证者的见证支持。达到该阈值后，该区块被称为“已确认（justified）”。当下一个连续区块也被确认后，前一个区块就升级为“已最终确定（finalized）”。一旦区块被最终确定，它就成为区块链历史中永久且不可更改的一部分。
    

* * *

**权益证明的安全性：经济激励与惩罚机制**

PoS 网络的安全性并不依赖算力，而是建立在强有力的经济模型之上。系统假设：至少三分之二的质押价值由诚实参与者控制，他们会遵守协议规则。

为强制诚实行为，PoS 引入了一种严厉的惩罚机制，称为“罚没（slashing）”。如果某个验证者作恶，例如在同一 slot 中提出两个不同区块，或给出相互矛盾的见证，其他验证者可以向网络提交其违规行为的密码学证据。

一旦验证者被证明损害了网络利益，就会被罚没。这意味着其质押的 32 ETH 中的一部分，甚至在严重情况下全部，都会被销毁（“燃烧”），同时该验证者会被强制移出网络。这种机制形成了强烈的经济威慑：因作恶而遭受的潜在经济损失，远远大于攻击区块链可能获得的任何收益。

由此形成一个自我强化的安全循环：用于保障网络的质押价值越多，攻击者想要获取足够的质押份额来控制网络的成本就越高，因此区块链也就越安全。
<!-- DAILY_CHECKIN_2026-01-24_END -->

# 2026-01-23
<!-- DAILY_CHECKIN_2026-01-23_START -->


工作量证明（PoW）是支撑比特币等开创性区块链的基础共识机制。要真正理解这些网络如何运作，必须掌握挖矿、计算能力以及确保其安全性的密码学原理等关键概念。

### 密码学基础：什么是哈希？

任何区块链的核心都有一个称为哈希（hashing）的密码学概念。哈希是由任意一段数字数据生成的、独一无二且长度固定的字符串。生成方式是将数据输入哈希函数（或称算法）并得到输出。

例如，比特币网络使用 SHA256（安全哈希算法 256 位）算法。其他区块链可能使用不同算法，例如以太坊使用 Keccak256，但基本原理相同。

哈希有两个关键性质：

1）固定长度：无论输入数据大小如何（无论是单个字符还是整本书），输出的哈希长度始终相同。对于 SHA256，这是一个 256 位的字符串，通常以 64 个十六进制字符表示。

2）确定性：相同输入总会产生完全相同的输出哈希。即使对输入数据做出极其细微的改变，例如改动一个字母或增加一个空格，也会导致哈希完全不同且不可预测。这使得哈希能够作为数据可靠的数字指纹。

### 构建区块：挖矿与工作量证明

区块链由一个个“区块”组成，本质上是数据容器。一个典型区块包含若干关键信息，包括区块编号、其承载的数据（例如交易列表），以及一个称为 nonce（随机数/计数器）的特殊数字。

要使一个区块被视为有效并加入链中，它必须满足网络协议设定的特定条件。在工作量证明中，这个条件表现为一道计算谜题。常见规则是：区块的哈希必须以一定数量的前导零开头。

这就是挖矿的作用。挖矿是寻找一个 nonce 的过程，使得该 nonce 与区块中的其他数据组合后再进行哈希运算时，得到的哈希能够满足网络规则。由于哈希结果不可预测，寻找正确 nonce 没有捷径。矿工必须依靠计算能力逐个猜测数值，这是一个暴力穷举过程，可能需要数十亿甚至数万亿次尝试。

这种高强度的猜测就是工作量证明中的“工作”。当矿工最终找到一个有效 nonce 时，该区块就被认为“挖出”，谜题被解决。这个过程在计算上成本高昂，而这正是保障网络安全的关键特性。

### 链接成链：区块链如何保证不可篡改性

区块按时间顺序通过哈希被安全地链接成链。链上的每个新区块都必须包含其前一个区块的哈希值，这个引用通常存放在一个标为 “Prev”（previous hash，前一区块哈希）的字段中。

链上的第一个区块称为创世区块（Genesis Block），它没有前序区块，因此其 “Prev” 字段通常设为全零。之后的每个区块都以密码学方式与前一个区块相连，形成不可破坏的历史记录。

这种链接机制使区块链具有不可篡改性，或更准确地说是“篡改可被发现”。如果攻击者试图修改历史区块中的数据，例如第 4 号区块，它的哈希会立刻改变。由于这个新哈希不再匹配第 5 号区块中存储的 “Prev” 值，第 5 号区块就会变为无效。这种无效会产生级联效应，破坏其后所有区块的有效性。

要成功篡改一笔过去的交易，攻击者不仅需要重新挖出被修改的区块，还必须重新挖出链上此后所有区块以恢复整条链的有效性。这将需要极其庞大、通常难以承受的计算能力。

### 去中心化的运作：分布式账本与共识

工作量证明区块链的安全性因其去中心化特性而进一步增强。区块链账本并非存放在单一中心位置，而是分发到全球由独立参与者组成的网络中，这些参与者通常称为节点或对等体（peers）。每个对等体都维护一份完全相同的链的副本。

这种分布式结构为达成共识提供了强健基础。如果恶意行为者试图篡改自己本地的区块链副本，他的版本会立即与网络其他部分不同步。

区块链使用共识规则来确定账本的唯一真实状态。在 PoW 中最常见的规则是“最长链规则”。网络始终将最长的有效链，也就是累计计算工作量最多（或区块最多）的那条链，视为官方版本。

如果对等体 A 的攻击者篡改了某个区块，他的链就会变为无效。其他节点（对等体 B 和对等体 C）会继续在各自有效且更长的链上构建新区块。对等体 A 的欺诈版本会被网络忽略并拒绝。要让攻击者的链被接受，他不仅需要重新挖出被篡改的区块，还必须持续超过整个其余网络的挖矿速度，也就是需要控制超过全网总哈希算力的 51%，这类攻击需要极高成本。

### 贯穿全流程：交易、终局性与分叉

在比特币这类现实世界区块链中，每个区块中存储的“数据”是一份金融交易列表。通过上述机制保护这些数据，可以防止双花或篡改交易金额等欺诈行为。

参与挖矿过程的节点称为矿工。他们竞争成为第一个解出下一新区块计算谜题的人。成功的矿工会获得新发行的加密货币（例如比特币）以及该区块中包含的交易手续费。区块奖励激励矿工贡献计算能力以保障网络安全。

一笔交易不会立刻被认为是安全的。它通过“确认数”的过程达到终局性：当交易被包含在一个已挖出的区块中时，获得一次确认；此后每新增一个区块，就再增加一次确认。在比特币网络中，通常认为在 6 次确认后交易基本不可逆，因为要回滚六个区块历史所需的能量与成本极其巨大。这种终局性称为概率终局性。

有时，两名矿工可能几乎同时解出区块，从而产生两条相互竞争的有效链，这称为分叉。网络通过最长链规则解决分叉：哪条链先被加入下一个区块，哪条链就成为最长链，所有节点都会丢弃较短的“孤块链”（orphaned chain），并采用较长链作为唯一真实来源。
<!-- DAILY_CHECKIN_2026-01-23_END -->

# 2026-01-21
<!-- DAILY_CHECKIN_2026-01-21_START -->



## 《理解区块链共识：达成一致的核心问题》

### 去中心化网络里的“真相一致性”难题

在像区块链这样的去中心化网络中，成千上万台计算机在没有中央权威或协调者的情况下运行。这就引出了一个根本问题：这些彼此独立的参与者如何就“什么是真的”达成一致？他们又如何维护一份完全一致、经过验证的交易记录？这个挑战被称为**共识问题（Consensus Problem）**，而解决它正是区块链能够运作的关键。

为了更好理解，想象你和朋友们用一本笔记本记录共同开销：如果大家在同一个房间里，一切都很容易。当 Alice 付给 Bob 10 美元，所有人都看见、都记下，于是每本账都一致。

但如果大家分散在不同国家，通信更慢也更不可靠：Sarah 可能记成 “Alice -> Bob: $10”，Tom 因为收到的信息略有偏差可能记成 “Alice -> Bob: $15”，Mike 甚至完全没收到消息于是空着一页。那么你们怎么把这些不一致的笔记本“对齐”，得到单一共享的真相？这正是区块链共识机制要解决的协同困境。

要做到这一点，区块链必须处理三个核心挑战：

-   **女巫攻击（Sybil Attacks）/ 女巫抗性（Sybil Resistance）**
    
-   **终局性（Finality）**
    
-   **共识问题本身（对有效状态达成一致）**
    

下面逐一拆解。

* * *

### 1）用“女巫抗性”抵抗操纵

**女巫攻击（Sybil attack）**指的是：在点对点网络中，单个恶意行为者制造大量虚假身份或节点，通过操控这支“假人军团”来获得对网络不成比例的影响力。

在区块链里，你可以把每个节点看成对交易历史有“投票权”。攻击者理论上可以启动成千上万个由自己控制的假节点，凭借多数“选票”操纵网络：批准欺诈交易、审查正常交易等。这就像一个人假扮成几千个选民去塞票箱。

一个加密圈以外的类比是：某个“最佳网红”线上评选按邮箱投票。恶意用户可以批量注册几百个假邮箱给某候选人投票，从而不公平地扭曲结果。

公链必须是**无许可（permissionless）的，任何人都能加入，同时又要防止这类攻击。解决方案是引入女巫攻击抵抗机制（Sybil resistance mechanism）**：它并不阻止你运行多个节点，而是让“想靠海量假身份获得支配力”变得**成本高到不划算**。

两种最常见的女巫抗性机制是：

**工作量证明（Proof of Work, PoW）**：比特币使用。通过计算工作让参与变得昂贵。要参与共识，节点（矿工）必须解一道需要巨大算力与电力的复杂数学难题。攻击者可以造很多身份，但无法伪造让这些身份“有影响力”所需的真实能源与硬件成本。

**权益证明（Proof of Stake, PoS）**：以太坊使用。通过经济抵押让参与变得昂贵。要当验证者，用户必须锁定大量原生代币作为抵押品。攻击者当然也能开很多验证者节点，但必须为它们准备巨额质押资本；而且一旦被发现作恶，质押资金会被罚没（slashed）。

常见误解是把 PoW、PoS 直接叫做“共识机制”。更严格地说，它们是更大共识算法中的**女巫抗性组件**，相当于“门槛与守门人”：确保只有付出真实、昂贵代价的参与者才有资格影响共识。

* * *

### 2）用“终局性”保证不可逆

**终局性（Finality）指：一笔交易一旦被确认并写入区块链，就不可逆**，不能被篡改、撤销或移除。

在传统金融系统里，银行这类中心化权威拥有最终裁决权，可以撤销交易或纠错，因为它是“真相的最终仲裁者”。而去中心化网络没有这种权威，所以网络必须自己制定规则，来界定什么时候一笔交易被认为是不可变更的。

这很关键：当你在链上收到付款，你要等多久才能“绝对确定”钱已经属于你且不会被回滚？交易达到这种不可逆状态的时间点就是它的终局点。不同区块链实现终局性的规则与时间尺度并不相同。

* * *

### 3）解决“共识问题”本体

**共识问题（Consensus Problem）是更宏观的挑战：让分布式网络里的所有计算机就区块链的唯一有效状态**达成一致。这包括一致同意：

-   交易的正确顺序；
    
-   哪些交易有效，哪些是欺诈；
    

哪条链才是唯一真实的“规范链（canonical chain）”。

女巫抗性和终局性是解决这一大问题的关键工具：女巫抗性确保只有真实投入成本的参与者才能提议与验证新区块；终局性规则确保一旦网络对某个区块达成一致，这种一致就是永久的。二者结合，使全球去中心化网络能达到类似中心化系统的可靠性与完整性。

* * *

### 比特币 vs 以太坊：两种路线

比特币和以太坊都解决了上述核心问题，但使用了不同的女巫抗性机制。

| 特性 | 比特币 | 以太坊 |
| --- | --- | --- |
| 女巫抗性机制 | 工作量证明（PoW） | 权益证明（PoS） |
| 成本来源 | 巨量算力与电力消耗 | 锁定大量资金作为质押 |
<!-- DAILY_CHECKIN_2026-01-21_END -->

# 2026-01-19
<!-- DAILY_CHECKIN_2026-01-19_START -->




* * *

## 理解区块链共识：达成一致这一核心问题

在像区块链这样的去中心化网络中，成千上万台计算机在**没有中央权威或协调者**的情况下运行。这就引出了一个根本性的问题：  
**这些彼此独立的参与者是如何就“什么是真的”达成一致的？**  
它们又是如何共同维护一份**完全一致、经过验证的交易记录**的？

这一挑战被称为**共识问题（Consensus Problem）**，而解决它，正是区块链能够运作的关键。

* * *

为了理解这一点，想象这样一个场景：  
你和朋友们决定用一本笔记本来记录共同的开销。

如果大家都在同一个房间里，这很简单。  
当 Alice 向 Bob 支付了 10 美元，所有人都能看到这件事，把它记下来，最终每个人的笔记本内容都完全一致。

现在，假设你们分散在不同的国家。  
通信变慢了，也变得不那么可靠了。

-   Sarah 可能记录的是：“Alice → Bob：10 美元”
    
-   Tom 接收到的信息略有不同，于是写成了：“Alice → Bob：15 美元”
    
-   Mike 则完全错过了这条消息，页面还是空白的
    

那么，你们该如何**协调这些笔记本，生成一份唯一、共享的真实记录**呢？  
这个协调困境，正是区块链共识机制所要解决的问题。

* * *

为此，区块链必须应对三个核心挑战：

-   **女巫攻击（Sybil Attacks，或称 Sybil 抵抗）**
    
-   **终局性（Finality）**
    
-   **共识问题本身（就有效状态达成一致）**
    

下面我们将逐一拆解这些基础概念。

* * *

## 1\. 通过 Sybil 抵抗防止操纵

**女巫攻击（Sybil attack）是一种点对点网络中的安全威胁：  
单个恶意行为者创建大量虚假身份或节点**，从而获得对网络的过度影响力。

在区块链中，每个节点都可以被视为对交易历史拥有一次“投票权”，因此女巫攻击是一个极其严重的威胁。  
攻击者理论上可以运行成千上万个由自己控制的假节点，借助这种“多数投票”来操纵网络、批准欺诈交易，或审查合法交易。

这就像一个人假装成成千上万名选民，往投票箱里疯狂塞选票。

一个现实世界中的类比是：  
某个在线“最佳网红”评选活动，按邮箱地址投票。  
恶意用户可以创建上百个虚假邮箱，为自己支持的候选人投票，从而严重扭曲结果。

* * *

为了能够正常运作，公有区块链必须是**无需许可的**（任何人都可以加入），但同时又必须防止这类攻击。  
解决方案就是**Sybil 抵抗机制**。

这些机制并不是让你无法运行多个节点，而是让**在足以威胁网络的规模下这样做的成本高得不可承受**。

目前最主要的两种 Sybil 抵抗机制是：

### 工作量证明（Proof of Work，PoW）

比特币采用该机制。  
PoW 通过**计算成本**来提高参与门槛。  
节点（矿工）必须解决复杂的数学难题，这需要巨大的算力和电力消耗。

攻击者可以创建许多身份，但他们无法伪造现实世界中所需的能源和硬件成本，因此无法让这些身份具备真正的影响力。

### 权益证明（Proof of Stake，PoS）

以太坊采用该机制。  
PoS 通过**经济质押**来提高参与成本。  
要成为验证者，用户必须锁定大量本链原生加密货币作为抵押。

攻击者可以创建多个验证节点，但需要为所有节点质押巨额资金。  
此外，如果他们被发现存在不诚实行为，其质押资金将被没收（即“惩罚性削减，slashing”）。

* * *

一个常见的误解是把 PoW 和 PoS 称为“共识机制”本身。  
从技术上讲，它们是**更大共识算法中的 Sybil 抵抗组件**。

它们的作用是“守门人”，确保只有真正付出实际、可验证成本的参与者，才能参与共识的形成。

* * *

## 2\. 通过终局性确保不可逆性

**终局性（Finality）指的是一种保证：  
一旦交易被确认并写入区块链，它就不可被更改、撤销或删除**。

在传统金融体系中，像银行这样的中心化机构拥有最终裁决权。  
它们可以撤销交易、纠正错误，因为它们是“真相”的最终裁定者。

而在去中心化网络中，没有这样的权威存在。  
网络本身必须建立规则，用来决定**交易在什么时候被视为不可变的**。

这是一个极其关键的属性。  
当你在区块链上收到一笔付款时，你需要等待多久，才能百分之百确定这笔钱属于你，且不会被回滚？

交易达到这种不可逆状态的时刻，就是它的**终局点**。  
不同区块链对终局性的实现方式和所需时间各不相同。

* * *

## 3\. 解决共识问题

**共识问题**是一个总体性挑战：  
如何让分布式网络中的所有计算机，就区块链的**唯一有效状态**达成一致。

这包括对以下内容的共识：

-   交易的正确顺序
    
-   哪些交易是有效的，哪些是欺诈的
    
-   哪一条区块链才是真正的、规范的主链
    

Sybil 抵抗和终局性，是解决这一问题的关键工具。  
Sybil 抵抗确保只有真实投入成本的参与者，才能提议和验证新区块；  
终局性规则确保一旦网络就某个区块达成一致，这种一致是永久性的。

这两者结合，使一个全球性的去中心化网络，能够以接近中心化系统的可靠性和完整性运行。

* * *

## 比特币与以太坊：两种不同的解决路径

比特币和以太坊都解决了这些核心问题，但它们采用了不同的 Sybil 抵抗机制。

| 特性 | 比特币 | 以太坊 |
| --- | --- | --- |
| Sybil 抵抗机制 | 工作量证明（PoW） | 权益证明（PoS） |
| 成本来源 | 巨大的算力和电力消耗 | 锁定大量经济价值作为质押 |

* * *

通过理解这些基础概念——Sybil 抵抗、终局性，以及整体的共识问题——你已经掌握了**去中心化网络得以实现的核心工程突破**。
<!-- DAILY_CHECKIN_2026-01-19_END -->

# 2026-01-18
<!-- DAILY_CHECKIN_2026-01-18_START -->





## 以太坊虚拟机（EVM）导论

如果你学过一点以太坊，大概率已经见过 **Ethereum Virtual Machine（以太坊虚拟机，EVM）** 这个词。它听起来像某种高深玄学，但从宏观层面理解 EVM，其实是理解以太坊怎么运转的必修课。本文会把 EVM 讲清楚：它是什么、为什么关键、它和整个以太坊生态的关系是什么。目标不是把你训练成编译器工程师，而是让你有一个扎实的“底层常识”。

* * *

## 什么是 EVM？

从本质上说，**EVM 是驱动以太坊网络的“计算引擎”**。它是一个**全球共享**、\*\*沙盒化（sboxed）\*\*的运行环境，存在于每一个完整的以太坊节点上。EVM 提供了一套统一规则，规定以太坊区块链的“状态”（state）如何从一个区块过渡到下一个区块。它最核心的工作就是：**执行智能合约**。

为了把这件事讲得更像“人类能懂的东西”，给你两种类比：

### 类比 1：操作系统

把 EVM 想成 Windows 或 macOS 这种“操作系统”。电脑的操作系统用来运行各种应用程序；类似地，EVM 用来运行和管理一种特定的软件：**智能合约**。

### 类比 2：机器人厨师

把智能合约想成一份非常详细的“菜谱”，每一步都有精确指令。EVM 就是那个**机器人厨师**：只要给它相同的菜谱和相同的食材（输入），它每次都会按同样的步骤做，端出来的菜（结果）也会一模一样。

这种**可预测、确定性（deterministic）的执行**，就是 EVM 的标志性特征。也可以理解为：它没有情绪波动，不会临场发挥，做饭从不“凭感觉”。人类倒是挺需要这种东西的。

* * *

## 为什么 EVM 对去中心化至关重要？

像以太坊这样的区块链是**去中心化**的：网络由全球成千上万台独立计算机（节点）共同运行和维护。

当用户与某个智能合约交互时，这笔交易会被广播到网络中，然后**每一个节点都必须独立处理这笔交易**，用来验证它是否合法。

于是问题来了，还是那个经典的人类难题：

> **怎样保证这成千上万台机器，最后得出完全一致的结果？**

EVM 就是答案。**EVM 充当了通用的计算标准**：因为网络里的每个节点都运行某种 EVM 的实现，它们就会用**完全一致的规则**去执行智能合约代码。这样一来，同一笔交易在每台机器上都会产生同样的结果，整个网络才能对“唯一共享状态”达成一致。

这种确定性执行，是去中心化系统里 **共识（consensus）** 的基石。

另外要注意：**EVM 是一份规范（specification），是一套规则**。它需要靠客户端软件把规则落地。节点会运行客户端软件，比如 **GETH（Go Ethereum）**，其中包含一个遵循规范的 EVM 实现，严格按规则执行。

* * *

## EVM 等价（Equivalence） vs EVM 兼容（Compatibility）：关键区别

EVM 的成功让很多其他链，尤其是各种 **Layer 2 Rollup**，也采用了 EVM 设计。但不是所有“EVM 链”都一样。这里最容易混淆的点是：**EVM 等价** 和 **EVM 兼容**。

* * *

### 1）EVM 等价（EVM Equivalence）

**EVM 等价链**的目标是：在行为上与以太坊主网 **完全一致**。  
它们的底层机制、操作码（opcodes）、状态转换逻辑（state-transition logic）都相同。

**对开发者的含义：**  
你可以把在以太坊上能跑的智能合约，直接部署到 EVM 等价链上，**不改一行代码**、工具链也不用换，合约行为会如你预期那样一致。

**例子：**Optimism（OP）、Arbitrum。

* * *

### 2）EVM 兼容（EVM Compatibility）

**EVM 兼容链**也能执行用 Solidity 等 EVM 语言写的合约，但它们在“底层实现”上做了一些改动或优化，因此不一定与以太坊主网 **完全同构**。

**对开发者的含义：**  
大部分代码通常能顺滑运行，但这些底层差异有时会让你需要做一些小调整，或者使用更专门的工具来部署、交互和调试。

**例子：**Polygon zkEVM、zkSync Era。
<!-- DAILY_CHECKIN_2026-01-18_END -->

# 2026-01-16
<!-- DAILY_CHECKIN_2026-01-16_START -->






## 理解 Gas：以太坊网络的“燃料”

如果你曾在以太坊这样的区块链上发送过交易，大概率已经在区块浏览器里见过诸如 **“Transaction Fee（交易费）”**、**“Gas Price（Gas 价格）”** 这样的词。这些并不是用来吓唬新人的术语，而是网络运行的核心机制，它们决定了你的交易**要花多少钱**、**多久能被处理**。

* * *

## 什么是 Gas？——计算工作的度量单位

先打个比方。

把区块链想象成一个**极其繁忙的数字快递系统**。  
你做的每一件事，比如：

-   转账 ETH
    
-   铸造 NFT
    
-   调用某个 DeFi 或 DApp 合约
    

都相当于往这个系统里**寄一个包裹**。

现实世界中，寄快递需要成本：燃料、人力、时间。  
区块链世界也一样：  
处理交易需要节点消耗**计算资源**。

-   一封信 → 很轻 → 成本低
    
-   一箱钢筋 → 很重 → 成本高
    

在这个比喻中：

> **Gas = 衡量一次交易需要消耗多少计算工作的单位**

### 具体一点

-   **普通 ETH 转账**
    
    -   是一种标准、可预测的操作
        
    -   消耗 **固定的 21,000 Gas**
        
    -   相当于“轻量包裹”
        
-   **复杂的智能合约交互**
    
    -   包含更多计算步骤
        
    -   消耗更多 Gas
        
    -   相当于“重型包裹”
        

一句话总结：

> **Gas 是用来衡量“你的交易到底让网络干了多少活”的单位。**

* * *

## 什么是 Gas Price？——交易优先级的价格

继续沿用快递比喻：

-   **Gas**：包裹有多重
    
-   **Gas Price**：你愿意为“每单位重量”付多少钱
    

在以太坊中，Gas Price 通常用 **Gwei** 表示：

> 1 Gwei = 0.000000001 ETH

### 为什么 Gas Price 会影响速度？

因为处理交易的并不是慈善机构，而是**经济理性人**。

区块的“快递员”——验证者（Validators）——会优先处理**对自己最赚钱的交易**。

假设有两笔完全一样的交易：

-   都需要 **21,000 Gas**
    
-   区别只在 Gas Price
    

| 发送者 | Gas Price |
| --- | --- |
| A | 高 |
| B | 低 |

验证者会先处理 **A 的交易**，因为利润更高。

### 拥堵时会发生什么？

当网络很忙（比如 NFT 铸造、空投、行情剧烈波动）：

-   大量交易同时涌入
    
-   用户开始抬高 Gas Price 抢优先级
    
-   形成事实上的**竞价机制**
    
-   平均 Gas Price 被整体抬高
    

于是：

-   **高 Gas Price** → 快速确认
    
-   **低 Gas Price** → 排队等待，直到网络空闲
    

没有玄学，只有市场。

* * *

## 如何计算你的交易总费用？

你最终支付的成本叫 **Transaction Fee（交易费）**，计算公式非常朴素：

> **Transaction Fee = Gas Used × Gas Price**

也就是说：

-   Gas Used：这笔交易实际消耗了多少计算工作
    
-   Gas Price：你为每单位 Gas 出多少钱
    

相乘，得到你实际付出的 ETH 数量。

* * *

## 在钱包和区块浏览器中如何体现？

### 区块浏览器中

你常会看到类似：

> **Gas Limit & Usage by Txn：21,000 / 21,000 (100%)**

含义是：

-   **Gas Used（21,000）**  
    实际消耗的 Gas  
    对普通 ETH 转账是固定的
    
-   **Gas Limit（21,000）**  
    你允许这笔交易**最多**消耗多少 Gas  
    是一种安全阀，防止合约异常把你钱包榨干
    
-   **Gas Price**  
    比如 1.5 Gwei
    

区块浏览器显示的 **Transaction Fee**，就是它们的乘积。

* * *

### 在 MetaMask 中

当你发起交易时，MetaMask 通常给你几个选项：

-   **Low（低）**
    
    -   Gas Price 偏低
        
    -   省钱
        
    -   慢
        
    -   适合不着急的人
        
-   **Market（默认）**
    
    -   基于当前网络平均值
        
    -   成本和速度的折中
        
    -   大多数情况推荐
        
-   **Aggressive（激进）**
    
    -   Gas Price 明显偏高
        
    -   几乎立刻确认
        
    -   为“我现在就要”付费
        
-   **Advanced（高级）**
    
    -   手动设置 Gas 参数
        
    -   适合知道自己在干什么的人
        
    -   也适合自信地犯错
        

本质上，你在做的只是一个选择：

> **用钱换时间，还是用时间换钱。**

* * *

## Gas 费给了谁？

以太坊不是公司，没有客服，也没有财务部。

网络由全球无数**独立的验证者节点**维护，他们负责：

-   处理交易
    
-   打包区块
    
-   维护共识与安全
    

Gas Fee 就是他们的**经济激励**。

> **谁把你的交易打进区块，Gas 费就给谁。**

简单、直接、不讲情面。

* * *

## 为什么必须用“原生代币”支付 Gas？

每条区块链都有自己的**原生货币**，就像国家有法币一样：

-   以太坊 → ETH
    
-   比特币 → BTC
    

规则是铁的：

> **交易手续费永远用该链的原生代币支付。**

因此：

-   在以太坊上
    
    -   即便你转的是 USDC、SHIB
        
    -   **Gas 仍然必须用 ETH 支付**
        
-   在比特币上
    
    -   手续费只能是 BTC
        

结论很现实：

> **钱包里没有原生代币，你什么都干不了。**
<!-- DAILY_CHECKIN_2026-01-16_END -->

# 2026-01-14
<!-- DAILY_CHECKIN_2026-01-14_START -->







# 什么是区块链预言机问题？

在探讨 Web3 中最根本的挑战之一之前，我们先快速回顾两个核心概念。

首先，区块链是一种**去中心化、无需信任的事实来源**。  
它是一个分布在大量节点上的共享账本，确保没有任何单一实体能够控制系统。这种架构创造了一个**透明的、无需许可的、抗审查的系统**。

其次，智能合约是**运行在区块链上的、去中心化且不可篡改的协议**。  
它们是按照代码确定性执行的程序，不需要任何中介来强制执行规则。从本质上说，**代码本身就是法律**。

这两种技术共同构建了一个强大、自洽且安全的数字世界。然而，具有讽刺意味的是，它们最大的优势——**安全隔离性**——同时也是它们最大的限制。

* * *

## 区块链的“孤立世界”

从设计上看，区块链以及运行在其上的智能合约是**封闭的隔离系统**。  
它们只能读取和交互已经存在于区块链上的数据，也就是所谓的**链上数据**，例如账户余额、代币转账记录，或其他智能合约的状态。

它们并不具备任何原生能力去访问现实世界中的外部数据，这类数据通常被称为**链下数据**。

这就造成了一个严重的问题：如果智能合约想要在现实世界中真正发挥作用，它们往往必须依赖来自数字世界之外的信息。

例如：

-   一个去中心化保险合约，需要获取天气信息，才能在发生洪水时自动理赔；
    
-   一个 DeFi 借贷协议，需要实时的股票或加密资产价格来管理抵押品；
    
-   一个预测市场，需要知道体育比赛的最终比分或选举结果，才能结算赌注；
    
-   一个供应链应用，需要确认包裹是否已经被成功送达。
    

如果无法访问这些链下数据，智能合约就只能局限于简单的代币操作。  
**如何安全地将外部数据引入区块链**，这一挑战被称为**区块链预言机问题**。

* * *

## 确定性：问题的根源

你可能会问：“为什么智能合约不能直接调用一个天气网站的 API？”

原因在于区块链的一个核心原则：**确定性**。

一个确定性的系统，在给定相同输入的情况下，必然产生相同的输出。正是这种可预测性，使得分布在全球各地的成千上万个节点能够处理同一笔交易，并最终达成完全一致的状态，从而维持共识与安全。

然而，现实世界的数据是**非确定性的**。  
来自 API 的数据可能在极短时间内发生变化。如果网络中的不同节点在略有差异的时间点去获取同一份数据，它们得到的结果就可能不同。

例如，一个节点读到的温度是 25°C，而另一个节点在一毫秒后读到的是 25.1°C。  
这种微小的不一致，足以导致节点之间对区块链状态产生分歧，从而破坏共识机制，使整个系统失效。

* * *

## 预言机：连接现实世界的桥梁

解决这一问题的方法是使用**预言机**。

预言机是一种服务，充当了现实世界与区块链之间的桥梁。它负责获取链下数据，并将这些数据传递给区块链上的智能合约使用。

然而，如果只使用一个**中心化的预言机**，就会重新引入区块链最初试图消除的问题：**单点信任与单点故障**。

如果这个预言机被黑客攻击、突然下线，或者其控制者恶意提供错误数据，那么所谓“不可篡改”的智能合约，其结果就完全依赖于一个必须被信任的第三方。这从根本上违背了去中心化的初衷。

* * *

## 去中心化预言机网络（DON）

正如区块链需要一个去中心化的节点网络来确保安全，预言机同样需要一个去中心化的网络来建立可信性。这正是\*\*去中心化预言机网络（Decentralized Oracle Network，DON）\*\*的意义所在。

一个 DON 由多个彼此独立的预言机节点组成。  
智能合约不再依赖单一数据源，而是向整个网络发起请求，其工作流程通常如下：

1.  网络中的多个独立节点，从现实世界中获取同一项数据，例如来自多个高质量数据源的 ETH 价格；
    
2.  这些节点相互校验数据；
    
3.  它们通过某种共识机制，达成一个被共同认可的结果；
    
4.  最终，这个经过验证的一致数据被提交到链上，供智能合约使用。
    

这种去中心化的过程，确保了传入区块链的数据具备**准确性、可靠性，以及对操纵和单点故障的抵抗能力**。

* * *

## 混合智能合约的兴起

当安全的链上代码，与由去中心化预言机网络提供的可靠链下数据相结合时，就形成了所谓的**混合智能合约**。

这种架构包含两个关键组成部分：

-   **链上组件**：部署在区块链上的核心智能合约逻辑，提供去中心化、安全性和透明性；
    
-   **链下组件**：由去中心化预言机网络提供的现实世界数据与计算能力。
    

这种混合模型融合了两者的优势：  
既保留了区块链不可篡改的安全性，又获得了现实世界丰富的数据和功能。

如今，从 DeFi 到区块链游戏，大多数主流 Web3 协议都采用了这种混合架构。事实上，“智能合约”这个词，在很多语境中已经几乎等同于“混合智能合约”，因为这是构建真实世界应用所不可或缺的模式。

* * *

## Chainlink：行业领先的预言机网络

Chainlink 是当前行业标准级的、模块化的去中心化预言机网络，为解决预言机问题提供了关键基础设施。

它的一大优势在于**区块链无关性**，也就是说，它可以与多种区块链进行集成，包括以太坊、Avalanche、Polygon、zkSync 等。这使得学习和使用 Chainlink 成为一项高度可迁移、对 Web3 开发者极具价值的技能。
<!-- DAILY_CHECKIN_2026-01-14_END -->

# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->








## 区块链的“无需许可”力量

要理解为什么区块链技术如此具有革命性，我们首先得看一个最底层的概念：**所有权**。在传统金融世界里，你对自己钱的使用权，本质上是建立在“被允许”的前提上。想想看：你要开账户需要银行允许；要跨境转账需要允许；要一次性取大额现金需要允许；要做一笔重大消费也可能需要允许。中介机构握着最终控制权，它们“授权”你使用你的资金，而这种授权随时可能被收回。于是就出现了一个尖锐的问题：**如果别人能拒绝你使用你的钱，那它到底还算是你的吗？**

区块链把这个模式整个翻过来，因为它是\*\*无需许可（permissionless）\*\*的。在区块链网络上，你对资产拥有更真实的所有权与控制权。没有哪个中央权威或中介能拒绝你接入网络，也没有谁能阻止你发起一笔交易。你不需要请求许可才能使用本来就属于你的东西。这种从“许可制系统”向“无需许可系统”的转变，把权力与自主性重新还给了个体。

* * *

## 可信中立：一个没有偏爱的系统

传统金融系统并不总是中立的。它们可以，而且经常会，存在歧视：你可能因为国籍、信用评分，甚至政治立场而被拒绝服务。许多系统要求政府签发的身份证件或固定住址，这会自动把全球数以百万计的人排除在外。银行还可以阻止向某些国家的跨境支付，等于把整片人群从全球经济中“断网”。

相较之下，区块链在设计上是\*\*可信中立（credibly neutral）\*\*的。底层协议，也就是驱动网络运行的代码，被设计为尽可能不偏不倚。它不知道你的名字、位置、财富或背景。系统“字面意义上”无法偏袒任何人，因为它只是按规则执行的代码。交易验证依据的是数学规则，而不是人的偏见。这就创造了一个更平整的竞技场：规则对所有人一视同仁，不管你是谁、来自哪里。

* * *

## 去中心化：打不死的网络

这些好处背后的力量来自**去中心化**。传统系统是中心化的，这意味着它们有一个控制中心，也就有一个单点故障。政府可以关掉一家银行；银行可以冻结你的账户；公司也可能破产，把客户资金一并带走。只要中心服务器被查封或宕机，整个服务就可能崩溃。

区块链是去中心化的。它不由某一个公司运行，也不存放在某一台服务器上。相反，它由全球成千上万台计算机（节点）共同维护，每个节点都保存着同一份信息副本。没有单一的控制中心可供攻击或关闭。要想让网络停止，你几乎得把互联网本身也一起关掉。即便政府或银行试图封锁它，网络仍能继续运行、继续处理交易，因为没有任何单一实体能控制它。这让它极其有韧性、安全，并且很难被“按掉电源”。

* * *

## 不可篡改与透明：用代码建立信任

最后，传统金融与法律系统往往并不透明。关键决策和操作经常在幕后完成。而且规则还可能在你毫无预警时改变：银行可能调整收费结构；公司可以在你同意条款之后再更新服务条款；政府也能一夜之间修改监管规则。这会带来不确定性与信任缺失。

区块链通过**不可篡改性**与**透明性**为信任提供基础。

**透明性（Transparency）：** 公链上的所有交易记录对所有人可见。任何人都可以审计网络，验证资金流向，确认系统是否按预期运行。协议规则也写在开源代码里，任何人都能查看与检验。

**不可篡改性（Immutability）：** 一旦交易被验证并写入区块链，它就不能被更改、篡改或删除。这会形成一份永久、不可更动的历史记录。

这两者结合起来，使系统既可预测又值得信任。你不必相信某个人或某家公司会“守信用”，你只需要相信代码，而代码会按照它写下的方式运行，并且全过程公开可见。

* * *

## 走进多链世界：从 L1、L2 到测试网

当你刚踏入 web3 世界时，很容易以为“区块链”是一个单一整体。但现实是：这里是一个庞大且不断膨胀的宇宙，由许多不同区块链组成的“多链世界”，足以让人产生轻微的认知性眩晕。除了比特币和以太坊，还有 zkSync、Solana、Arbitrum、Polygon、Optimism 等一堆名字。

* * *

## 可扩展性难题：为什么会有这么多链？

新链爆炸式增长的首要驱动力，是\*\*可扩展性（scalability）\*\*的挑战。要理解这一点，我们回到 2021 年的 NFT 热潮。

那段时间，成千上万用户涌入以太坊网络去铸造、买卖 NFT。但以太坊的设计吞吐量大约只有每秒 15–30 笔交易。当交易需求远远超过网络处理能力供给时，网络就会**拥堵**。

把以太坊网络想象成通往繁华城市的一条主干高速。高峰期它会堵成停车场：车流慢到爬行，打车价格飞涨。区块链拥堵时也一样：交易速度断崖式下降，而交易手续费（让你的交易被处理的成本）变得离谱。你甚至可能遇到这样的荒诞场景：**转 50 美元要交 200 美元手续费**，这让它完全不适合日常使用。

这种“需求高 → 速度慢 → 手续费爆炸”的根本问题，促使加密社区去寻找解决方案。答案是：**修更多的路**。

* * *

## 修更多的路：Layer 1 与 Layer 2 区块链

“修更多的路”主要落地成两种方式：

-   修一条全新的高速（**Layer 1**）
    
-   在原有高速上加建高架快车道（**Layer 2**）
    

* * *

## Layer 1（L1）区块链

**L1** 是从零开始构建的、基础且独立的区块链。比如 Solana、Avalanche。它们相当于全新高速公路，用不同的工程设计来追求比以太坊更高的速度、更低的成本。每条 L1 都有自己的安全模型、开发者社区和独特生态。

学习不同 L1 有点像学不同语言。本课程聚焦以太坊生态，因为它目前最大、最成熟，类似“西班牙语”这种广泛使用的语言。一旦你理解了以太坊，再去学其他 L1 会容易很多，就像懂西班牙语更容易上手意大利语或葡萄牙语一样。

* * *

## Layer 2（L2）区块链

**L2** 是构建在某个底层 L1 之上的区块链，最常见是构建在以太坊之上。像 Arbitrum、Optimism、zkSync 这类 L2，就像是在拥堵的以太坊高速上方加建的“快车道”。

它们的核心目标是更高效地处理交易：  
L2 会以极低成本在“链下”处理大量交易，把这些交易打包成一个压缩后的摘要，然后把摘要提交回以太坊 L1 主网。这样做的结果是：它们在获得**更快速度、显著更低手续费**的同时，还能继承以太坊的**安全性与去中心化**特征。

* * *

## 真金白银 vs 练习场：主网与测试网

当你与这些区块链交互时，你会处在两种环境之一：**主网（Mainnet）或测试网（Testnet）**。

* * *

## 主网（Mainnet）

主网是真实运行的公开区块链，交易会带来现实中的金融后果。你在以太坊主网上发送代币或与应用交互时，用的是具有真实价值的数字资产。每一笔交易手续费都是真钱，犯错的后果也通常是永久的。就像你第一次坐到扑克桌前，直接用自己的现金开局。

* * *

## 测试网（Testnet）

测试网是并行的测试环境：它复制了主网的协议规则，但使用的代币没有现实价值。这个“零风险练习场”允许开发者部署并测试智能合约，也允许用户试用应用而不必担心亏真钱。

要拿到测试网用的“假币”，你需要用**水龙头（faucet）**。水龙头通常是一个网站，你提交钱包地址后，它会免费给你发测试网代币。按本文写作时点，以太坊主要测试网叫 **Sepolia**。

* * *

## 唯一身份证：什么是 Chain ID？

有这么多网络（L1、L2、主网、测试网），钱包和应用怎么知道自己连的是哪一条？答案是 **Chain ID**。

**Chain ID** 是一个唯一数字，用来标识某条区块链网络。它能防止你把珍贵的以太坊主网资产“误用”到 Sepolia 测试网（或者反过来）。例如：

-   以太坊主网的 Chain ID 是 **1**
    
-   Sepolia 测试网的 Chain ID 是 **11155111**
    

你的钱包会用 Chain ID 来确保：你签名的每一笔交易都在正确的网络上执行。你也可以在像 [chainlist.org](http://chainlist.org) 这样的网站上查到数百条区块链的 Chain ID 和连接参数。

* * *

2026.1.13  
熟悉了L1、L2的基础概念

新链大量涌出的首要驱动力：可扩展性（scalability）
<!-- DAILY_CHECKIN_2026-01-13_END -->

# 2026-01-12
<!-- DAILY_CHECKIN_2026-01-12_START -->









# 什么是区块链？

要真正理解什么是区块链，我们得先搞清楚它最初想解决的核心问题。说到底，区块链技术是在回应中心化系统内在的脆弱性与局限性，无论是我们管理金钱的方式，还是我们达成集体协议的方式，都逃不开这些问题。

* * *

## 问题：一个建立在“中心化信任”上的世界

现代社会靠中介运转。我们相信银行替我们管钱，相信科技公司替我们保存数据，相信选举委员会替我们计票。它们通常效率很高，但这种对中心机构的依赖，会带来与**控制、许可、信任**相关的一系列严重问题。

* * *

## 中心化货币的缺陷

在传统金融体系里，转账并不是你和对方之间的直接交换，而是你向某个中心中介（比如银行）发出请求，让它去更新自己私有的账本记录。你信任它会从你的账户扣款，并在与其他银行协作后，把钱记到收款人的账户上。这种体系把巨大的权力集中到了少数机构手里。

-   **绝对控制**：中心机构可以单方面冻结你的资产、阻止交易，甚至彻底拒绝为你提供服务。你要动用“自己的钱”，也得先得到它的许可。
    
-   **排除性**：这个系统很容易把人挡在门外。比如某个国家的自由职业者，所在地区没有完善的银行基础设施；银行可能要求“永久地址”才能开户，而这是银行自己定的门槛。结果就是：他们无法收取海外客户的付款，被中心化的“守门人”直接踢出全球经济。
    
-   **隐私缺失与审查**：以太坊创始人 Vitalik Buterin 在 2022 年想向乌克兰的人道主义行动捐款时，如果走传统银行体系，就会留下公开的资金流转“纸面痕迹”。这可能会引起敌对政府注意，让接收方处于风险之中。而通过区块链上的加密货币，他可以即时转账，并且不需要依赖任何可能阻止、监控或审查这笔交易的中心机构。
    

* * *

## 中心化协议的难题

金融之外，我们也依赖中心机构来充当集体协议的“唯一真相来源”。但这只在所有人都相信它公正诚实时才成立。

想象一个小镇选举，三方分别是苹果党、梨党、香蕉党。一个中心委员会私下收集并统计所有纸质选票。当它宣布苹果党获胜时，现场直接炸锅。落败的党派声称选举被操纵，但他们没有任何办法独立核验结果。委员会握着“真相”，一旦公众对它的信任崩塌，整个制度的合法性也就跟着塌了。

这并不只是理论问题。大型选举一旦出现舞弊质疑，本质矛盾是一样的：公民无法独立审计全过程，只能被迫信任中介；而当信任被质疑时，就缺少一种数学意义上、可验证的方式来终结争议。

* * *

## 解决方案：一种“最小信任”的系统

区块链为货币与协议提供了新的模型，它不要求你去信任某个人或机构。它构建的是一种**最小信任（trust-minimized）体系：参与者依赖的是透明、可验证的数学与代码**，而不是“某个权威说了算”。它通过几个核心概念实现这一点。

* * *

## 共享的去中心化账本

不再是每家银行维护各自的秘密账本，而是区块链作为一个**单一、共享、分布式**的数字账本存在。可以把它想成一本全球通用的记录簿，被复制并分发到世界各地成千上万台计算机上。每一个保存账本副本的计算机或参与者，叫作一个**节点（node）**。

这些节点组成一个**去中心化的点对点（P2P）网络**。没有中心服务器，也就没有单点故障。每当产生一笔新交易，它会被广播到网络里，然后像“八卦传播”一样从节点传到节点，直到所有参与者都拥有相同、最新的账本副本。

* * *

## 区块：账本的“页面”

交易不是一条一条直接写进账本的，而是先被收集、打包成一个个交易集合，叫作**区块（block）**。你可以把一个区块看作全球记录簿中的一页。当这一页装满并验证完交易列表后，它就准备被加入这本“书”里。

* * *

## 链：用密码学连接出来的信任结构

这就是区块链里“链”的来源。区块按时间顺序连接起来，并用密码学加固，形成一段永久且连续的历史。

具体机制如下：

-   **哈希（Hash）**：当一个区块生成时，它内部的所有交易数据会被送入一种密码学算法，产生一个唯一的编码，称为哈希。这个哈希就像该区块的数字指纹，或者说是它的“封印”。只要交易数据里哪怕改动一个字符，哈希值都会彻底变化。
    
-   **链接成链**：每个新区块都会包含两个关键密码学要素：它自己的哈希值，以及前一个区块的哈希值。这是关键一环。新区块把前一区块的“指纹”写进自己体内，于是每个区块都在数学上连回创世区块，形成一条链。
    

这种结构带来了区块链的防篡改性（不可变性，immutable）。如果某个恶意者试图篡改旧区块里的交易，比如改掉账本第 10 页的一条记录，那么第 10 页的哈希（指纹）就会改变，等于“封印被撕开”。但第 11 页里保存的是原本正确的第 10 页哈希值，因此两页之间的链接会立刻断裂。这个断裂会一路连锁蔓延到后续所有区块，使得篡改对所有节点都立刻可见。网络会自动拒绝这份被篡改的账本版本，从而维护真实记录的完整性。

* * *

## 数字货币：网络的“燃料”

为了在没有银行的情况下运行去中心化金融系统，区块链使用自己的数字货币（加密货币）。这些货币只存在于账本之上，使用户能够在这种最小信任框架内，直接且安全地转移价值，而不需要任何中心机构的许可。

* * *

## 总结

区块链是一种**去中心化、分布式、共享**的数字账本。它由打包交易的区块组成，这些区块按时间顺序连接成链；链通过密码学加固，从而形成一段永久且防篡改的历史记录。它通过移除“必须信任中心中介”这一前提，使人们能够以更透明、更安全、更开放的方式进行交易与达成协议。

#   
  
  
  
  
  
  
  
区块链的起源：从数字现金到比特币

要理解区块链技术的力量与目标，得先回到它的“祖师爷”问题：人类一直想要一种真正的数字货币。这段旅程起点并不是区块链本身，而是“在数字世界里如何创造并转移价值”这一堆基础难题。故事从一个困扰计算机科学家几十年的关键问题开始，最终在比特币的诞生中达到高潮，比特币是第一个真正解决该问题的技术。

* * *

## 比特币：第一个去中心化数字货币

2008 年，一个化名为中本聪（Satoshi Nakamoto）的匿名个人或团体发表了一篇论文，首次提出比特币（Bitcoin）。比特币不仅是一种数字货币，它也是承载并运行该货币的去中心化网络（也就是区块链）的名字。它很快获得了“数字黄金”的称号，原因很简单：像黄金一样，它的供给量可被证明是有限的。代码规定比特币的总量上限为 2100 万枚，因此它是一种稀缺的数字资产。

比特币最核心的创新是革命性的：它首次让世界上任何两个人都能在不依赖银行、信用卡公司或政府等可信中介的情况下，进行数字化的价值转移与保存。虽然它并非最早的数字现金尝试，但它是第一个成功解决一个致命缺陷的系统，这个缺陷叫作“双花问题（double-spend problem）”。

* * *

## 解决“双花问题”

“双花问题”指的是：同一单位的数字货币存在被花两次甚至多次的内在风险。在实体现金里这是不可能的，因为你把一张 20 美元纸币交给别人后，你就不再拥有它，无法再用它去支付第二次。但数字信息不同。

你可以把它类比为发送照片邮件：你把照片发给朋友时，你并不会失去自己的那份照片，只是复制了一份发出去。如果数字货币也像这样“复制就能发送”，那你就可以把 100 美元转给别人，对方收到了，你自己还保留着原来的 100 美元继续消费。货币一旦能随意复制，就会立刻变得一文不值。

早期的数字货币尝试（例如 1980 年代的 DigiCash）曾试图解决这个问题。DigiCash 的方案是引入一个中心权威机构（单一公司）来维护一个“主账本”，记录所有余额并验证每笔交易。这个办法确实可行，但它引入了致命缺陷：中心实体拥有绝对控制权，可以冻结资金、拒绝交易、审查用户。这直接违背了人们想建立一种不受中心化控制、没有单点故障的货币系统的初衷。

* * *

## 去中心化信任的挑战：拜占庭将军问题

在没有中心领导者的情况下，让一个系统就“唯一真相”达成一致，是计算机科学里的经典难题之一，叫作“拜占庭将军问题（Byzantine Generals Problem）”。

这个类比是这样的：一群拜占庭将军包围了一座敌城，他们必须在同一时间协同进攻。但他们只能靠信使传递消息，而一些将军或信使可能是叛徒，会故意传递假信息来破坏计划。问题来了：忠诚的将军如何达成共识，确保能统一行动并取得胜利？

这与去中心化计算机网络（节点）维护货币账本完全同构：网络必须共同决定哪些交易有效、交易发生的顺序是什么，即使网络里存在恶意节点试图散播假信息（比如尝试双花）也要能维持一致。

* * *

## 中本聪的突破：比特币白皮书

中本聪在 2008 年的白皮书里提出了一个优雅的解决方案，同时应对双花问题与拜占庭将军问题。这个解决方案就是比特币，一种建立在新技术“区块链”之上的系统。

核心思想是：通过把交易账本分发给网络中的每一个人，来消除对中心权威机构的需求。在这个点对点系统里，每个参与者都持有完整的交易历史副本。当新交易发生时，网络共同验证它，把它打包进一个“区块（block）”，再把区块加入到之前区块构成的“链（chain）”中，形成一个永久且不可篡改的记录。

这种设计形成了一个“可信中立（credibly neutral）”的系统：

-   **中立性**：网络是无偏的。它不关心用户的身份、位置、财富或交易目的，只按代码规则处理有效交易。
    
-   **可信性**：这种中立性不是建立在“相信某个人或机构不偏不倚”之上，而是因为规则写入了开源代码，并由整个去中心化网络共同执行，因此具有可信保证。
    

最终结果是：一个全球性的、无需许可的、抗审查的货币系统。任何拥有互联网连接的人都可以使用它。这对生活在货币不稳定国家、金融体系高度限制地区的人，或对被传统银行排斥的数十亿人，都可能带来改变命运的意义。

* * *

## 以太坊：进化为“世界计算机”

比特币诞生几年后，一位年轻开发者 Vitalik Buterin 看到机会，想把比特币的核心思想扩展到更广的领域。他认为“可信中立”的原则不仅能用于货币，也能用于协议与合约。

2015 年，Buterin 与一组联合创始人推出以太坊（Ethereum）。和比特币一样，以太坊也有自己的原生数字货币 Ether（ETH），用于为网络提供动力。但以太坊真正的“超能力”是：它能在区块链上运行计算机代码，从而执行被称为“智能合约（smart contracts）”的“不可破坏协议”。

* * *

## 智能合约：代码即不可破坏的法律

“智能合约”的概念最早由密码学家 Nick Szabo 在 1994 年提出，但直到区块链技术出现后，它才真正变得可落地。智能合约是一种数字协议，其条款直接写进代码中。这些代码部署在区块链上，由网络自动执行与强制执行合约规则，并产生合约结果。

对比传统协议与智能合约可以更直观：

-   **传统协议（买房）**：过程需要大量可信中介，比如银行、律师、产权代理等。它缓慢、昂贵，并且你必须相信每个参与方都诚实且高效。
    
-   **智能合约协议（航班延误保险）**：想象保险条款写成智能合约，规则很简单：“如果航班延误超过 24 小时，则自动退还乘客机票款。”智能合约连接一个可靠的航班数据来源。一旦条件满足，代码自动执行，在几分钟内把退款发送到你的数字钱包。无需提交理赔、无需扯皮、保险公司也无法篡改条款或拒赔。协议由代码不可篡改的逻辑来执行。
    

* * *

## 比特币 vs 以太坊：计算器 vs 计算机

一个简单类比可以说明两者的根本区别：

-   **比特币像计算器**：它被刻意设计得很简单，只为了把一件事做到极致：成为安全、去中心化的价值储存与交换媒介。它的功能被有意限制（它是图灵不完备的），以最大化安全性与可靠性。
    
-   **以太坊像世界计算机**：它能做到比特币能做的事，但目标远更广。作为图灵完备系统，它被设计为一个灵活平台，开发者可以在上面构建并运行大量“不可阻止”的应用与复杂协议，通过智能合约实现。
    

![QQ20260112-190622.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/BlockLeek404/images/2026-01-12-1768216361868-QQ20260112-190622.png)

2026.1.12  
学习了区块链、比特币、以太坊的基础概念  
创建了热钱包，并领取了测试币，进行了第一次转账
<!-- DAILY_CHECKIN_2026-01-12_END -->
<!-- Content_END -->
