---
timezone: UTC+8
---

# mingd1n

**GitHub ID:** mingd1n

**Telegram:** @axl_ttt

## Self-introduction

Web3 实习计划 2025 冬季实习生 Axel

## Notes

<!-- Content_START -->
# 2026-01-15
<!-- DAILY_CHECKIN_2026-01-15_START -->
今天算是把比特币原理完全弄懂了  
#区块链基础 #比特币 #共识机制 #PoW #挖矿原理 #双花攻击 #网络安全 #博弈论 #概念

\## 1. 区块链的基础架构

\> **核心逻辑**：钱包只是 ID，网络负责记账，账本全球同步。

\- **钱包地址**：

\- 只是一个身份/地址，\*\*本身不参与记账\*\*。

\- 但当发生交易时，这个地址会被记录在区块链上。

\- 确认私钥（交易身份）

\- **区块链形态**：

\- 是一个随着交易增多而\*\*越来越长\*\*的链条（无数个账本页连成的书）。

\- 每一页账本都保存前一页标识（从而连起来）

\- **分布式存储**：区块链的\*\*完整副本\*\*被保存在全球无数个节点中：

1\. **矿工 (Miners)**：负责记账和挖矿。

2\. **审计节点 (Full Nodes)**：负责保存账本和验证（你提到的“审计”）。

\## 2. 挖矿的本质 (Mining)

\> **一鱼两吃**：既是发行新币，也是维护旧账。

\- **行为本质**：

1\. 给自己挖出\*\*新的比特币\*\*（Coinbase 奖励），类似滴滴司机发底薪

2\. 同时帮别人\*\*记账\*\*（打包交易），赚手续费（取决于打包数量多少）

\- **收入来源**：区块奖励 + 交易手续费。

_若比特币挖光，则矿工只收手续费_

\## 3. 挖矿资格与安全逻辑 (PoW)

\- **资格来源**：\*\*算力 (Hashrate)\*\*。

\- **安全博弈逻辑**：

\- 你耗费了巨大的物理成本（算力/电费）。

\- **万一作假**（如记假账、签名对不上）：会被全网拒绝，导致之前耗费的巨大算力\*\*全部浪费\*\*。

\- _结论：作恶成本 > 作恶收益，所以被迫诚实。_

\---

\## 4. 双花攻击 (Double Spend)

\> **利用 51% 算力篡改“主观确认”的历史**

#双花

\### 攻击流程推演：

1\. **制造冲突**：

\- 坏人同时发起两笔交易：

\- **明线**：发给交易者（好人）1 BTC。

\- **暗线**：发给自己小号 1 BTC（左手倒右手）。

2\. **时间差欺诈**：

\- 交易者看到“明线”交易在公链上确认了，\*\*主观上以为交易成功\*\*，于是把等价物（如车）给了坏人。

3\. **算力对决**：

\- **公链（49% 算力）**：正在确认给交易者的那笔合法交易。

\- **私链（51% 算力）**：坏人偷偷在背地里算“转给自己”的那笔交易。

4\. **最终胜出**：

\- 由于坏人掌握 **51% 算力** -> **算得更快** -> **链更长**。

\- 根据“最长链原则”，全网最后被迫\*\*以坏人的链为准\*\*。

\- _结果：给交易者的钱消失了，钱回到了坏人手里。_

\## 4. 双花攻击 (Double Spend) 与算力博弈

\> **核心定义**：利用 51% 算力篡改“主观确认”的历史，实现同一笔钱花两次。

\### 4.1 攻击流程推演

1\. **制造冲突**：坏人同时发起两笔交易。

\- **明线**：发给交易者（好人）1 BTC。

\- **暗线**：发给自己小号 1 BTC（左手倒右手）。

2\. **时间差欺诈**：交易者看到“明线”在公链确认，\*\*主观以为成功\*\*，于是交货。

3\. **算力对决**：

\- **公链（49%）**：确认合法交易。

\- **私链（51%）**：偷偷算“转给自己”的交易。

4\. **最终胜出**：由于 51% > 49%，私链更长。全网被迫\*\*以坏人的链为准\*\*。

\- _结果：给交易者的钱消失了，钱回到了坏人手里。_

\### 4.2 为什么必须是 51%？（40% 必输原理）

\> **问题**：假如坏人是个体最强（40%），好人分散（30%+30%），坏人依然无法攻击。

\- **自动结盟机制**：诚实矿工遵循“最长链原则”。当好人A挖出块，好人B会立刻\*\*基于A的块\*\*继续挖。

\- **结果**：诚实算力会自动叠加（30+30=60%）。

\- **结局**：60% 的增长速度永远快于 40%，坏人的私链永远追不上公链。

\### 4.3 攻击得逞后的后果：链重组 (Reorg)

\> **问题**：当坏人的私链覆盖公链时，旧链作废，里面的交易去哪了？

1\. **被攻击的交易（买车钱）**：\*\*彻底死亡\*\*。

\- 新链检查发现钱已转给坏人自己（双花冲突），直接丢弃。

2\. **无辜的路人交易**：\*\*“复活”\*\*。

\- 从旧块退回内存池，被新链重新打包（只是延迟，钱不丢）。

3\. **诚实矿工**：\*\*血本无归\*\*。

\- 旧块里的挖矿奖励（Coinbase）凭空消失，电费白亏。

\## 5.个人矿工的生存法则：矿池 (Mining Pool)

\> **核心问题**：小算力矿工如果单打独斗，挖到块的概率无限接近 0，如何生存？

\- **机制转变：从“彩票”到“工资”**

\- **Solo 模式 (赢家通吃)**：只有第一名拿走全部奖励。小矿工可能挖一辈子颗粒无收。

\- **矿池模式 (按劳分配)**：

1\. **汇聚算力**：无数小矿工连接到同一个矿池服务器。

2\. **共同竞争**：矿池作为代表去抢夺记账权，概率大增。

3\. **收益平摊**：矿池挖到币后，扣除手续费，剩下的按\*\*算力贡献比例\*\*分给所有矿工。

\- **防作弊机制：Share (份额)**

\- **原理**：矿池下发难度较低的任务（比如扔出3个6），你提交结果证明你在干活。

\- **逻辑**：你提交的 Share 越多，分红越多。虽然 Share 不等于最终的区块，但它证明了你的\*\*工作量 (Proof of Work)\*\*。
<!-- DAILY_CHECKIN_2026-01-15_END -->

# 2026-01-14
<!-- DAILY_CHECKIN_2026-01-14_START -->

1\. what is blockchain?

BTC:比特币钱包地址是不是只是一个地址不参与记账，但是这个地址被保存在一个随着交易增多越来越长的区块链中，然后无数个区块链的副本被存在全球无数矿工以及审计那里，对吗？比特币区块链可以理解为无数个账本连成的链，主要由全球各地的矿工来记账（以及挖矿？）

挖矿的本质就是自己挖了新的比特币，同时也在给别人记账，然后能获得手续费

挖矿的资格来源于算力，逻辑：你耗费了巨大的算力，万一算错就要浪费

完全正确：“私链变成了公链”。这正是攻击成功的标志——黑客的“版本”覆盖了大家的“版本”。

但是，关于后半句（“是不是有51%算力就可以像民主投票一样，我说这笔账有效，没人能反驳？”），这里有一个\*\*巨大的误区\*\*，也是大多数人对区块链最容易误解的地方。

结论是：\*\*你可以决定“哪笔交易上榜”，但你不能决定“这笔交易是否合法”。\*\* 即使你有99%的算力，你也无法指鹿为马。

让我帮你彻底理清这里的逻辑边界：

\-–

\### 1. 为什么 0.001% 的小矿工造不了假？

**—— 因为全网节点在看着你。**

你说：“我记了一笔账，99.9%的人要认同”。

其实不是他们“不得不”认同，而是他们\*\*“验证通过后”\*\*才认同。

\- **场景：** 你是那个 0.001% 的小矿工，你好不容易挖到了一个块。

\- **作恶尝试：** 你想在块里写上一笔假账：“马斯克转给我 1000 BTC”，但是你没有马斯克的私钥签名。

\- **结局：** 当你把这个块广播出去时，全网成千上万个全节点（审计员）会瞬间检测到：“Error！这笔交易没有合法签名！”

\- **后果：** 大家直接把你的块丢进垃圾桶。你浪费了电费，一分钱奖励都拿不到。

**结论：** 弱者无法造假，是因为\*\*规则（代码）\*\*限制了必须有合法签名。

\-–

\### 2. 为什么 51% 的大矿工也不能“胡作非为”？

**—— 算力霸权是有边界的。**

你说：“相当于民主投票，我说这笔帐有效，没人能反驳？”

错。 即使你是皇帝（51%算力），如果你违反了物理定律（基础规则），百姓（全节点）照样会造反。

区块链遵循的是\*\*“最长且合法的链”\*\*原则，重点在于\*\*“合法”\*\*。

\#### 此时，51% 算力能做什么，不能做什么？

|\*\*你的权力（51%算力）\*\*|\*\*结果\*\*|\*\*为什么？\*\*|

|—|—|—|

|\*\*我要把“我转给你钱”这笔交易抹掉\*\*|\*\*✅ 能做到\*\*|因为“不打包某笔交易”是矿工的权利。你只是把历史改写为“这笔钱从未花出去”。这是合法的（虽然不道德）。|

|\*\*我要把“马斯克的钱”转给我\*\*|\*\*❌ 做不到\*\*|因为你没有马斯克的私钥。如果你强行打包这笔没有签名的交易，全节点（交易所、钱包商）会判定你的\*\*整条长链是非法链\*\*，直接拒绝接收。|

|\*\*我要凭空给自己印 1 亿个币\*\*|\*\*❌ 做不到\*\*|因为比特币协议写死了“挖矿奖励是多少”。你改了规则，你的链就变成了另一个币（比如“黑客币”），没人陪你玩了。|

\#### 形象比喻：

51% 攻击者就像是一个\*\*“黑帮编辑”\*\*，控制了报社（账本）。

\- **他能做的：** 决定\*\*哪篇稿子可以刊登\*\*，或者把昨天刊登的某篇稿子\*\*撤下来\*\*（双花、审查）。

\- **他做不到的：** 他没法把大家公认的汉字“钱”字改成“纸”字，也没法伪造作者的亲笔签名。因为读者（全节点）一旦发现报纸上的字是错别字或者签名是假的，哪怕这报纸印得再厚，大家也会直接退订，不承认它是正版报纸。

\-–

\### 3. 既然私链变成了公链，那不就是“指鹿为马”成功了吗？

只有在一种情况下成功：\*\*“指鹿为鹿”\*\*（把真实的交易撤回），而不是“指鹿为马”（凭空捏造交易）。

回到我们之前的“双花”例子：

\- **黑客的私链：** 也是完全符合比特币数学规则的！签名都是真的，哈希都是对的。

\- **区别在于：** 他只是\*\*“选择性地遗忘”\*\*了那笔给交易所转账的交易。

\- **节点视角：** 全网节点看到黑客的链时，心里想：“嗯，格式正确、签名正确、没有凭空造钱……而且这条链更长。好吧，按照规则，我得承认这条链。”

**所以，51% 攻击的本质是：利用规则（最长链原则）来回滚历史，而不是破坏规则（加密学原则）。**

\### 总结

你的理解其实非常接近核心了，只需要修正一点：

**算力投票投的是“交易的顺序”（历史），而不是“交易的真伪”（规则）。**

\- **0.001% 的人：** 必须遵守规则，且很难抢到记账权。

\- **51% 的人：** 依然必须遵守基础规则（不能抢钱、不能乱印钱），但拥有了\*\*“后悔药”\*\*的权利，可以把发出去的红包撤回来。
<!-- DAILY_CHECKIN_2026-01-14_END -->

# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->



## 比特币的本质：  
比特币总量固定在 **2100万个**（目前已挖出约 1980 多万，剩余越来越少，到 2140 年左右全部挖完）。

挖矿的过程就是：

1\. 你（或矿工/矿池）的设备 **挖到一个新区块**（大概每 10 分钟全网出一个）

\- 这意味着你成功解决了那个超级难的数学谜题（猜哈希），抢到了这个 10 分钟的“记账权”。

2\. 在你打包的这个新区块里，会自动包含一笔特殊的交易，叫 **“coinbase 交易”**（创币交易，不是那个交易所）。

\- 这笔交易是系统自动生成的：\*\*从“无”到“有”\*\*，凭空产生一定数量的新比特币（当前是 3.125 BTC/区块），直接转到你的挖矿地址（你设置的钱包地址）。

3\. 你把这个新区块广播给全网（全世界几万上万个比特币节点）。

\- 其他节点检查：谜题对不对？交易合法吗？没双花吗？

\- 如果大家都验证通过 → 这个区块就被加到区块链上，成为正式的“下一页账本”。

4\. **全网所有节点都会更新自己的账本**：

\- 大家看到你的地址多了这 3.125 个新比特币（加上区块里别人交易的手续费）。

\- 从这一刻起，全世界比特币网络都承认：\*\*这些新比特币是你的了\*\*，总量增加了这么多。

所以一句话总结：

**你挖矿挖到区块 → 系统自动给你发新比特币作为奖励 → 这个奖励被记录在你刚加的新区块里 → 全网所有节点都同步更新账本，承认这笔新比特币存在且属于你。**

\- 不是“所有区块链都需要记上一笔”，而是\*\*整个比特币网络（一条链）\*\*的所有节点都记上这一笔（因为它们都保存同一份完整的账本副本）。

\- 新比特币只通过挖矿产生，没有其他方式。

\- 每 4 年左右（每 21 万区块）奖励减半，现在是 3.125 BTC，下次减半预计 2028 年左右变成 1.5625 BTC。

这也是为什么比特币有稀缺性：总量上限 + 逐步减产，就像黄金越挖越难挖一样。

## 转账比特币的机制：

转账比特币的记账机制其实超级简单，但背后是全网一起“集体确认”的过程。咱们用最直白的话一步步说清楚（假设你用手机钱包转 0.1 BTC 给朋友）：

1\. **你发起转账**（创建交易）

\- 在钱包 App 里输入朋友的比特币地址 + 金额（比如 0.1 BTC） + 手续费（你自己选或默认）。

\- 钱包自动找出你之前收到的“零钱”（叫 UTXO，未花费交易输出），比如你有 0.15 BTC 的一个 UTXO，就用它当“来源”。

\- 钱包用你的\*\*私钥\*\*签名这个交易（证明是你本人授权的，没人能伪造）。

\- 结果：产生一笔“交易数据”，包括：来源（你之前的收款记录）、去向（朋友地址得 0.1 BTC，你自己找零 0.05 BTC 减手续费）、签名等。

2\. **广播到网络**（像发朋友圈一样推出去）

\- 你的钱包把这笔签好名的交易发给连接的几个比特币节点（通常通过 RPC 服务）。

\- 这些节点收到后，立刻检查：

\- 签名对不对？（用你的公钥验证）

\- 来源的比特币有没有已经被花掉？（防双花）

\- 金额够不够？输入 ≥ 输出 + 手续费

\- 通过 → 放进节点的“内存池”（mempool，等着打包的待处理交易池）。

\- 节点再把交易继续转发给其他节点……很快全网大部分节点都知道了这笔交易（几秒到几十秒）。

3\. **矿工打包 + 记账**（真正上链的关键）

\- 矿工（那些跑矿机的节点）从内存池里挑交易（通常优先挑手续费高的）。

\- 把很多笔交易（包括你的）塞进一个“候选区块”。

\- 矿工拼命猜谜（Proof of Work）：改一个随机数（nonce），让整个区块的哈希值开头有很多 0（超级难猜，每 10 分钟左右全网出一个）。

\- 谁先猜中 → 这个区块就有效！矿工立刻广播给全网：“我出了新区块，里面有这些交易！”

\- 其他节点收到新区块，快速检查：谜题对不对？里面的每笔交易合法吗？（包括你的转账）

\- 全网通过 → 这个区块加到区块链上，成为最新一页账本。你的转账就正式“记账”了！

4\. **确认 & 最终不可逆**

\- 你的交易出现在最新区块里 → **1 次确认**（大概 10 分钟）。

\- 接下来每出一个新区块，就多 1 次确认（因为新区块链接在上一个，改历史越来越难）。

\- 通常等 **6 次确认**（约 1 小时）才算彻底安全（交易所、商家常用这个标准），因为极小概率有“链分叉”导致回滚，但 6 次后几乎不可能。

\- 一旦确认，你的钱包显示“已确认”，朋友的钱包也能看到收到 0.1 BTC。

一句话超级总结：

**比特币转账记账 = 你签名授权 → 全网广播验证 → 矿工猜谜打包进区块 → 全网共识加到链上 → 多区块确认后永久记录。**

没有银行中间人，全靠全网几万个节点 + 矿工的算力一起“集体盖章”。

这也是为什么比特币转账慢（10 分钟一轮）但超级安全：没人能单方面改账本，得说服绝大多数节点（代价极高）。
<!-- DAILY_CHECKIN_2026-01-13_END -->
<!-- Content_END -->
