---
timezone: UTC+8
---

# mingd1n

**GitHub ID:** mingd1n

**Telegram:** @axl_ttt

## Self-introduction

Web3 实习计划 2025 冬季实习生 Axel

## Notes

<!-- Content_START -->
# 2026-01-27
<!-- DAILY_CHECKIN_2026-01-27_START -->
明天继续学obsidian
<!-- DAILY_CHECKIN_2026-01-27_END -->

# 2026-01-26
<!-- DAILY_CHECKIN_2026-01-26_START -->

今天准备学习obsidian的用法
<!-- DAILY_CHECKIN_2026-01-26_END -->

# 2026-01-25
<!-- DAILY_CHECKIN_2026-01-25_START -->


[https://x.com/0xAxe1/status/2015427020696817701?s=20](https://x.com/0xAxe1/status/2015427020696817701?s=20)

今天写了个文章，想进入足球赛道，今年世界杯试一下，包括预测市场
<!-- DAILY_CHECKIN_2026-01-25_END -->

# 2026-01-24
<!-- DAILY_CHECKIN_2026-01-24_START -->



1\. 执行客户端（Execution Client）——“干活的” 执行客户端（也叫执行层客户端、EL 客户端、旧称 Eth1 客户端），主要负 责链上的“业务逻辑和状态”： • 监听网络上广播来的交易与区块 • 在 EVM（以太坊虚拟机） 中执行交易和智能合约 • 维护当前链的状态数据库（账户余额、合约存储等） • 提供 JSON-RPC 接口（eth\_\*），给 dApp / 钱包 / 脚本调用 • 通过自己的 P2P 网络转发交易和区块头 / 区块体 网络结构与节点类型 第二章 65 简单类比一下： 执行客户端就像法院里的书记员 + 案卷系统，负责接收材料、执行具体流 程、更新“案卷状态”。 常见的执行客户端包括： • Geth（go-ethereum） • Nethermind • Besu • Erigon • Reth 2. 共识客户端（Consensus Client）——“法官” 共识客户端（也叫信标链客户端、CL 客户端、旧称 Eth2 客户端），主要负 责权益证明 PoS 共识： • 维护信标链（Beacon Chain）视图和 fork choice 规则（LMD-GHOST 等） • 在每个 slot 里选择谁来提议区块，并对区块进行投票（attestation） • 跟踪验证者集合、质押余额、惩罚（slashing）等共识状态 • 把来自执行客户端的结果当作“材料”，决定哪一个区块被接受到链上 类比延续刚才的法院场景： 共识客户端就像法官，根据书记员提供的案卷（执行结果），做出“这是不 是合法区块、最终选哪条链”的裁决。 常见的共识客户端包括： • Lighthouse • Prysm • Teku • Nimbus • Lodestar
<!-- DAILY_CHECKIN_2026-01-24_END -->

# 2026-01-23
<!-- DAILY_CHECKIN_2026-01-23_START -->




简单来说：

-   执行层（EL）：负责交易执行、EVM、智能合约、状态存储等。经典代表：Geth、Reth、Nethermind、Besu、Erigon 等。
    
-   共识层（CL）：负责 PoS 共识、验证者、信标链（Beacon Chain）、区块提议与最终性等。代表：Lighthouse、Prysm、Teku、Nimbus、Lodestar 等。
    

它们各自有独立的 **P2P 网络**，所以端口是分开的（不像 PoW 时代只有一个层）。

**默认 P2P 端口对比（2026 年主流配置）**

| 层级 | 默认端口 | 协议 | 用途 | 是否强烈建议对外开放（公网） | 常见客户端示例 |
| 执行层 (EL) | 30303 | TCP + UDP | 监听连接 + 节点发现 + 交易/区块/状态同步 | 是（TCP/UDP 都开） | Geth, Reth, Nethermind, Besu, Erigon（几乎统一 30303） |
| 共识层 (CL) | 9000（最常见） | TCP + UDP | 信标链 P2P、区块/证明/子网 gossip | 是（TCP/UDP 都开） | Lighthouse, Teku, Nimbus, Lodestar（默认 9000） |
| 共识层 (CL) | 12000 UDP + 13000 TCP | UDP + TCP | 信标链 P2P | 是 | Prysm（独树一帜，用这对端口） |

**快速记忆要点**

-   **执行层**：几乎所有客户端都固定用 **30303 TCP/UDP**（发现和通信基本复用同一个端口号）。
    
-   **共识层**：大多数用 **9000 TCP/UDP**，**只有 Prysm** 用 **12000 UDP（发现） + 13000 TCP（监听）**。
    
-   两个层之间通过 **Engine API**（默认端口 **8551 TCP**，带 JWT 认证）本地通信，不需要对外开放。
    
-   **不要对外开放**的端口：8545（JSON-RPC HTTP）、8546（WS）、Becon API 5052 等，这些是给钱包/DApp/监控用的，暴露有安全风险。
    

**实际运行全节点时要开的端口（典型推荐）**

-   执行层：30303 TCP + 30303 UDP（或 30303-3030x 范围，根据客户端）
    
-   共识层：
    
    -   如果用 Lighthouse / Teku / Nimbus / Lodestar → 9000 TCP + 9000 UDP
        
    -   如果用 Prysm → 12000 UDP + 13000 TCP
        
-   防火墙/路由器上做端口转发，确保 inbound 流量能进来（有助于快速 peer 连接和网络健康）。
    

如果你用的是 Docker、一键脚本（如 eth-docker、Dappnode、Stereum）或者云服务器，这些工具通常会自动映射或提示你开这些端口。
<!-- DAILY_CHECKIN_2026-01-23_END -->

# 2026-01-22
<!-- DAILY_CHECKIN_2026-01-22_START -->





三大主流应用场景 (Web3 三驾马车)

智能合约的逻辑决定了 DApp 的功能，目前最主流的三种形态如下：

\#### ① \[\[DeFi\]\] (去中心化金融)

\- **定义**：\*\*没有银行的银行业务\*\*。用代码代替银行经理。

\- **玩法**：

\- **DEX (交易所)**：如 Uniswap。没人管，你自己和资金池交易。

\- **Lending (借贷)**：如 Aave。抵押资产，自动放款，无需查征信。

\- **本质**：金融逻辑的自动化。

\#### ② \[\[NFT\]\] 生态 (数字资产)

\- **定义**：\*\*基于 ERC-721/1155 的应用平台\*\*。

\- **玩法**：

\- **交易市场**：如 OpenSea。买卖图片、音乐、域名。

\- **GameFi (链游)**：游戏道具确权，甚至可以跨游戏使用。

\- **RWA**：现实资产（房产、债券）上链交易。

\- **本质**：所有权逻辑的自动化。

\#### ③ DAO (去中心化自治组织)

\- **定义**：\*\*基于智能合约管理的组织/公司\*\*。

\- **逻辑**：

1\. 一群人凑钱（发 Token）。

2\. 持有 Token 的人投票做决定。

3\. 投票通过后，\*\*合约自动执行\*\*（比如自动转账发工资）。

\- **本质**：管理/治理逻辑的自动化。
<!-- DAILY_CHECKIN_2026-01-22_END -->

# 2026-01-20
<!-- DAILY_CHECKIN_2026-01-20_START -->






> **核心公式**：**DApp (去中心化应用) = 前端界面 (手机/网页) + 智能合约 (链上逻辑)**

### 5.1 核心结构

-   **关系定位**：
    
    -   **智能合约**：是后端“大脑”，负责处理资金和核心规则。
        
    -   **DApp**：是完整产品，给用户提供操作界面（如网页版 Uniswap）。
        
-   **数据存储**：DApp 的核心数据不存在公司的服务器，而是存在于区块链的 **全球七万个节点** 中，永不丢失。
    
-   **透明性**：一切行为公开可见，链上可查。
    

### 5.2 三大主流应用场景 (Web3 三驾马车)

智能合约的逻辑决定了 DApp 的功能，目前最主流的三种形态如下：

① DeFi (去中心化金融)

-   **定义**：**没有银行的银行业务**。用代码代替银行经理。
    
-   **玩法**：
    
    -   **DEX (交易所)**：如 Uniswap。没人管，你自己和资金池交易。
        
    -   **Lending (借贷)**：如 Aave。抵押资产，自动放款，无需查征信。
        
-   **本质**：金融逻辑的自动化。
    

② NFT 生态 (数字资产)

-   **定义**：**基于 ERC-721/1155 的应用平台**。
    
-   **玩法**：
    
    -   **交易市场**：如 OpenSea。买卖图片、音乐、域名。
        
    -   **GameFi (链游)**：游戏道具确权，甚至可以跨游戏使用。
        
    -   **RWA**：现实资产（房产、债券）上链交易。
        
-   **本质**：所有权逻辑的自动化。
    

③ DAO (去中心化自治组织)

-   **定义**：**基于智能合约管理的组织/公司**。
    
-   **逻辑**：
    
    1.  一群人凑钱（发 Token）。
        
    2.  持有 Token 的人投票做决定。
        
    3.  投票通过后，**合约自动执行**（比如自动转账发工资）。
        
-   **本质**：管理/治理逻辑的自动化。
<!-- DAILY_CHECKIN_2026-01-20_END -->

# 2026-01-19
<!-- DAILY_CHECKIN_2026-01-19_START -->







## 6\. 代币标准 (资产协议)

**核心概念**：如果说 DApp 是商店，代币就是商店里流通的“商品”或“股票”。代币独立于 DApp 存在，属于资产层。

### 6.1 核心疑问：为什么不能直接用 ETH？

既然 ETH 已经是钱了，付 Gas 费也用它，为什么还要发 ERC-20 代币？

-   **商业逻辑 (发行权)**：
    
    -   **ETH 是公家的钱**：项目方无法凭空变出 ETH 来发奖励。
        
    -   **代币是自家的股票**：项目方可以零成本发行 1 亿个自己的代币（如 UNI），用于融资、分红或社区治理。
        
-   **功能逻辑 (稳定性)**：
    
    -   **ETH 波动大**：不适合做日常支付或储蓄。
        
    -   **代币可定制**：我们需要**稳定币**（如 USDT），通过合约强制锚定 1 美元，这是 ETH 做不到的。
        
-   **技术逻辑 (标准化)**：
    
    -   **ETH 是“异类”**：ETH 是原生资产，代码接口和 ERC-20 不一样。
        
    -   **代币是“通配符”**：ERC-20 提供了统一接口，交易所（如 Uniswap）写一套代码就能处理几万种代币。
        
    -   _注：这就是为什么会有 WETH (打包成 ERC-20 的 ETH) 存在。_
        

### 6.2 可替代代币 (Fungible Token)

-   **标准**：ERC-20
    
-   **定义**：同质化、不论个、只论量。
    
-   **类比**：**百元大钞**。
    
    -   你的一张 100 元和我的一张 100 元价值完全一样，可以随意互换。
        
    -   我们只在乎**数量**，不在乎**身份**。
        
-   **用途**：货币 (USDT)、积分、公司股份 (UNI)。
    

### 6.3 不可替代代币 (Non-Fungible Token / NFT)

-   **标准**：ERC-721
    
-   **定义**：独一无二、论个算、有身份。
    
-   **类比**：**房产证 / 飞机票**。
    
    -   我的机票（3A座）和你的机票（15F座）不能随意互换。
        
    -   我们在乎的是**身份**（唯一 ID），每一个都不一样。
        
-   **用途**：数字艺术品 (Bored Ape)、游戏装备、现实资产上链。
    

### 6.4 混合标准 (ERC-1155)

-   **定义**：在一个合约里同时管理多种类型的代币（既有币，又有装备）。
    
-   **类比**：**超市货架 / 游戏背包**。
    
    -   可以一次性打包发送“100 个金币（ERC-20）”和“1 把屠龙刀（ERC-721）”。
        
-   **优势**：大幅节省 Gas 费，专为游戏场景设计。
    

### 总结：资产对比表

| 特性 | ERC-20 (同质化) | ERC-721 (NFT) | ETH (原生代币) |
| 生活类比 | 现金、大米 | 房产证、艺术品 | 黄金 / 电力 |
| 核心逻辑 | 1 换 1 (等价) | 不可互换 (独特) | 系统燃料 |
| 能否拆分 | 可以 (0.1 个) | 不可拆分 (通常) | 可以 (0.00...1 个) |
| 主要功能 | 交易媒介、股权 | 身份证明、收藏 | 支付 Gas 费 |
<!-- DAILY_CHECKIN_2026-01-19_END -->

# 2026-01-18
<!-- DAILY_CHECKIN_2026-01-18_START -->








今天把以太坊的基础概念重新整理了一下  
\## 1. 硬件层 (Hardware)

\- **本质**：分布式硬件网络。

\- **组成**：由全球各地的节点（矿机/服务器）组成，负责验证交易。

\---

\## 2. 共识协议 (操作系统)

\> **核心问题**：谁来记账？有什么规定和机制？

\### 2.1 PoS 共识机制 (Proof of Stake)

\- **类比**：支付宝由支付宝公司的服务器规定；以太坊由共识机制规定。

\- **机制流程**：

1\. **门槛**：必须质押 **32 ETH**。

2\. **选拔**：系统随机选择记账员来打包交易。

3\. **验证**：多方节点进行验证。

4\. **惩罚**：\*\*If 作假\*\* -> 质押的 32 ETH 会被直接扣除（Slashing）。

\- **底层逻辑**：通过高昂的违规代价迫使节点诚实。

\### 2.2 Gas 机制 (燃料费)

\- **定义**：使用 ETH 网络资源时支付的“计算费用”。

\- **类比**：开车要烧油，在以太坊上跑程序也要烧 ETH。

\- 普通转账：便宜（几毛钱）。

\- 复杂合约：贵（很多钱）。

\- **安全作用 (防止死循环)**：

\- **场景**：黑客写了一个死循环程序（如 `while(true)`）试图攻击网络。

\- **结果**：黑客必须为每一步循环支付 Gas。

\- **结局**：攻击未遂，但黑客的 Gas 会被耗尽，成本居高不下。

\---

\## 3. EVM 以太坊虚拟机 (全球共享 CPU)

\- **本质**：并非看得见摸得着的实体，而是存在于全球节点中的\*\*软件处理器\*\*。

\- **工作流**：

1\. 硅谷工程师用 **Solidity** 语言写好一个智能合约。

2\. 系统将其转化成 EVM 能理解的编码（Bytecode）。

3\. **全球节点同步执行**这个程序，输出完全相同的结果。

\### 3.1 特性：不可篡改与“法律”

\- **例子**：借贷合约（规定借款人必须给 150% 抵押）。

\- **规则**：合约一旦部署，无人可修改。

\- _注：除非预留了管理接口升级机制（代理模式），否则连开发者也无法修改。_

\- **原则**：\*\*Code is Law\*\* (代码就是法律)。

\### 3.2 兼容性与行业标准

新的公链为了生存，大多选择兼容 EVM（就像手机厂商兼容安卓系统）。

|\*\*概念\*\*|\*\*手机圈比喻\*\*|\*\*币圈现实\*\*|

|---|---|---|

|\*\*EVM\*\*|\*\*Android 系统 (内核)\*\*|区块链的“操作系统”|

|\*\*以太坊 (ETH)\*\*|\*\*Google Pixel (亲儿子)\*\*|最正统、最原生、最安全的公链|

|\*\*智能合约 (DApp)\*\*|\*\*APK 安装包 (安卓 APP)\*\*|去中心化应用 (Uniswap, AAVE)|

|\*\*BSC / Avalanche / Polygon\*\*|\*\*三星 / 小米 / OPPO\*\*|深度定制的 EVM 链|

|\*\*Solana / Sui\*\*|\*\*苹果 iPhone (iOS)\*\*|完全不兼容的异构链|

\---

\## 4. Layer 2：扩展层 (解决扩容问题)

\> 现状问题：以太坊主网每秒只能处理 15 个交易。

\>

\> 拥堵后果：当有人大量交易或买 NFT 时，发生大堵车，Gas 费飙升到 100 美元以上。

\>

\> 原因：系统随机分配给质押者 -> 质押者（为了私利）优先选择 Gas 高的交易打包。

\- **解决方案**：\*\*L2 网络\*\*（Layer 2）。

\- **类比**：电脑里 GPU 专门搞图像，声卡专门搞声音，为主 CPU 分担压力。

\- **定位**：协处理器，只向主链汇报关键结果。

\### 路线一：Optimistic Rollup (乐观汇总)

\- **核心逻辑**：\*\*先执行，再验证\*\*。

\- **流程**：先在 L2 执行交易，然后打包发给主链。

\- 交易有问题 -> 回滚。

\- 交易没问题 -> 默认通过。

\- 机制 -> 质疑者举报成功奖励，作恶者罚钱。

\> \[!EXAMPLE\] 通俗类比：财务报销

\>

\> 传统 L1 (以太坊) - 现场审核：

\>

\> 你去财务报销 100 块。财务（矿工）当着你的面，要把每一张发票核对无误，打电话确认真伪，才给你钱。

\>

\> 缺点：财务忙死了，排队很久。

\>

\> **Optimistic Rollup (L2) - 先给钱，后抽查**：

\>

\> 1. **先执行**：你把发票一扔，财务看都不看，直接先把 100 块打给你（排序器秒级确认）。你拿着钱开开心心走了。

\>

\> 2. **乐观假设**：财务默认你不敢造假（Optimistic）。

\>

\> 3. **再验证**：虽然钱给你了，但在接下来的 **7 天（挑战期）** 里，审计部门会随时抽查你的发票。

\>

\> - 没问题：翻篇。

\>

\> - 发现假发票：追回 100 块（回滚），并罚没年终奖（Slash 罚没押金）。

\>

\>

\> **代表项目**：Arbitrum

\### 路线二：ZK Rollups (零知识汇总)

\- **核心逻辑**：生成加密证明，数学保证正确性。

\- **流程**：执行完一批（如 1000 笔）交易后，生成一个\*\*数学证明\*\*，告诉主链这些交易是正确的。主链只需要验证这个“证明”是否有效。

\> \[!EXAMPLE\] 通俗类比：老师改卷

\>

\> 场景：学生（L2）做完题后，运用超级复杂的算法（ZK 电路），生成一张\*\*“数学证书”\*\*（SNARK/STARK）。

\>

\> 1. **神奇之处**：这张证书有数学特性，\*\*只有当那 1000 道题全部做对时，证书才能被生成出来。\*\* 只要有一步算错，证书生成失败。

\>

\> 2. **老师的工作**：老师不需要看那 1000 道题。老师只需要拿出一个\*\*“扫描仪”\*\*（主网验证合约），扫一下证书。

\>

\> - **滴！绿灯** -> 证明有效。

\>

\> - **结论**：老师瞬间知道 1000 道题\*\*绝对\*\*是对的。

\>

\> 3. **效率对比**：

\>

\> - 学生做题（生成证明）：可能花 10 分钟（算力消耗大）。

\>

\> - 老师检查（验证证明）：只需要 **0.001 秒**。

\>

\>

\> **代表项目**：Polygon zkEVM

\### L1 vs L2 数据对比

|\*\*维度\*\*|\*\*主网 (L1)\*\*|\*\*Arbitrum (L2)\*\*|

|---|---|---|

|\*\*转账成本\*\*|20 - 100 USD|0.1 - 1 USD|

|\*\*确认时间\*\*|1 - 5 分钟|几秒|

|\*\*吞吐量\*\*|15 笔/秒|几千笔/秒|

\---

\## 5. 智能合约生态系统 (应用系统)

\- **能运行什么？**：智能合约可以运行所有东西（代币兑换、质押挖矿、NFT 交易）。

\- **数据存储**：所有活动记录不存在单独的公司服务器，而是存在于区块链的 **全球七万个节点** 中。

\- **透明性**：全世界都知道某作品（NFT）从 `0x123` 转账到了 `0x124`，公开透明。
<!-- DAILY_CHECKIN_2026-01-18_END -->

# 2026-01-17
<!-- DAILY_CHECKIN_2026-01-17_START -->









## 一、硬件层 (Hardware)

-   **本质**：全球分布的物理基础设施。
    
-   **运作**：由分布在世界各地的节点和矿机组成，它们提供硬件算力和存储空间，共同维护网络运行。
    

## 二、共识与经济层 (Consensus & Gas)

> **谁来记账？怎么防止乱来？**

1.  **共识协议 (PoS - Proof of Stake)**
    
    -   **机制**：类似于“支付宝”的服务器规定，但在去中心化的 ETH 里，规则是 **PoS (权益证明)**。
        
    -   **门槛**：需质押 **32 ETH** 才能成为验证者（Validator）。
        
    -   **流程**：系统随机选一名记账员打包交易。
        
    -   **惩罚**：**【验证？？】** -> 如果记假账，质押的 32 ETH 会被系统没收（Slashing）。
        
    -   **逻辑**：通过高昂的违规成本，倒逼验证者保持诚实。
        
2.  **Gas 机制 (燃料费)**
    
    -   **定义**：使用以太坊网络（转账、运行合约）时支付的计算费用。
        
    -   **类比**：开车要烧油，使用全球计算机也要付“油费”。
        
    -   **费用差异**：普通转账便宜（几毛/几刀），复杂合约（计算多）昂贵。
        
    -   **安全作用**：**【有人作恶刷交易/死循环程序？】** -> 防止网络被垃圾攻击。
        

* * *

### 💡 重点答疑

**Q1：【验证？？】系统随机选人打包，怎么验证？**

-   **解析**：这就像小学老师改作业。
    
    1.  **提案**：系统随机选出**一个**验证者（班长）负责把交易打包成一个新区块（写好答案）。
        
    2.  **验证**：系统会随机再选出**一组**验证者（委员会），他们负责检查班长的作业是否正确。
        
    3.  **通过**：如果大家都签名说“没问题”，这个块才算正式上链。如果班长乱写，大家会举报他，他的钱就被扣光了。
        

**Q2：【死循环程序？】Gas 具体是怎么防作恶的？**

-   **解析**：**Gas Limit（油箱上限）机制**。
    
    -   黑客写了一个死循环 `while(true)`，想把全球计算机累死。
        
    -   但在以太坊执行代码，每走一步都要扣一点 Gas。
        
    -   黑客发起的交易必须预设一个上限（比如只付了 1 ETH 的油费）。
        
    -   当死循环跑到价值 1 ETH 的计算量时，**油耗尽了，EVM 会强制强行停止程序**。
        
    -   **结果**：黑客亏了 1 ETH，网络仅仅是处理了一段无效代码，毫发无损。
        

* * *

## 三、执行层 (EVM - 以太坊虚拟机)

> **全球共享的 CPU**

1.  **本质**：看不见摸不着的软件处理器，运行在全球每一个节点中。
    
2.  **流程**：
    
    -   工程师用 **Solidity** 语言写好合约。
        
    -   系统将其编译成 EVM 能读懂的代码（Bytecode）。
        
    -   全球节点同步执行，输出完全相同的结果。
        
3.  **不可篡改性**：
    
    -   **例子**：借贷合约（借款必须抵押 150%）。
        
    -   **特性**：代码即法律（Code is Law）。一旦部署，**【如果没有预留管理接口升级机制（？？）】**，哪怕开发者也无法修改。
        
4.  **行业标准**：
    
    -   **现状**：新的公链（如 BSC, Avalanche）大多都\*\*【兼容 EVM（？？）】\*\*。
        

* * *

### 💡 重点答疑

**Q3：【如果没有预留管理接口...】甚至开发者也无法修改？那有 Bug 怎么办？**

-   **解析**：是的，这是区块链最硬核也是最残酷的地方。
    
    -   **传统软件**：服务器端改一下代码，用户刷新网页就更新了。
        
    -   **以太坊原生合约**：一旦上链，就刻死在石头上了。如果代码里有 Bug，黑客把钱卷走，**神仙也救不了**。
        
    -   **补救方案（代理模式）**：开发者现在通常会部署两个合约。
        
        -   合约 A（代理）：只是个“传话筒”，地址不变。
            
        -   合约 B（逻辑）：真正的代码。
            
        -   **升级**：开发者让合约 A 把“话筒”指向新的合约 C（修复版）。如果没设计这个后门，那就真的改不了。
            

**Q4：【兼容 EVM？】为什么新公链都要兼容它？**

-   **解析**：为了\*\*“蹭生态”**和**“抢开发者”\*\*。
    
    -   以太坊就像**安卓系统**。如果小米、OPPO 做手机，必须兼容安卓 App，否则没人买。
        
    -   开发者都习惯用 Solidity 语言写代码了。如果一条新链（如 BSC）兼容 EVM，开发者只需要把在以太坊上的代码 `Ctrl+C` `Ctrl+V`，就能瞬间迁移过来。
        
    -   如果不兼容，开发者得去学新语言，没人愿意去。
        

* * *

## 四、扩展层 (Layer 2)

> **解决拥堵的“高架桥”**

1.  **背景困境**：
    
    -   所有人都用主网，TPS（每秒交易量）只有 15 笔。
        
    -   遇到 NFT 抢购等热点，**【Gas 飙到 100 美元以上（？？？）】**。
        
2.  **L2 解决方案**：
    
    -   **类比**：L2 是电脑的显卡（GPU）处理图像，主网是 CPU 处理核心数据。
        
    -   **核心**：L2 是“协处理器”，在链下处理大量交易，只向主网汇报**关键结果**。
        
3.  **两大技术路线**：
    
    -   **Optimistic Rollup (乐观汇总)**：
        
        -   代表：Arbitrum, Optimism。
            
        -   逻辑：先假设交易都是对的，**【先执行再验证...有问题质疑者罚钱（？？）】**。
            
        -   缺点：取款有挑战期（通常 7 天）。
            
    -   **ZK Rollup (零知识汇总)**：
        
        -   代表：Polygon zkEVM, zkSync。
            
        -   逻辑：执行完 1000 笔交易，生成一个**数学证明**。主网只验证这个证明，立刻确认。
            
4.  **效果对比**：
    
    -   主网：贵 ($20-100)，慢 (几分钟)。
        
    -   L2 (如 Arbitrum)：便宜 ($0.1-1)，快 (几秒)，吞吐量大。
        

* * *

### 💡 重点答疑

**Q5：【Gas 飙到 100 美元以上？】为什么会这么贵？**

-   **解析**：**拍卖机制**。
    
    -   以太坊每个区块的空间是有限的（相当于一辆公交车只有 50 个座）。
        
    -   当有 10,000 个人同时想上车（比如抢周杰伦的 NFT），大家就开始**竞价**。
        
    -   谁出的 Gas Price 高，矿工就先让谁上车。为了抢到几个亿的 NFT，人们愿意出几千美元的“插队费”。普通人此时想转账，也被迫要出高价，否则根本没人理你。
        

**Q6：【先执行...质疑者罚钱？】乐观汇总具体怎么玩？**

-   **解析**：这叫\*\*“欺诈证明” (Fraud Proof)\*\*，类似法庭的逻辑。
    
    1.  **乐观**：L2 就像一个分公司，它把账本打包发给总公司（以太坊）时，总公司**默认**它是对的（为了快）。
        
    2.  **公示期**：这个包虽然收了，但有 7 天的“公示期”。
        
    3.  **挑战**：在这 7 天里，任何人（验证者/质疑者）如果发现账本里有一笔是假的，可以提交证据（质疑）。
        
    4.  **罚没**：一旦查实确实造假，**打包那个包的人（Sequencer）质押的押金会被没收，奖励给举报者**。
        
    5.  因为有这个“赏金猎人”机制，所以平时没人敢作恶。
        

* * *

## 五、应用层 (Ecosystem)

-   **能力**：智能合约能运行任何逻辑（代币兑换 Uniswap、质押挖矿、NFT 交易 OpenSea）。
    
-   **透明度**：数据不再存在某公司的服务器里，而是存在全球 7 万个节点中。
    
-   **可追溯**：全世界都可以查到 `0x123` 转给了 `0x124`，无法抵赖
<!-- DAILY_CHECKIN_2026-01-17_END -->

# 2026-01-16
<!-- DAILY_CHECKIN_2026-01-16_START -->










今天学习以太坊概念，明天继续完善  
\# Hardware

全球各地节点矿机验证交易，分布式硬件

\# 共识协议（操作系统）：

谁来记账？规定？机制

共识协议+gas机制：

支付宝：支付宝服务器规定

eth：pos共识机制：质押32eth，系统随机选记账员打包交易（验证？？），作假：32eth被扣掉

逻辑：违规代价高

gas：有人作恶刷交易/死循环程序【？

gas：使用eth时支付的计算费用；开车加油，用eth也要油费

（普通转账，几毛，复杂合约，很多钱）

攻击：黑客写死循环程序，攻击未成，gas已经居高不下

\# EVM以太坊虚拟机-全球共享CPU

并非看得见摸得着，是个软件处理器在全球节点

硅谷工程师用solidity写好一个合约放到以太网，系统转化成evm能理解的编码

全球的节点同步执行这个程序，输出相同的结果，不可篡改

例子：借贷合约。借款人必须给150%抵押

一旦部署无人可修改（如果没有预留管理接口升级机制（【？？）甚至开发者也无法修改）/代码就是法律

新的公链都要兼容evm【？？兼容安卓，成为行业标准

所有人都用怎么办？每秒只能处理15个交易

\# layer 2： 扩展层

每秒有人交易有人买nft，大堵车，gas飙到100美元以上【？？？
<!-- DAILY_CHECKIN_2026-01-16_END -->

# 2026-01-15
<!-- DAILY_CHECKIN_2026-01-15_START -->











今天算是把比特币原理完全弄懂了  
#区块链基础 #比特币 #共识机制 #PoW #挖矿原理 #双花攻击 #网络安全 #博弈论 #概念

\## 1. 区块链的基础架构

\> **核心逻辑**：钱包只是 ID，网络负责记账，账本全球同步。

\- **钱包地址**：

\- 只是一个身份/地址，\*\*本身不参与记账\*\*。

\- 但当发生交易时，这个地址会被记录在区块链上。

\- 确认私钥（交易身份）

\- **区块链形态**：

\- 是一个随着交易增多而\*\*越来越长\*\*的链条（无数个账本页连成的书）。

\- 每一页账本都保存前一页标识（从而连起来）

\- **分布式存储**：区块链的\*\*完整副本\*\*被保存在全球无数个节点中：

1\. **矿工 (Miners)**：负责记账和挖矿。

2\. **审计节点 (Full Nodes)**：负责保存账本和验证（你提到的“审计”）。

\## 2. 挖矿的本质 (Mining)

\> **一鱼两吃**：既是发行新币，也是维护旧账。

\- **行为本质**：

1\. 给自己挖出\*\*新的比特币\*\*（Coinbase 奖励），类似滴滴司机发底薪

2\. 同时帮别人\*\*记账\*\*（打包交易），赚手续费（取决于打包数量多少）

\- **收入来源**：区块奖励 + 交易手续费。

_若比特币挖光，则矿工只收手续费_

\## 3. 挖矿资格与安全逻辑 (PoW)

\- **资格来源**：\*\*算力 (Hashrate)\*\*。

\- **安全博弈逻辑**：

\- 你耗费了巨大的物理成本（算力/电费）。

\- **万一作假**（如记假账、签名对不上）：会被全网拒绝，导致之前耗费的巨大算力\*\*全部浪费\*\*。

\- _结论：作恶成本 > 作恶收益，所以被迫诚实。_

\---

\## 4. 双花攻击 (Double Spend)

\> **利用 51% 算力篡改“主观确认”的历史**

#双花

\### 攻击流程推演：

1\. **制造冲突**：

\- 坏人同时发起两笔交易：

\- **明线**：发给交易者（好人）1 BTC。

\- **暗线**：发给自己小号 1 BTC（左手倒右手）。

2\. **时间差欺诈**：

\- 交易者看到“明线”交易在公链上确认了，\*\*主观上以为交易成功\*\*，于是把等价物（如车）给了坏人。

3\. **算力对决**：

\- **公链（49% 算力）**：正在确认给交易者的那笔合法交易。

\- **私链（51% 算力）**：坏人偷偷在背地里算“转给自己”的那笔交易。

4\. **最终胜出**：

\- 由于坏人掌握 **51% 算力** -> **算得更快** -> **链更长**。

\- 根据“最长链原则”，全网最后被迫\*\*以坏人的链为准\*\*。

\- _结果：给交易者的钱消失了，钱回到了坏人手里。_

\## 4. 双花攻击 (Double Spend) 与算力博弈

\> **核心定义**：利用 51% 算力篡改“主观确认”的历史，实现同一笔钱花两次。

\### 4.1 攻击流程推演

1\. **制造冲突**：坏人同时发起两笔交易。

\- **明线**：发给交易者（好人）1 BTC。

\- **暗线**：发给自己小号 1 BTC（左手倒右手）。

2\. **时间差欺诈**：交易者看到“明线”在公链确认，\*\*主观以为成功\*\*，于是交货。

3\. **算力对决**：

\- **公链（49%）**：确认合法交易。

\- **私链（51%）**：偷偷算“转给自己”的交易。

4\. **最终胜出**：由于 51% > 49%，私链更长。全网被迫\*\*以坏人的链为准\*\*。

\- _结果：给交易者的钱消失了，钱回到了坏人手里。_

\### 4.2 为什么必须是 51%？（40% 必输原理）

\> **问题**：假如坏人是个体最强（40%），好人分散（30%+30%），坏人依然无法攻击。

\- **自动结盟机制**：诚实矿工遵循“最长链原则”。当好人A挖出块，好人B会立刻\*\*基于A的块\*\*继续挖。

\- **结果**：诚实算力会自动叠加（30+30=60%）。

\- **结局**：60% 的增长速度永远快于 40%，坏人的私链永远追不上公链。

\### 4.3 攻击得逞后的后果：链重组 (Reorg)

\> **问题**：当坏人的私链覆盖公链时，旧链作废，里面的交易去哪了？

1\. **被攻击的交易（买车钱）**：\*\*彻底死亡\*\*。

\- 新链检查发现钱已转给坏人自己（双花冲突），直接丢弃。

2\. **无辜的路人交易**：\*\*“复活”\*\*。

\- 从旧块退回内存池，被新链重新打包（只是延迟，钱不丢）。

3\. **诚实矿工**：\*\*血本无归\*\*。

\- 旧块里的挖矿奖励（Coinbase）凭空消失，电费白亏。

\## 5.个人矿工的生存法则：矿池 (Mining Pool)

\> **核心问题**：小算力矿工如果单打独斗，挖到块的概率无限接近 0，如何生存？

\- **机制转变：从“彩票”到“工资”**

\- **Solo 模式 (赢家通吃)**：只有第一名拿走全部奖励。小矿工可能挖一辈子颗粒无收。

\- **矿池模式 (按劳分配)**：

1\. **汇聚算力**：无数小矿工连接到同一个矿池服务器。

2\. **共同竞争**：矿池作为代表去抢夺记账权，概率大增。

3\. **收益平摊**：矿池挖到币后，扣除手续费，剩下的按\*\*算力贡献比例\*\*分给所有矿工。

\- **防作弊机制：Share (份额)**

\- **原理**：矿池下发难度较低的任务（比如扔出3个6），你提交结果证明你在干活。

\- **逻辑**：你提交的 Share 越多，分红越多。虽然 Share 不等于最终的区块，但它证明了你的\*\*工作量 (Proof of Work)\*\*。
<!-- DAILY_CHECKIN_2026-01-15_END -->

# 2026-01-14
<!-- DAILY_CHECKIN_2026-01-14_START -->












1\. what is blockchain?

BTC:比特币钱包地址是不是只是一个地址不参与记账，但是这个地址被保存在一个随着交易增多越来越长的区块链中，然后无数个区块链的副本被存在全球无数矿工以及审计那里，对吗？比特币区块链可以理解为无数个账本连成的链，主要由全球各地的矿工来记账（以及挖矿？）

挖矿的本质就是自己挖了新的比特币，同时也在给别人记账，然后能获得手续费

挖矿的资格来源于算力，逻辑：你耗费了巨大的算力，万一算错就要浪费

完全正确：“私链变成了公链”。这正是攻击成功的标志——黑客的“版本”覆盖了大家的“版本”。

但是，关于后半句（“是不是有51%算力就可以像民主投票一样，我说这笔账有效，没人能反驳？”），这里有一个\*\*巨大的误区\*\*，也是大多数人对区块链最容易误解的地方。

结论是：\*\*你可以决定“哪笔交易上榜”，但你不能决定“这笔交易是否合法”。\*\* 即使你有99%的算力，你也无法指鹿为马。

让我帮你彻底理清这里的逻辑边界：

\-–

\### 1. 为什么 0.001% 的小矿工造不了假？

**—— 因为全网节点在看着你。**

你说：“我记了一笔账，99.9%的人要认同”。

其实不是他们“不得不”认同，而是他们\*\*“验证通过后”\*\*才认同。

\- **场景：** 你是那个 0.001% 的小矿工，你好不容易挖到了一个块。

\- **作恶尝试：** 你想在块里写上一笔假账：“马斯克转给我 1000 BTC”，但是你没有马斯克的私钥签名。

\- **结局：** 当你把这个块广播出去时，全网成千上万个全节点（审计员）会瞬间检测到：“Error！这笔交易没有合法签名！”

\- **后果：** 大家直接把你的块丢进垃圾桶。你浪费了电费，一分钱奖励都拿不到。

**结论：** 弱者无法造假，是因为\*\*规则（代码）\*\*限制了必须有合法签名。

\-–

\### 2. 为什么 51% 的大矿工也不能“胡作非为”？

**—— 算力霸权是有边界的。**

你说：“相当于民主投票，我说这笔帐有效，没人能反驳？”

错。 即使你是皇帝（51%算力），如果你违反了物理定律（基础规则），百姓（全节点）照样会造反。

区块链遵循的是\*\*“最长且合法的链”\*\*原则，重点在于\*\*“合法”\*\*。

\#### 此时，51% 算力能做什么，不能做什么？

|\*\*你的权力（51%算力）\*\*|\*\*结果\*\*|\*\*为什么？\*\*|

|—|—|—|

|\*\*我要把“我转给你钱”这笔交易抹掉\*\*|\*\*✅ 能做到\*\*|因为“不打包某笔交易”是矿工的权利。你只是把历史改写为“这笔钱从未花出去”。这是合法的（虽然不道德）。|

|\*\*我要把“马斯克的钱”转给我\*\*|\*\*❌ 做不到\*\*|因为你没有马斯克的私钥。如果你强行打包这笔没有签名的交易，全节点（交易所、钱包商）会判定你的\*\*整条长链是非法链\*\*，直接拒绝接收。|

|\*\*我要凭空给自己印 1 亿个币\*\*|\*\*❌ 做不到\*\*|因为比特币协议写死了“挖矿奖励是多少”。你改了规则，你的链就变成了另一个币（比如“黑客币”），没人陪你玩了。|

\#### 形象比喻：

51% 攻击者就像是一个\*\*“黑帮编辑”\*\*，控制了报社（账本）。

\- **他能做的：** 决定\*\*哪篇稿子可以刊登\*\*，或者把昨天刊登的某篇稿子\*\*撤下来\*\*（双花、审查）。

\- **他做不到的：** 他没法把大家公认的汉字“钱”字改成“纸”字，也没法伪造作者的亲笔签名。因为读者（全节点）一旦发现报纸上的字是错别字或者签名是假的，哪怕这报纸印得再厚，大家也会直接退订，不承认它是正版报纸。

\-–

\### 3. 既然私链变成了公链，那不就是“指鹿为马”成功了吗？

只有在一种情况下成功：\*\*“指鹿为鹿”\*\*（把真实的交易撤回），而不是“指鹿为马”（凭空捏造交易）。

回到我们之前的“双花”例子：

\- **黑客的私链：** 也是完全符合比特币数学规则的！签名都是真的，哈希都是对的。

\- **区别在于：** 他只是\*\*“选择性地遗忘”\*\*了那笔给交易所转账的交易。

\- **节点视角：** 全网节点看到黑客的链时，心里想：“嗯，格式正确、签名正确、没有凭空造钱……而且这条链更长。好吧，按照规则，我得承认这条链。”

**所以，51% 攻击的本质是：利用规则（最长链原则）来回滚历史，而不是破坏规则（加密学原则）。**

\### 总结

你的理解其实非常接近核心了，只需要修正一点：

**算力投票投的是“交易的顺序”（历史），而不是“交易的真伪”（规则）。**

\- **0.001% 的人：** 必须遵守规则，且很难抢到记账权。

\- **51% 的人：** 依然必须遵守基础规则（不能抢钱、不能乱印钱），但拥有了\*\*“后悔药”\*\*的权利，可以把发出去的红包撤回来。
<!-- DAILY_CHECKIN_2026-01-14_END -->

# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->














## 比特币的本质：  
比特币总量固定在 **2100万个**（目前已挖出约 1980 多万，剩余越来越少，到 2140 年左右全部挖完）。

挖矿的过程就是：

1\. 你（或矿工/矿池）的设备 **挖到一个新区块**（大概每 10 分钟全网出一个）

\- 这意味着你成功解决了那个超级难的数学谜题（猜哈希），抢到了这个 10 分钟的“记账权”。

2\. 在你打包的这个新区块里，会自动包含一笔特殊的交易，叫 **“coinbase 交易”**（创币交易，不是那个交易所）。

\- 这笔交易是系统自动生成的：\*\*从“无”到“有”\*\*，凭空产生一定数量的新比特币（当前是 3.125 BTC/区块），直接转到你的挖矿地址（你设置的钱包地址）。

3\. 你把这个新区块广播给全网（全世界几万上万个比特币节点）。

\- 其他节点检查：谜题对不对？交易合法吗？没双花吗？

\- 如果大家都验证通过 → 这个区块就被加到区块链上，成为正式的“下一页账本”。

4\. **全网所有节点都会更新自己的账本**：

\- 大家看到你的地址多了这 3.125 个新比特币（加上区块里别人交易的手续费）。

\- 从这一刻起，全世界比特币网络都承认：\*\*这些新比特币是你的了\*\*，总量增加了这么多。

所以一句话总结：

**你挖矿挖到区块 → 系统自动给你发新比特币作为奖励 → 这个奖励被记录在你刚加的新区块里 → 全网所有节点都同步更新账本，承认这笔新比特币存在且属于你。**

\- 不是“所有区块链都需要记上一笔”，而是\*\*整个比特币网络（一条链）\*\*的所有节点都记上这一笔（因为它们都保存同一份完整的账本副本）。

\- 新比特币只通过挖矿产生，没有其他方式。

\- 每 4 年左右（每 21 万区块）奖励减半，现在是 3.125 BTC，下次减半预计 2028 年左右变成 1.5625 BTC。

这也是为什么比特币有稀缺性：总量上限 + 逐步减产，就像黄金越挖越难挖一样。

## 转账比特币的机制：

转账比特币的记账机制其实超级简单，但背后是全网一起“集体确认”的过程。咱们用最直白的话一步步说清楚（假设你用手机钱包转 0.1 BTC 给朋友）：

1\. **你发起转账**（创建交易）

\- 在钱包 App 里输入朋友的比特币地址 + 金额（比如 0.1 BTC） + 手续费（你自己选或默认）。

\- 钱包自动找出你之前收到的“零钱”（叫 UTXO，未花费交易输出），比如你有 0.15 BTC 的一个 UTXO，就用它当“来源”。

\- 钱包用你的\*\*私钥\*\*签名这个交易（证明是你本人授权的，没人能伪造）。

\- 结果：产生一笔“交易数据”，包括：来源（你之前的收款记录）、去向（朋友地址得 0.1 BTC，你自己找零 0.05 BTC 减手续费）、签名等。

2\. **广播到网络**（像发朋友圈一样推出去）

\- 你的钱包把这笔签好名的交易发给连接的几个比特币节点（通常通过 RPC 服务）。

\- 这些节点收到后，立刻检查：

\- 签名对不对？（用你的公钥验证）

\- 来源的比特币有没有已经被花掉？（防双花）

\- 金额够不够？输入 ≥ 输出 + 手续费

\- 通过 → 放进节点的“内存池”（mempool，等着打包的待处理交易池）。

\- 节点再把交易继续转发给其他节点……很快全网大部分节点都知道了这笔交易（几秒到几十秒）。

3\. **矿工打包 + 记账**（真正上链的关键）

\- 矿工（那些跑矿机的节点）从内存池里挑交易（通常优先挑手续费高的）。

\- 把很多笔交易（包括你的）塞进一个“候选区块”。

\- 矿工拼命猜谜（Proof of Work）：改一个随机数（nonce），让整个区块的哈希值开头有很多 0（超级难猜，每 10 分钟左右全网出一个）。

\- 谁先猜中 → 这个区块就有效！矿工立刻广播给全网：“我出了新区块，里面有这些交易！”

\- 其他节点收到新区块，快速检查：谜题对不对？里面的每笔交易合法吗？（包括你的转账）

\- 全网通过 → 这个区块加到区块链上，成为最新一页账本。你的转账就正式“记账”了！

4\. **确认 & 最终不可逆**

\- 你的交易出现在最新区块里 → **1 次确认**（大概 10 分钟）。

\- 接下来每出一个新区块，就多 1 次确认（因为新区块链接在上一个，改历史越来越难）。

\- 通常等 **6 次确认**（约 1 小时）才算彻底安全（交易所、商家常用这个标准），因为极小概率有“链分叉”导致回滚，但 6 次后几乎不可能。

\- 一旦确认，你的钱包显示“已确认”，朋友的钱包也能看到收到 0.1 BTC。

一句话超级总结：

**比特币转账记账 = 你签名授权 → 全网广播验证 → 矿工猜谜打包进区块 → 全网共识加到链上 → 多区块确认后永久记录。**

没有银行中间人，全靠全网几万个节点 + 矿工的算力一起“集体盖章”。

这也是为什么比特币转账慢（10 分钟一轮）但超级安全：没人能单方面改账本，得说服绝大多数节点（代价极高）。
<!-- DAILY_CHECKIN_2026-01-13_END -->
<!-- Content_END -->
