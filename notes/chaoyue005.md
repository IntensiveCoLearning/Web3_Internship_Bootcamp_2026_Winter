---
timezone: UTC+8
---

# chaoyue005

**GitHub ID:** chaoyue005

**Telegram:** 

## Self-introduction

Web3 实习计划 2025 冬季实习生

## Notes

<!-- Content_START -->
# 2026-01-15
<!-- DAILY_CHECKIN_2026-01-15_START -->
### **Web3 安全 & 合规落地笔记**

* * *

## 0\. “币圈黑话”

### 0.1 “钓鱼（fish）”是什么意思？

**鱼 = 容易被钓、被割的散户** 特点：安全习惯差、追热点、急躁、爱侥幸、容易被情绪带着走。

> 只要你动了贪念/侥幸/急于赚钱的念头，你就进入“猎物模式”。

骗子/黑客最喜欢利用的心理：

-   贪：我能不能翻倍？
    
-   急：我现在就要上车
    

* * *

## 1\. Rug Token（Rug Pull）到底怎么骗钱？2025 新型陷阱怎么躲？

### 1.1 Rug Token 本质是什么？

**Rug Token = 项目方用代币骗局“拉盘→抽走资金→跑路”** 你买进去后：

-   你卖不掉（限制卖出）
    
-   价格瞬间归零（池子被抽干）
    
-   或被无限增发稀释（你被当提款机）
    

* * *

### 1.2 Rug Token 最常见 4 种诈骗结构

### 经典 Rug：加流动性→拉盘→抽走流动性

1.  发新币
    
2.  在 DEX（Uniswap）加一点点流动性池
    
3.  找人喊单，制造热度
    
4.  价格上涨后，项目方**撤掉池子里的主币（ETH/USDT）**
    
5.  池子空了→你卖出滑点巨大→接近归零
    

✅ 关键识别点：**池子很小也能涨很猛，这是“假繁荣”。**

* * *

### 税费陷阱 Tax Scam：税费能被随时改

* * *

你买入后，项目方把卖出税从 5% 改为 90% 你卖一次就被抢走大部分资金。

* * *

### ④ Owner 后门：权限极大（冻结、增发、拉黑）

项目方可以：

-   冻结某些地址
    
-   改黑名单
    
-   无限增发
    
-   改交易规则 （后台用脚本控制）
    

* * *

### 1.3 2025 Rug Token 的“升级版”陷阱

-   AI 一键生成：官网/白皮书/团队介绍都能做得极像正规项目
    
-   假合作/假融资/假公告截图：制造权威背书
    
-   深伪 Deepfake：假AMA/假真人项目方
    
-   假空投/假任务：引导你签授权或输入助记词
    

* * *

### 1.4 散户买币前必做 6 件事

**【Rug Token 检查清单】**

1.  看流动性池大小：太小=容易被拉盘砸盘
    
2.  看是否“能卖出”：链上有没有正常卖出交易记录
    
3.  查合约权限：能否改税/冻结/增发
    
4.  看 LP 是否锁定：没锁=随时 Rug
    
5.  看筹码集中度：Top持币过高=随时砸盘
    
6.  不信保本高收益：出现“稳赚/翻倍”就默认危险
    

* * *

## 2\. 合约漏洞到底是什么？黑客为什么要找？钱怎么被偷走？

### 2.1 合约是什么？协议是什么？DApp 又是什么？

### 智能合约（Smart Contract）

部署在链上的一段代码（有地址、自动执行、不可随意篡改）。 它能做：转账、兑换、借贷、清算、发币等。

📌 **合约 = 链上的程序代码**

### 协议（Protocol）

-   多个合约（核心/辅助）
    
-   前端界面（你点的网页）
    
-   风控机制（预言机、清算规则）
    
-   文档规则（利率、抵押率等）
    

**协议 = 合约集合 + 规则 + 产品系统**

### ✅ DApp（去中心化应用）

本质是前端 + 链上合约组合。

* * *

### 2.2 合约漏洞为什么是“巨大安全隐患”？

因为合约像自动提款机：

-   不判断你是好人坏人
    
-   只按代码执行
    
-   只要你构造出条件，合约就会吐钱
    

**漏洞 = 代码逻辑允许“用不该有的方式满足条件”** 黑客就是构造输入，骗合约吐出资产。

* * *

### 2.3 黑客为什么专门找合约漏洞？

因为一个大协议（DeFi）里可能锁着几千万/几亿美金。 **找漏洞 = 一次打穿一个金库** 比钓鱼散户快太多、利润大太多。 他们找漏洞的目的不是“炫技”，是**高效率掠夺资金**。

* * *

### 2.4 最常见 6 类合约漏洞

1.  **权限控制漏洞（Access Control）** 本该管理员才能用的功能没限制 → 黑客直接提款
    
2.  **重入攻击（Reentrancy）** 转账逻辑写错 → 黑客“重复提款”
    
3.  **数学/精度问题（Precision / Rounding）** 价格计算或取整漏洞 → 被操控套利
    
4.  **预言机漏洞（Oracle）** 外部价格被操控 → 清算/借贷被玩坏
    
5.  **闪电贷攻击（Flash Loan）** 不是漏洞本身，而是放大器：瞬间借巨额资金放大收益
    
6.  **可升级合约/代理漏洞（Upgradeable Proxy）** 升级权限/代理逻辑出问题 → 相当于把金库钥匙交出去
    

* * *

### 2.5 钱是怎么被盗走的？

1.  黑客调用漏洞函数
    
2.  协议资金池资产被转出（ETH/USDT等）
    
3.  立刻换成流动性更强资产（ETH、主流稳定币）
    
4.  跨链/多地址拆分
    
5.  混币/多跳转账（降低追踪）
    
6.  OTC / 交易所 / 人肉U商套现
    

* * *

## 3\. 黑客组织：为什么抓不到？顶尖黑客需要什么能力？

### 3.1 黑客组织是怎么运作的？

现代攻击是组织化分工：

-   漏洞研究员（找漏洞）
    
-   攻击脚本开发（写利用代码）
    
-   社工团队（伪装招聘、钓鱼、假客服）
    
-   洗钱团队（拆分、跨链、OTC）
    
-   基础设施团队（服务器、木马、供应链投毒）
    

### 3.2 为什么很难抓？

-   跨国司法管辖复杂
    
-   链上匿名 + 跨链跳转
    
-   国家支持型黑客（难度更高）
    
-   OTC 人对人交易难追踪
    

### 3.3 顶尖黑客需要哪些能力？

**技术**：Solidity/EVM、审计报告、逆向、网络安全、脚本自动化 **思维**：极强推演、异常输入构造、系统建模 **行为**：社会工程、隐匿痕迹、洗钱路径设计

* * *

## 4\. 私钥怎么保管？我没冷钱包也能安全吗

### 4.1 核心误区纠正

❌ 不是“必须买冷钱包否则裸奔” ✅ 你可以用 **分层防御** 达到极高安全性

* * *

### 4.2 三钱包结构

1.  **交互钱包（小额）**：撸空投/测试DApp/日常交互
    
    -   放你丢得起的钱（50-200U）
        
2.  **主资产钱包（干净钱包）**：只收款不授权不点链接
    
3.  **交易所账户（中转）**：出入金用
    

* * *

### 4.3 助记词/私钥 7 条铁律

1.  助记词永远不截图、不存云端、不发微信
    
2.  助记词纸质备份2份，分开存放
    
3.  任何网页让你输入助记词 = 100%诈骗
    
4.  签名必须看内容，拒绝盲签
    
5.  警惕无限授权（Unlimited Approve / Permit2）
    
6.  主钱包不装在常用浏览器插件里
    
7.  用完授权就撤销（定期清理）
    

* * *

## 5\. 永续合约 & 期权：DeFi里到底干嘛？散户怎么玩？

### 5.1 永续合约（Perpetual）一句话

**永续合约 = 没有到期日的杠杆押注工具**

-   做多：赌涨
    
-   做空：赌跌
    
-   杠杆：放大盈亏
    
-   强平：爆仓归零
    

### 永续在 DeFi 的 3 个用途

1.  投机（散户最常见）
    
2.  对冲（专业：现货+开空抵风险）
    
3.  套利（机构：价差/资金费率）
    

* * *

### 5.2 Funding（资金费率）是什么？

永续没到期日，需要机制让价格贴近现货：

-   多太多 → 多付给空
    
-   空太多 → 空付给多 你可能方向对了，但被资金费率慢慢吸血。
    

* * *

### 5.3 期权（Options）

**期权 = 花一笔权利金，买未来某价格买/卖的权利**

-   Call：看涨
    
-   Put：看跌 期权比永续更复杂：受时间、波动率影响
    

* * *

### 5.4 永续 vs 期权（小白必须记住）

| 工具 | 本质 | 最大风险 |
| --- | --- | --- |
| 永续 | 方向+杠杆 | 强平爆仓 |
| 期权 | 方向+时间+波动 | 权利金归零 |

* * *

## 6\. 出入金/出金风险/出入金攻击：到底什么意思？散户怎么操作？

### 6.1

-   **交易（Trading）**：买卖币/合约/期权（圈内玩法）
    
-   **兑换（Swap）**：链上USDT ↔ ETH（圈内换币）
    
-   **出入金（On/Off-ramp）**：现实法币 ↔ 加密资产（圈外接口） **交易在圈内，风险核心在出入金接口。**
    

* * *

### 6.2 散户出入金全流程图

```
银行卡/法币
  ↓ 入金（买U）
交易所CEX
  ↓ 提币
个人钱包Wallet（链上交互）
  ↓ 充币
交易所CEX（卖U）
  ↓ 出金
银行卡/法币

```

* * *

### 6.3 “出入金攻击”是什么？

**黑产专门在你入金/出金那一刻做局骗你** 常见方式：

-   假客服骗验证码
    
-   假充值提现页面（钓鱼）
    
-   OTC/U商黑钱局
    
-   资金盘充值通道
    

* * *

### 6.4 “出金风险”是什么？

你把币换回法币时可能触发：

-   银行反洗钱风控
    
-   司法冻结
    
-   平台风控问询资金来源
    

**出金是最容易出事的步骤。**

* * *

## 7\. U是什么？U商是什么？U卡是什么？为什么它们风险大？

### 7.1 U是什么？

**U = USDT（稳定币）** 圈内等同“美元现金”。

### 7.2 U商是什么？

**U商 = OTC 换汇中间人** 你给他人民币，他给你USDT；或反过来。

⚠️ 风险核心：你不知道对方资金来源是否干净（涉诈/网赌/洗钱）。

### 7.3 U卡是什么？

**U卡 = 把USDT充值进去，像银行卡一样刷卡消费的工具** 它绕开直接卖币到银行卡的过程，但仍有风险：

-   平台通道风控/冻结
    
-   限额、不到账
    
-   大额高频消费引发审查
    

* * *

## 8\. “散户出入金涉案”超详细案例

**场景：你 OTC 买U入金 → 银行卡被冻结**

1.  你找U商买 5000RMB 的USDT
    
2.  你给陌生人转账 5000RMB
    
3.  你收到USDT（看起来正常）
    
4.  1-3天后银行卡司法冻结
    
5.  银行/警方问你：
    
    -   为什么给陌生人转账？
        
    -   你是否长期这样操作？
        
    -   你是否帮别人换U？
        

**真相：这5000RMB可能来自诈骗/网赌赃款** 你成了黑钱链条的“过桥节点”。

* * *

## 9\. 搬砖套利是什么？为什么它和冻卡/U商绑死？

### 9.1 搬砖套利（Arbitrage）

利用不同平台价差赚钱：

-   A平台 7.20
    
-   B平台 7.25 低买高卖赚差价
    

### 9.2 为什么搬砖高风险？

因为搬砖需要：

-   高金额
    
-   高频出入金
    
-   多次OTC换汇 对手方复杂 → 冻卡概率飙升。
    

* * *

## 10\. 为什么资金募集容易被纳入非法？

### 10.1 监管关注的不是“技术发币”

监管关注的是结构：

-   是否向不特定公众收钱
    
-   是否承诺收益/暗示回报
    
-   是否保本保息
    
-   是否新钱补旧钱（资金盘结构）
    

这会被类比到：

-   非法集资
    
-   金融诈骗
    
-   变相证券发行
    

### 10.2 “融资/投资回报/保本”为什么敏感？

因为这些词直接暗示： **募资 + 承诺收益** 在任何国家都敏感，但大陆刑事化可能更高。

* * *

## 11\. 为什么“衍生品/资金相关岗位”是高危岗位？

### 11.1 衍生品高危的原因

-   高杠杆 → 群体损失风险
    
-   容易被类比赌博结构
    
-   返佣拉新像赌场代理
    
-   引发监管强烈关注
    

### 11.2 资金岗位高危的原因

你直接接触：

-   充值提现通道
    
-   清结算/资金池
    
-   OTC对接
    
-   卡通道 平台一旦涉案，资金链人员最容易被追责。
    

* * *

## 12\. “隔离中国大陆用户”是什么意思？大陆到底能不能参与？

平台隔离大陆用户是为了降低“向境内展业”风险，常见措施：

-   不允许大陆手机号/证件注册
    
-   IP限制（但单靠IP不够）
    
-   条款明确禁止境内用户
    

* * *

## 13\. KOL衍生风险：为什么推荐/带单/导流/社群传播都算风险？

### 13.1 KOL风险本质

如果你带来大量散户入场、造成损失、项目出事，会被追问：

-   你是否收钱推广？
    
-   你是否诱导交易？
    
-   你是否明知风险仍鼓动？
    
-   你是否参与返佣体系？
    

### 13.2 KOL最危险的行为（红线级）

🚫 带单（具体买卖点位） 🚫 承诺收益（稳赚/保本/翻倍） 🚫 返佣导流（拉人注册拿返点） 🚫 推广高杠杆永续合约 🚫 站台资金募集项目（私募/预售/IDO）

### 13.3 KOL灰区行为

⚠️ “不构成建议”但全程暗示买入 ⚠️ 用情绪词制造FOMO ⚠️ 小群收费“内幕信号”

### 14\. 散户入场：你必须掌握哪些“安全+合规核心知识”（

* * *

### 14.1 合规必修（防冻卡/涉案）

1.  出入金定义（法币↔USDT）
    
2.  OTC/U商对手方风险
    
3.  冻卡逻辑：黑钱流入导致司法冻结
    
4.  绝不代收代付/帮人换U
    
5.  衍生品/资金岗位敏感原因
    

* * *

## 15\. 你的个人“安全SOP”

✅ 交互钱包最多放 200U ✅ 主钱包永不交互陌生网站 ✅ 不点陌生链接、不装陌生插件 ✅ 不盲签（出现 Approve/Permit/Unlimited 直接谨慎） ✅ 用完授权就撤销 ✅ 不做OTC代收代付、不帮人换U ✅ 出金低频小额、别高频大额

* * *

## 17\. 总结

Web3最大的风险不是你买了什么币，而是你的钱怎么进来、怎么出去、你有没有帮别人进出。安全靠结构：钱包分层 + 不盲签；合规靠边界：不碰OTC代收代付 + 不碰收益承诺/带单导流。
<!-- DAILY_CHECKIN_2026-01-15_END -->

# 2026-01-14
<!-- DAILY_CHECKIN_2026-01-14_START -->


**第一部分：以太坊底层共识与验证机制**

**1\. 从 PoW 到 PoS 的本质转变**

-   **状态确认**：以太坊现在不是“两阶段机制”，而是纯粹的 **PoS（权益证明）**。
    
-   **付费逻辑**：PoS 改变的是“谁来出块/怎么达成共识”，但**并未改变**“区块空间有限、执行消耗资源”的事实。所以，**Gas 费依然必须付**。
    

**2\. 验证者（Validator）与 32 ETH 的真正含义**

-   **纠正误区**：质押 32 ETH **不是**为了验证你某一笔特定的交易。
    
-   **押金约束机制**：
    
    -   32 ETH 是成为“独立验证者”的门槛，是一套共识权重的基本单位。
        
    -   它更像是一个\*\*“押金 + 工资系统”\*\*：你先交一笔押金加入委员会（质押），以此换取维护账本的资格。如果你干活（在线并诚实投票），系统发工资（收益）；如果你乱来或作恶，系统就扣除你的押金。
        
-   **验证者在干什么？**
    
    -   **提议与投票**：在每个时间片，会选出一个验证者当“提议者”打包区块，其他验证者负责“投票证明（Attestation）”—即盖章确认这页账本合法。
        
    -   **最终性 (Finality)**：投票积累到一定程度后，账本达到最终性，此时回滚成本极高。
        
-   **验证者收入构成**： 验证者收入 = 协议奖励（共识基础工资）+ 交易相关收入（Priority Fee 小费 + MEV 额外奖金）
    
-   **关于本金退回**：
    
    -   **纠正**：不存在“30%会退回”的说法。
        
    -   **事实**：质押的本金是锁定在系统里的。当你停止质押并按规则退出队列后，**本金会返还**。期间你获得收益，也可能因离线或违规（Slashing）被扣罚。
        

**第二部分：Gas 费逻辑与经济模型 (EIP-1559)**

**1\. 为什么拥堵时 Gas 会贵？**

-   **供需逻辑**：区块容量有限，想上车的人多，就会产生竞价。
    
-   **飞机比喻**：同一班飞机座位有限，抢的人多，机票价格就涨。
    

**2\. 费用结构拆解**

**Base Fee（基础费）**

-   **算法逻辑**：系统根据拥堵程度自动计算，上下浮动。
    
-   **销毁机制**：这部分 ETH 会被**销毁（Burn）**，直接从流通中消失，不进任何人的口袋。
    
-   **销毁目的**：
    
    1.  **费用预测**：让手续费更稳定，减少用户乱报价。
        
    2.  **防暗箱操作**：防止验证者搞“私下收费”导致机制退化。
        
    3.  **通缩效应**：让 ETH 变成网络必须消耗的“燃料”，抵消通胀，增强经济地位。
        

**Priority Fee（小费/优先费）**

-   **本质**：你额外给验证者的“加塞费”或“加急费”。
    
-   **去向**：直接进入验证者的口袋。
    
-   **目的**：在拥堵时区分“谁更急”。
    

**3\. 普通用户如何决策？**

-   **决策口诀**：**时间会改变结果 → 给小费；时间不改变结果 → 等。**
    
-   **需加急场景**：DEX 交易（慢了价格会变坏）、抢购/Mint（先到先得）、借贷接近清算（慢了损失惨重）、极端行情止损。
    
-   **不需加急场景**：普通转账给朋友、小额非敏感操作、不赶时间的操作。
    

**第三部分：DeFi 与 AMM 做市商原理**

**1\. AMM（自动做市商）定价逻辑**

-   **资金池（Pool）**：它不是人在挂单，而是一个装着两种代币（如 ETH/USDC）的桶。
    
-   **数学公式**：常用 x×y=k 定价。你从池子里拿走一种币，就必须放进另一种币，使 k 维持平衡。
    
-   **水桶比喻**：池子像一桶水。你舀一小勺（小额交易），水面几乎没变化；你舀半桶（大额交易），剩下的水就极其难舀，价格变得非常贵。
    

**2\. 滑点 (Slippage) 与大单**

-   **定义**：你看到的报价 vs 你最终成交的价格之间的差。
    
-   **规律**：交易金额越大、池子资金（流动性）越浅，滑点就越大。
    

**3\. MEV 与三明治攻击 (Sandwich Attack)**

-   **原理**：机器人在公开的交易队列中发现你的大单，通过在你的交易前后各插一单，赚取你因为滑点付出的差价。
    
-   **流程**：它先在你前面买入（推高价格） → 你被迫以更坏的价格买入 → 它在你后面立刻卖出。
    

**4\. LP（流动性提供者）与无常损失**

-   **LP 角色**：往池子里存入两种代币的人，为他人提供库存，赚取手续费分成。
    
-   **无常损失 (IL)**：当两种代币价格剧烈波动时，做 LP 可能不如单纯持币划算，这是新手最容易忽略的坑。
    

**5\. 借贷体系 (Lending)**

-   **核心**：超额抵押（先存再借）。
    
-   **健康度与清算**：如果你的抵押物贬值到清算线，别人可以用折扣价买走你的抵押物来替你还债，你将蒙受损失。
    

**第四部分：Layer 2 扩展与安全性**

**1\. L1 与 L2 的真实关系**

-   **纠正误区**：L2 的应用**不是**要把代码上传到 L1。
    
-   **数据与证明**：DApp 合约部署在哪条链就在哪执行。Rollup 类 L2 会把大量的交易结果和“可验证证明”打包提交给 L1。
    
-   **比喻**：L2 像是一个在外面算账的分公司，算完后定期把账本摘要和正确性证据交回总公司（L1）备份盖章。
    

**2\. 两种主流 Rollup**

-   **Optimistic Rollup（乐观）**：先默认交易都对（先信后查），如果有异议就在“挑战期”提交证据。提现回 L1 比较慢。
    
-   **ZK Rollup（零知识）**：通过数学证明“我肯定算对了”（先证明再认）。L1 验证证明即可确认，无需长久等待。
    

**3\. 侧链 (Sidechain) vs 跨链桥 (Bridge)**

-   **侧链**：安全靠自己，不依赖以太坊主网兜底。
    
-   **跨链桥**：机制通常是“锁定/销毁”+“铸造/释放”。它是黑客的最爱，因为托管了大量集中资产，风险极高。
    

**第五部分：NFT、DAO 与 DApp 实操**

**1\. 代币 (Token) 的本质**

-   **定义**：智能合约里的一套“所有权记账”代码。它不凭空值钱，价值来自市场共识。
    
-   **NFT**：非同质化代币，像是有编号的唯一证书（ERC-721/1155）。
    

**2\. NFT 交易与趋势**

-   **交易关键**：必须核对**合约地址**，严防假系列。
    
-   **2026 趋势**：NFT 正在从纯图片转变为“账户容器”（ERC-6551），可以持币、持其他 NFT，作为可编程身份。
    

**3\. DAO（去中心化自治组织）**

-   **运作**：通过持有 Token 或 NFT 获得投票权，共同决定金库（Treasury）的钱怎么花。
    

**4\. DApp 的开发逻辑**

-   **结构**：DApp = 链上合约（逻辑）+ 链下前端（交互界面）。
    
-   **可能性**：你可以拿别人的合约做自己的前端，只要遵守授权和接口规则。
<!-- DAILY_CHECKIN_2026-01-14_END -->

# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->



## 1) 角色：节点 / 矿工 / 验证者到底是谁

**节点（Node）**：运行区块链客户端的电脑。职责是**验证规则**并保存账本，不“控制”任何人。它判断：签名对不对、余额/UTXO够不够、区块是否合法。  
**矿工（Miner，PoW）**：参与算力竞争的人/机器。职责是**打包交易并通过算力竞争出块**。  
**验证者（Validator，PoS）**：质押资产参与共识的人。职责是**提议区块+投票确认**，作恶会被罚没质押。

一句话：**节点=裁判；矿工/验证者=提议并写入新区块的人。**

* * *

## 2) 交易完整周期

1.  你在钱包里填地址/金额/操作（转账或调用合约）
    
2.  钱包用你的私钥**签名**（证明“这是我授权的”）
    
3.  交易广播到网络 → 节点接收
    
4.  进入 **mempool（内存池/候车室，链下）**
    
5.  出块者（PoW矿工或PoS出块验证者）从 mempool 挑交易**打包进区块**
    
6.  全网节点验证区块 → 接受后成为链上历史
    
7.  后续又叠加更多区块后，这笔交易越来越难被回滚（更安全）
    

**为什么“离被打包的区块越远越安全”**：因为攻击者想篡改，必须重写那一块以及后面所有块，成本随确认数增加而快速上升。

* * *

## 3) 哈希 / Nonce / 难度：为什么要算哈希

**哈希（Hash）**：数据的“指纹”。内容改一点，指纹完全变。验证很便宜。  
**Nonce（随机数）**：区块里专门留给矿工“随便改”的字段，用来反复试。  
**难度（Difficulty/Target）**：系统规定区块哈希必须“小于某个门槛”（常被描述为“开头要有很多个0”）。

PoW 的关键：

-   算一次哈希很便宜
    
-   **找到满足难度条件的哈希没有捷径，只能不断试 nonce**
    
-   谁先试出来就先广播新区块
    
-   其他节点只需再算一次哈希就能验证“你确实做了工作量”
    

一句话：**PoW 用“难造假、易验证”的计算成本来决定记账权。**

* * *

## 4) PoW / PoS / PoH（Solana）各是什么、解决什么

### PoW（工作量证明，BTC/以太坊合并前）

核心：**烧电+算力竞争出块**。  
意义：想篡改历史/双花必须重算并超过全网算力，经济上不值得。  
奖励来源：**区块补贴（新发行的币）+ 交易费（用户手续费）**。  
“挖矿像公开印钞”意思：新币发行规则写死且公开，谁出块谁拿补贴（不是央行拍脑袋）。

### PoS（权益证明，现在以太坊）

核心：**押钱（质押）代替烧电**。验证者被选中出块、其他验证者投票确认；作恶就罚没质押。  
重要点：PoS **不需要 PoW 那种不断改 nonce 解哈希题**（仍会用哈希做普通加密/随机性等，但不是挖矿解题）。

**Slashing（罚没）什么时候发生？**  
主要是严重作恶/冲突行为，例如：同一轮次“双重提议区块”、矛盾投票（双投/环绕投票）。离线一般是小惩罚，不是大砍头。

### PoH（历史证明，Solana）

核心：**一个“加密学时钟/时间轴”**，用连续不可跳步的哈希提前给事件打可验证顺序，减少全网对时/排序的通信成本。  
重要点：**PoH 不是最终共识**，Solana 仍配合 PoS/BFT 投票来确认区块。

一句话对比：

-   **PoW**：用电费决定谁写账本
    
-   **PoS**：用押金+惩罚决定谁写账本
    
-   **PoH**：先把“时间/顺序”钉住，让共识更快（但不取代共识）
    

* * *

## 5) TPS、确认时间、gas：为什么要“快”

**TPS**：每秒处理交易数（吞吐量）。但它不等于体验。体验更看：手续费、失败率、确认/最终性。  
**为什么要付更高 gas（小费）让交易更快？**  
区块空间有限，出块者优先打包“给小费更高”的交易。

你不一定要快：

-   普通转账、小额操作、不赶时间 → 完全可以等（省钱）。  
    必须快的典型场景：
    
-   DEX swap（价格在变，慢了滑点更大/失败）
    
-   借贷接近清算（慢了可能被清算）
    
-   抢购/mint（先到先得）
    
-   极端行情需要快速换稳定币避险
    

* * *

## 6) MEV / 三明治攻击 / 滑点

**MEV（Maximal Extractable Value）**：通过“调整交易顺序”等方式从别人交易里榨取利润。  
**三明治攻击（Sandwich）**：你在 DEX 提交大额 swap → 机器人在你前面买（推价）→ 你在更差价格成交 → 它在你后面卖（赚差价）。  
**滑点变大**：实际成交价比你看到的预期价更差；原因可能是池子流动性浅、你单子太大、你等太久、或被夹。

应对（普通用户能做的）：

-   降低滑点容忍度（可能导致失败）
    
-   拆单、选更深池子
    
-   使用 MEV protection / 私有交易通道（减少在公开 mempool 暴露）
    

* * *

## 7) “签名登录” vs “授权钓鱼”：Sign / Approve / Permit 必须分清

你必须永远区分三个动作：

-   **Sign（签名）**：证明“是你本人同意/登录/确认一段消息”。不一定转钱，但可能被利用。
    
-   **Approve（授权）**：你允许某合约未来转走你某种 token（常见无限额度）。
    
-   **Permit（离线授权签名，如 EIP-2612）**：你只“签名”，攻击者可以拿签名去链上提交授权，不需要你再点交易确认。
    

**授权钓鱼核心**：骗你签/授一个“spender”权限（尤其无限额度），然后用 transferFrom 把你的币掏空。  
用户安全铁律：

-   助记词/私钥永不泄露
    
-   不乱签不懂的内容，警惕 permit/spender/allowance
    
-   授权尽量别无限，用完就 revoke
    
-   只走官方域名入口
    

* * *

## 8) 钱包：私钥/公钥/地址/助记词（你问得最多的部分）

**私钥**：你资产的最高控制权。私钥签名 = 你授权交易。  
**公钥/地址**：由私钥通过单向密码学生成。能从私钥算公钥，但几乎无法反推私钥。  
**助记词（seed phrase）**：钱包的“主备份”。助记词→生成 seed→派生出很多私钥/地址（HD 钱包）。  
因此：

-   助记词能生成多个账户 = 同一个助记词能派生出无限多地址
    
-   你发很多笔交易通常仍用同一地址对应的私钥签名（交易不同，签名不同，但私钥不换）
    
-   助记词/私钥泄露 = 钱包全完
    

普通用户保护钱包最实用做法：

-   大额用硬件钱包，小额热钱包交互
    
-   助记词离线保存（纸/金属），不拍照不云端
    
-   不乱装插件、不点陌生链接、不信“客服要助记词”
    

* * *

## 9) 以太坊：是什么、怎么运行、EVM 是什么

**以太坊不是训练数据的系统**，它是：公开可验证的“状态机 + 合约执行平台”。  
**EVM（以太坊虚拟机）**：全网统一执行合约的虚拟机环境。你部署的合约代码在全网按同样规则执行，结果写进链上状态。  
谁能创建 DApp？**任何人**都能写合约并部署（付 gas），再做前端连接钱包调用合约。

* * *

## 10) EOA vs CA

-   **EOA**：外部账户（你的钱包地址），私钥控制，能主动发交易。
    
-   **CA**：合约账户（合约地址），代码控制，不能主动发交易，只能被调用触发。  
    风险记忆：EOA 风险在私钥/签名；CA 风险在合约漏洞/恶意授权/升级后门。
    

* * *

## 11) L1 / L2 / DA：以太坊扩容主线（含 Dencun、EIP-4844、blob、数据分片）

**L1（主网）**：最高安全、最终结算、数据发布（DA）。  
**L2（Rollup）**：把大量交易放到二层执行，结果+必要数据/证明交回 L1。目的：更便宜更快。  
**DA（数据可用性）**：L2 必须把关键数据公布在 L1，别人才能验证、L2 出问题用户才能退出到 L1。否则 L2 就像中心化数据库。

### Dencun & EIP-4844

Dencun 升级最核心是 **EIP-4844（Proto-Danksharding）**：  
引入“携带 blob 的交易类型”，给 Rollup 提供**更便宜的临时数据空间**。  
**Blob**：Rollup 专用“临时数据包”，主要为 DA 服务，不是质押资产。  
结果：L2 发布数据成本降低 → L2 手续费下降。

### 数据分片（Data Sharding）

后续完整版：让 L1 承载更多并行数据“车道”，继续扩大 DA 容量，服务 Rollup-centric 路线。

一句话：**4844/分片不是让 L1 自己 TPS 无限大，而是让 L2 更便宜。**

* * *

## 12) ERC 标准：ERC20 / ERC721 / ERC1155 是什么

它们是以太坊上智能合约的“接口标准”，让钱包/交易所/应用能统一识别和兼容。

-   **ERC20**：同质化代币（每一枚都一样），如 USDC、UNI。
    
-   **ERC721**：NFT（独一无二，每个 tokenId 唯一）。
    
-   **ERC1155**：半同质/批量标准，同一合约里既能发 NFT 也能发可叠加道具，支持批量转账更省 gas（常用于游戏资产）。
    

代币/NFT 不是凭空出现：它们是合约执行 `mint` 等逻辑后，在链上状态里记录“谁拥有多少/谁拥有哪个 tokenId”。

* * *

## 13) 比特币 vs 以太坊

-   **比特币**：更偏“钱/价值存储”的专用链，PoW，UTXO，脚本能力有限（安全优先）。
    
-   **以太坊**：更偏“可编程平台”，EVM、智能合约、账户模型（生态更广但攻击面更大），现在 PoS。
    

* * *

## 14) UTXO

UTXO 就是“未花费的零钱券”。比特币没有“扣余额”，而是：  
花掉旧的 UTXO 作为输入 → 生成新的输出：给收款人 + 找零给自己。  
节点通过检查 UTXO 是否已花过来防双花。

* * *

总结：

1.  节点验证规则；矿工/验证者提出新区块。
    
2.  mempool 是交易候车室（链下）。
    
3.  PoW 用算力成本决定出块权；想改历史成本巨大。
    
4.  PoS 用质押+惩罚决定出块权；不靠挖矿解题。
    
5.  PoH 是“可验证时间轴”，不是最终共识。
    
6.  高 gas 只在“时间影响结果/风险”时值得。
    
7.  MEV/三明治靠插队夹你；滑点变大=成交价更差。
    
8.  Sign≠转账；Approve/Permit 才是最常见被掏空入口。
    
9.  L1 提供安全与DA，L2 执行扩容；4844 的 blob 让 L2 发数据更便宜。
    
10.  区块链=没有裁判也能一致的公开账本。
<!-- DAILY_CHECKIN_2026-01-13_END -->

# 2026-01-12
<!-- DAILY_CHECKIN_2026-01-12_START -->




**Web3 区块链基础笔记（运营/产品向）**

如何理解： 在没有中心裁判的情况下，如何让全网对“交易顺序 + 账本版本 + 状态结果”达成一致，并让作恶在经济上不值得。

* * *

## 1\. 区块链到底在解决什么问题？

如果有银行/平台当裁判，交易有没有发生、余额够不够、谁先谁后，都可以由中心系统说了算。

但在区块链里：**没有裁判，只有一群互不信任的电脑**。

所以核心问题变成三件事：

1.  **真实性**：这笔交易是不是你发的？（签名）
    
2.  **有效性**：你有没有钱？有没有重复花？（余额/UTXO 验证）
    
3.  **一致性**：全网到底承认哪一页账本是“正史”？（共识机制）
    

共识机制就是为第 3 件事服务的。

* * *

## 2\. 节点（Node）到底是什么？矿工/验证者又是谁？

### 2.1 节点（Node）

节点就是运行区块链客户端的计算机。它不控制任何人，它做的是“裁判工作”：

-   接收交易、区块
    
-   验证规则：签名对不对、余额/UTXO 是否够、区块结构是否合规
    
-   保存账本并转发消息
    

### 2.2 矿工（Miner，PoW）

矿工是 PoW 体系里的“出块竞赛者”：

-   从交易池挑交易打包
    
-   不断试 nonce，算哈希
    
-   谁先满足难度，谁就获得写新区块的资格（记账权）
    
-   奖励来自：区块奖励 + 交易费（同时承担电费/机器成本）
    

### 2.3 验证者（Validator，PoS）

验证者是 PoS 体系里的“质押出块/投票者”：

-   质押 ETH 当保证金
    
-   被随机选中提议区块（出块者）
    
-   其他验证者对区块投票确认
    
-   作恶会被惩罚（罚没质押）
    

* * *

## 3\. 哈希（Hash）/Nonce（随机数）到底是干嘛的？

### 3.1 哈希是什么？

哈希是“指纹函数”：

-   把一堆数据压缩成一个固定长度的输出（指纹）
    
-   数据改一点，指纹会完全变
    
-   算一次很便宜，验证一次也很便宜
    

所以哈希天然适合做三件事：

1.  **防篡改**：改了就露馅
    
2.  **把区块串起来**：新区块包含上一个区块的哈希 → 改历史会牵一发动全身
    
3.  **做可验证的成本门槛**（PoW 里最关键）
    

### 3.2 Nonce 是什么？

Nonce 就是区块里留给矿工的“可随便改的字段”。

矿工不断改 nonce → 每次改一点，区块的哈希就变一下 → 直到碰到满足难度门槛的哈希。

* * *

## 4\. PoW（工作量证明）

PoW 的本质是：

**在没有中心裁判时，用“真实可验证的成本（电力/算力）”来决定谁能写新区块，并让篡改历史变得极其昂贵。**

PoW 的关键机制：

-   全网要有人写下一页账本（新区块），但不能靠“谁说了算”
    
-   所以用规则：谁先算出满足难度的哈希，谁赢
    
-   赢的人获得记账权并拿奖励
    
-   其他节点验证非常容易：把区块再哈希一次就知道对不对
    

### 4.1 PoW 怎么防止双花？

双花的本质是：同一笔钱被花两次。

PoW 的解决方式不是“阻止你尝试双花”，而是：

-   让全网最终收敛到一条“累计工作量最多的链”（最长链/最重链）
    
-   如果你想改历史（把你之前的支付抹掉），你必须从那个区块开始重算，并且算得比全网更快，才能让你的伪造链成为“最重链”
    
-   成本巨大，经济上不划算（除非你掌控绝大多数算力）
    

* * *

## 5\. PoS（权益证明）本质区别是什么？

PoS 把安全成本从“电费”换成“本金风险”。

PoS 的本质是：

**用质押作为保证金决定出块/投票权，作恶就罚没质押，让作恶变成亏钱。**

-   PoS 不靠“解哈希难题”来抢出块
    
-   验证者通过质押进入集合，按规则被选中出块、投票确认
    
-   安全来自经济惩罚（Slashing 等），不是来自烧电
    

* * *

## 6\. PoH（Solana 的历史证明）到底是什么、有什么用、为什么要顺序？

### 6.1 为什么区块链必须要“顺序”？

账本是“按顺序写的”。

如果交易顺序不统一，全网会算出不同余额/不同结果 → 账本分裂 → 双花和混乱就出现。

所以所有公链都要解决：

-   哪笔交易先发生？
    
-   哪个区块先被承认？
    
-   哪个状态才是全网共同版本？
    

### 6.2 PoH 的本质

PoH 不是共识机制。它是一个“加密学时钟”：用连续哈希生成一条不可跳步的序列，相当于全网可验证的时间刻度。

连续哈希的意思就是：

-   `h1 = hash(seed)`
    
-   `h2 = hash(h1)`
    
-   `h3 = hash(h2)`
    
    必须一步一步算，不能跳过某一步。
    

当交易进来，把交易信息嵌入到某一步里，等于给交易打上“发生在第 N 步”的顺序标签。

别人只要从前一个哈希开始按顺序算，就能验证这个顺序标签是真的。

### 6.3 为什么要 PoH？

因为在分布式网络里，最耗时的不是计算，而是：

-   节点之间反复沟通：到底谁先谁后？
    
-   大量通信开销导致慢
    

PoH 提前把顺序编码好，让大家少争论、少通信。

然后 Solana 再配合 PoS/Tower BFT 去投票确认最终区块。

* * *

## 7\. TPS 是什么？

TPS = 每秒可确认并写入账本的交易数量（吞吐量）。

但运营视角必须补两点：

-   TPS 不等于用户体验（用户更在意：手续费、失败率、确认时间）
    
-   TPS 有统计口径：不同链可能把投票/内部交易算不算都不同
    

运营真正要盯的性能三件套：

-   手续费（成本）
    
-   确认/最终性（速度与不可逆程度）
    
-   失败率/拥堵体验（新手留存杀手）
    

* * *

## 8\. 比特币（BTC）为什么“安全但脚本功能受限”？

### 8.1 非图灵完备是什么意思？

非图灵完备 = **故意不提供写任意复杂程序的能力**（尤其避免导致验证不可控的结构，比如无限循环风险）。

目的：让验证更可预测、更安全，减少攻击面。

结论：

比特币设计优先级是 **极致安全的去中心化转账**，不是应用平台。

* * *

## 9\. UTXO 到底是什么

把 UTXO 当成“零钱收据”就够了：

-   比特币没有“账户余额”这种中心化概念
    
-   你的钱是一张张“未花费收据”（UTXO）
    
-   你转账时不是扣余额，而是把若干张收据作为输入一次性花掉
    
-   如果金额不刚好，会找零：生成新的 UTXO 给你
    

UTXO 的好处：

-   节点非常容易验证“这张收据是否花过” → 天然防双花
    
    代价：
    
-   多阶段复杂应用不友好（状态管理麻烦）
    

* * *

## 10\. 以太坊（ETH）到底是什么？

以太坊不是为了“更快转账”而生，而是为了：

**让区块链从“只能转钱的账本”进化成“可以运行程序的公共平台”。**

它解决的是：

在没有中心平台的情况下，任何人都能部署并运行“公开可验证、自动执行、难以篡改”的规则（智能合约）。

-   任何人都能发送交易/调用合约/部署合约（开放使用）
    
-   但没人能随便改别人资产或改历史（必须符合规则并达成共识）
    
-   写入链上状态需要付 gas（执行成本），通常用 ETH 支付
    
-   想当验证者需要质押 ETH（参与共识）
    

* * *

## 11\. EVM 是什么？为什么说它是“世界计算机”？

EVM（Ethereum Virtual Machine）是以太坊的统一执行环境：

-   智能合约是一段代码
    
-   EVM 规定这段代码如何执行
    
-   所有节点按同样规则执行，得到同样结果
    
-   结果写入公共状态（全网共同维护的“记忆”）
    

**全网像一台机器一样按统一规则执行合约，并在全网复制状态。**

* * *

## 12\. mempool（内存池）是什么？你点“发送”后发生了什么？

mempool 是链下的“候车室”：

你转 10 美元稳定币（如 USDC）的实际流程是：

1.  你在钱包填地址、金额
    
2.  钱包用私钥签名交易（证明是你发的）
    
3.  交易广播到网络节点
    
4.  节点先把它放进 mempool（待打包交易集合）
    
5.  出块者/验证者从 mempool 挑交易打包进区块
    
6.  其他节点验证区块并最终确认
    

* * *

## 13\. EOA 和 CA 的本质区别

-   **EOA（外部账户）**：你的钱包地址，私钥控制。能主动发交易。
    
-   **CA（合约账户）**：合约地址，代码控制。不能主动发交易，只能被调用触发。
    

* * *

## 14\. 授权钓鱼（Approval Phishing）与常见诈骗：运营必须掌握

你必须区分三种动作：

-   **Sign（签名）**：你同意一条消息，不一定转钱，但可能给骗子权限或做社工入口
    
-   **Approve（授权）**：你允许某合约未来从你地址转走某种 token（常见“无限额度”）
    
-   **Send（转账）**：直接把资产发走
    

授权钓鱼的核心套路：

-   诱导你对恶意合约 approve 无限额度
    
-   之后合约直接把你的 token 转走
    

运营最该发的安全提醒

-   只走官网/官方公告入口，核对域名
    
-   授权尽量不要无限额度
    
-   用完及时 revoke 授权
    
-   警惕空投领取、补贴链接、所谓“开运仪式”链接
    

* * *

## 15\. L1 / L2 到底是什么？是不是以太坊网络？

-   **L1（Layer 1）**：以太坊主网本身。提供最高安全、最终结算、数据发布能力。
    
-   **L2（Layer 2，Rollup）**：建立在 L1 之上的二层网络（独立运行），把最终安全锚定在 L1
    

* * *

* * *

## 16\. 以太坊升级路线图主线：EIP-4844 与数据分片

以太坊现在走的是 **Rollup-centric** 路线：

-   L2 负责大量交易执行
    
-   L1 负责安全、结算、数据可用性（DA）
    

问题是：L2 把数据发到 L1 很贵 → 手续费下不来。

### 16.1 EIP-4844 是什么？

EIP-4844（Proto-Danksharding）做的事：

**给 Rollup 专用的更便宜数据载体（blob）**，让 L2 发布数据成本下降，从而降低 L2 手续费。

一句话：

**4844 = 给 L2 开“便宜的数据通道”。**

### 16.2 数据分片是什么？

数据分片是未来的“完整版扩容”：

**把 L1 的数据承载能力做成更多并行“数据车道”**，继续扩大 DA 容量，让 Rollup 更便宜、更大规模。

* * *

## 17\. DeFi 入门

### 17.1 Uniswap：AMM 与 x\*y=k

Uniswap 不是撮合，而是“池子定价”：

-   池子里有两种资产（如 ETH/USDC）
    
-   用公式决定价格（常数乘积 x\*y=k，忽略手续费）
    
-   你用 ETH 换 USDC：池子 ETH 增加，USDC 减少
    
-   因为比例变了，价格会自动变差
    
-   大额交易会造成价格冲击
    
-   成交价 ≠ 你以为的“市场价”
    
    这就是 **滑点/价格冲击**。
    

一句话：

**AMM 用池子比例自动定价，交易会推动价格变化，单子越大滑点越大。**

### 17.2 Compound：抵押借贷与强制清算

-   把 ETH 抵押进去
    
-   借出 USDC（获得现金流，不用卖 ETH）
    
-   但如果 ETH 跌太多，抵押物价值不够安全，就会触发强制清算：系统卖出部分抵押物偿还债务
    
-   借款额（USDC 本金+利息）是固定的
    
-   ETH 涨：抵押物更值钱，你相对赚（还款不变）
    
-   ETH 跌：可能被清算（风险核心）
    

一句话：

**DeFi 借贷最大的风险不是利息，是清算。**

### 17.3 DeFi + NFT：NFT 抵押借贷与 NFT AMM ：

**NFT 金融化=把“不好卖的 NFT”变成可借贷/可即时成交，但风险来自估值波动与流动性。**

* * *

## 18\. BTC vs ETH 的对比

比特币的核心是：

-   安全转账、不可篡改
    
-   UTXO 模型
    
-   脚本非图灵完备，功能受限
    
-   降低攻击面 → 安全更硬
    

以太坊的核心是：

-   可编程平台、跑应用
    
-   账户模型 + 状态
    
-   EVM + 智能合约
    
-   功能更强 → 生态更广，但更需要安全审计
    

* * *

## 19\. 运营指标与平台

-   **DAU**：日活跃用户数（一定要先定义什么是“有效行为”，比如交易/签名/访问等）。
    
-   **UVP（Unique Value Proposition）**：独特价值主张，一句话讲清“给谁、解决什么、为什么你更强”。
    
-   **CMC**：在 Web3 场景常指 CoinMarketCap，用于查币价、市值、合约地址、交易所、项目数据等。
    

* * *

## 20\. 总结

* * *

区块链是在没有中心裁判时，让全网对交易顺序与账本版本达成一致。PoW 用烧电算力成本决定谁出块，让改历史不划算；PoS 用质押与惩罚决定出块投票，让作恶亏钱；Solana 的 PoH 用连续哈希提供可验证时间轴，先把顺序钉死以减少沟通成本，再由 PoS 投票确认。节点是验证规则和保存账本的裁判；哈希是数据指纹；nonce 是 PoW 试错位。比特币用 UTXO 与非图灵完备脚本换极致安全，因此难做复杂应用；以太坊用账户模型+EVM 让合约可编程，成为应用平台。L1 是主网安全结算层，L2（Rollup）是便宜高频执行层，必须把数据/证明发回 L1 才可验证与可退出；EIP-4844 用 blob 降低 L2 发数据成本，数据分片进一步扩 DA 容量。DeFi 里 Uniswap 用 AMM 公式自动定价（滑点来自池子比例变化），借贷的核心风险是清算，NFT 金融化通过抵押借贷与 AMM 提升流动性但风险来自估值与流动性。
<!-- DAILY_CHECKIN_2026-01-12_END -->
<!-- Content_END -->
