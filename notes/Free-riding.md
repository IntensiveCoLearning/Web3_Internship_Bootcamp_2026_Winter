---
timezone: UTC+8
---

# Free-riding

**GitHub ID:** Free-riding

**Telegram:** @have_try

## Self-introduction

Web3 实习计划 2025 冬季实习生

## Notes

<!-- Content_START -->
# 2026-01-15
<!-- DAILY_CHECKIN_2026-01-15_START -->
# 上链的流程

用户操作 → DApp 构造交易 → 钱包签名（私钥） → 广播到节点 → 内存池 → 验证者打包 → 上链 → 合约执行 → 状态更新 → DApp 监听结果。钱包永远不会把私钥发送给 DApp 或网络。每笔交易都需用户手动确认，防止恶意操作。一旦上链，交易无法被修改或删除。所有交易和状态变更公开可查（除非使用隐私链）。

### **用户创建或导入钱包**

-   用户通过钱包应用（如 MetaMask）生成一个**非对称密钥对**：
    
    -   **私钥**（Private Key）：必须保密，用于签名交易。
        
    -   **公钥**（Public Key）：由私钥推导得出。
        
    -   **地址**（Address）：由公钥哈希生成（如 `0xAbC...`），作为用户在链上的唯一标识。
        

### **用户访问 DApp 并连接钱包**

-   用户打开一个 Web3 DApp（如 Uniswap、OpenSea）。
    
-   DApp 通过 **Web3.js** 或 **Ethers.js** 等库检测浏览器是否安装钱包。
    
-   用户点击“连接钱包”，钱包弹出授权请求。
    
-   用户授权后，DApp 获取用户的**地址**（但无法获取私钥）。
    

### **用户发起操作（如转账、铸造 NFT）**

-   用户在 DApp 界面点击“转账”或“Mint NFT”。
    
-   DApp 根据智能合约 ABI 构造一个**交易请求**（Transaction Request），包括：
    
    -   目标合约地址（to）
        
    -   调用的函数（如 `transfer(address to, uint256 amount)`）
        
    -   参数编码（使用 ABI 编码）
        
    -   Gas 限制（gasLimit）
        
    -   Gas 价格（gasPrice 或 maxFeePerGas）
        
    -   链 ID（防止重放攻击）
        

### **钱包弹出交易确认窗口**

-   DApp 通过 `eth_sendTransaction` 请求将交易发送给钱包。
    
-   钱包显示交易详情（如金额、接收方、Gas 费用）。
    
-   用户确认后，钱包使用**私钥对交易进行数字签名**。
    
-   签名后的交易包含：
    
    -   `r`, `s`, `v`（ECDSA 签名参数）
        
    -   原始交易数据
        

### **交易广播到区块链网络**

-   钱包通过 **RPC 节点**（如 Infura、Alchemy 或自建节点）将签名后的交易广播到 Ethereum 网络。
    
-   节点验证交易格式、签名有效性、nonce 是否正确、余额是否足够等。
    
-   验证通过后，交易进入**内存池**（mempool），等待被矿工/验证者打包。
    

### **交易被打包并上链**

-   在 Ethereum（PoS 机制下）：
    
    -   验证者（Validator）从内存池中选择交易，打包进新区块。
        
    -   区块通过共识机制（如 LMD-GHOST + Casper FFG）被确认。
        
-   交易一旦被包含在区块中，并经过若干确认（如 6 个区块），即视为**最终上链**。
    

### **智能合约执行 & 状态更新**

-   如果交易目标是智能合约，EVM（Ethereum Virtual Machine）会执行对应函数。
    
-   执行过程消耗 Gas，修改链上状态（如余额、NFT 所有权）。
    
-   所有节点独立执行相同逻辑，达成状态一致。
    

### **DApp 监听交易结果并更新 UI**

-   DApp 可通过监听交易哈希（txHash）或事件日志（Event Logs）来确认交易是否成功。
    
-   成功后，前端更新 UI（如显示“转账成功”）。
    

## **助记词 vs 私钥：**

-   **助记词 (Seed)：** 是“种子”或“根”。**一个助记词可以派生出无限个私钥**（一对多关系）。
    
-   **私钥 (Private Key)：** 对应唯一的公钥和地址（一对一关系）。
    
-   _比喻：助记词是整栋房子的总钥匙，私钥是其中一个房间的钥匙。_
    

**交易 (TX) 的构成要素**

当你在钱包（如 MetaMask, Rabby）中点击“发送”时，钱包在后台为你组装了一个数据包，包含：

-   **From/To：** 发送方和接收方。
    
-   **Value：** 转账金额（如 0.001 ETH）。
    
-   **Data：** 备注或智能合约调用指令（如果是普通转账，此项可能为空或备注；如果是 Mint NFT，这里就是代码指令）。
    
-   **Gas Fee (手续费)：**
    
    -   **Gas Price：** 油价（网络越拥堵越贵）。
        
    -   **Gas Limit：** 油箱上限（防止死循环消耗无限费用）。
        
    -   _作用：为网络资源付费，激励矿工/验证者打包你的交易，防止垃圾交易攻击网络。_
        
-   **Nonce (随机数/序号)：**
    
    -   **定义：** 一个递增的整数（0, 1, 2...）。
        
    -   **核心作用：防重放攻击 (Anti-Replay)。**
        
    -   _解释：如果没有 Nonce，黑客可以截获你“给 A 转 10 块钱”的交易数据，然后重复广播 10 次，把你的钱转光。有了 Nonce，每笔交易都有唯一序号，序号 1 用过了就不能再用。_
        
-   **Signature (数字签名)：**
    
    -   使用**私钥**对上述所有信息进行加密签名。
        
    -   **验证机制：** 网络中任何人都可以用你的**公钥**解密签名，从而证明“这笔交易确实是你发的”且“内容未被篡改”，但他们无法反推出你的私钥。
        

**RPC (Remote Procedure Call) 的角色**

-   **定义：** 它是钱包连接区块链的“桥梁”或“传话筒”。
    
-   **去中心化的悖论：** 区块链本身是去中心化的，但用户访问链通常依赖中心化的 RPC 服务商（如 Infura, Alchemy）。
    

**智能合约 (Smart Contract)**

**1\. 概念理解**

-   **定义：** 运行在区块链上的“自动售货机”。代码即法律 (Code is Law)。
    
-   **本质：** 一旦部署，代码无法篡改（除非预留了升级接口），自动执行预设逻辑。
    
-   **部署：** 也是一笔交易，但接收地址为空，数据字段包含编译后的字节码。
    

**关键术语表：**

-   **Gas:** 网络燃料费。
    
-   **Tx Hash:** 交易哈希，交易的唯一身份证。
    
-   **Block Height:** 区块高度，相当于账本的页码。
    
-   **Validator:** 验证者，POS 机制下的“矿工”。
    
-   **Slashing:** 罚没，对作恶验证者的经济惩罚。
    
-   **Mempool:** 内存池，交易的候机厅。
    

# 安全与合规

养成"不点、不签、不装、不转"的好习惯

通过官方渠道下载App并交叉验证。

安装安全插件，警惕钓鱼链接。

签名时务必核对内容，拒绝盲签。

购买代币时核对合约地址，检查风险。

妥善保管私钥/助记词，冷热钱包分离。

# 项目合规风险

1.  项目是否面向大陆用户展业
    
2.  项目是否完善KYC，反洗钱等措施，是否有相关牌照
    
3.  项目劳动合同是否是签国内还是国外。国内公司的风险是国内公司做了一些违法事情可能会牵连到你，国外合同可能项目方跑路，会有工资纠纷
    
4.  最好不要碰交易相关的岗位
    
5.  别人可能向你的钱包转入黑产
    
6.  初次出金，发现是黑产，和帽子叔叔讲清楚问题不大
<!-- DAILY_CHECKIN_2026-01-15_END -->

# 2026-01-14
<!-- DAILY_CHECKIN_2026-01-14_START -->

# **U卡是什么？**

**U卡 = 加密资产账户 + 全球支付卡 + 钱包联动理财入口**

**出入金（最常用功能）**

-   支持从链上钱包充值 USDT 或 USDC；
    
-   支持快速提现到银行卡或其他支付通道；
    
-   出入金过程几乎实时，费用低于传统交易所通道。
    

# KYC是什么？

**KYC** 是 **“Know Your Customer”**（了解你的客户）的缩写，是全球金融机构和合规平台在提供服务前**验证用户身份**的标准流程。

KYC 的核心目的是：

-   **防止洗钱（AML）**
    
-   **打击恐怖融资**
    
-   **防范诈骗、身份盗用**
    
-   **满足政府监管要求**
    

一句话说就是进行实名认证信息

### **执行客户端（Execution Client）**

也称为**执行层客户端**（Execution Layer Client），负责处理以太坊的**交易执行**和**状态管理**。

**主要功能：**

-   执行智能合约和交易；
    
-   维护以太坊的世界状态（账户余额、合约代码、存储等）；
    
-   管理交易池（mempool）；
    
-   提供 JSON-RPC API 供用户或 DApp 与以太坊交互（如 `eth_sendTransaction`、`eth_call` 等）。
    

### **2\. 共识客户端（Consensus Client）**

也称为**共识层客户端**（Consensus Layer Client），负责处理以太坊的**PoS 共识机制**（权益证明）。

**主要功能：**

-   运行信标链（Beacon Chain）逻辑；
    
-   验证者（Validator）管理：包括质押、出块、投票（attestations）；
    
-   与其他共识客户端通信，达成区块最终性（finality）；
    
-   与执行客户端协作：共识客户端决定“哪个区块应该被添加”，执行客户端负责“这个区块里的交易如何执行”。
    

### 节点（node）：任何一台运行以太坊客户端软件并连接到其他节点的电脑，就是一个以太坊节点。

### 客户端（client）：是对以太坊协议的具体实现，会按协议规则验证数据、同步区块和状态，帮助网络保持安全。

# **客户端如何协同工作？**

自 2022 年 9 月以太坊完成\*\*合并（The Merge）\*\*后，每个完整节点必须同时运行：

-   一个**执行客户端**（处理交易）
    
-   一个**共识客户端**（处理 PoS 共识）
    

两者通过标准接口（如 **Engine API**）进行通信。例如：

-   共识客户端收到一个新区块提议 → 调用执行客户端执行其中的交易 → 验证状态根是否匹配 → 决定是否接受该区块
    

注意：如果你只是想使用以太坊（如连接 MetaMask），不需要自己运行客户端；但如果你想成为**验证者**或运行**完整节点**，就必须同时配置一对执行+共识客户端。
<!-- DAILY_CHECKIN_2026-01-14_END -->

# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->





## L1和L2的相关知识

### **L1（Layer 1）：以太坊主网**

-   **定义**：L1 指的是以太坊的**基础层区块链**，也就是我们常说的“以太坊主网”（Mainnet）。
    
-   **特点**：
    
    -   负责处理交易、执行智能合约、维护共识（目前是权益证明 PoS）。
        
    -   安全性最高，由全球数千个节点共同维护。
        
    -   但可扩展性有限，交易速度慢（约 15–30 TPS）、Gas 费用高（尤其在网络拥堵时）。
        

### **L2（Layer 2）：以太坊的扩容方案**

-   **定义**：L2 是构建在以太坊主网之上的**第二层扩展解决方案**，目的是提升交易吞吐量、降低费用，同时继承 L1 的安全性。
    
-   **核心思想**：将大量交易在 L2 上处理，然后将结果“汇总”或“证明”提交回 L1，从而减轻主网负担。
    
-   **主要类型**：
    
    1.  **Rollups（主流方案）**：
        
        -   **Optimistic Rollups**（如 Optimism、Arbitrum）：默认假设交易有效，设有 7 天挑战期供人质疑欺诈。
            
        -   **ZK-Rollups**（如 zkSync、StarkNet、Scroll）：使用零知识证明（ZK-SNARKs/STARKs）即时验证交易有效性，更快更安全。
            
    2.  **状态通道（State Channels）**：如 Raiden（较少使用）。
        
    3.  **Plasma**：早期方案，现已基本被 Rollups 取代。
        

# Rollups是什么意思

“Rollup” 字面意思是“卷起”或“汇总”。它就像把成百上千笔交易“卷”成一个批次（batch），只向以太坊主网提交这个批次的**压缩数据**和**有效性证明**，而不是每笔交易都单独上链，从而节省 L1 的宝贵空间。

### **Rollups 的核心原理**

1.  **交易在 L2 执行**：用户将交易发送到 Rollup 链（如 Arbitrum、zkSync），由 L2 的节点处理。
    
2.  **数据发布到 L1**：Rollup 定期将交易数据（或状态变更）**压缩后写入以太坊主网**（通常通过智能合约）。
    
3.  **安全性由 L1 保障**：因为关键数据已发布在 L1 上，即使 L2 出问题，用户也能从 L1 恢复资金（即“数据可用性”有保障）。
    
4.  **验证机制不同** → 分为两类：
    

| 类型 | 全称 | 验证方式 | 代表项目 | 特点 |
| --- | --- | --- | --- | --- |
| Optimistic Rollups | 乐观汇总 | 默认交易有效，设“挑战期”（通常7天）供人举报欺诈 | Arbitrum、Optimism | 兼容 EVM 好，开发简单；但提现慢（需等挑战期） |
| ZK-Rollups | 零知识汇总 | 每批交易附带数学证明（ZK-SNARKs/STARKs），即时验证有效性 | zkSync、StarkNet、Scroll、Polygon zkEVM | 提现快、更安全；但技术复杂，早期 EVM 兼容性较差（现在已大幅改善） |

### **为什么 L2 交易速度更快？**

**1\. 脱离 L1 的区块限制**

-   以太坊 L1 每 12 秒出一个区块，每个区块有 **Gas 上限**（约 3000 万 Gas），只能容纳有限交易。
    
-   L2 不受此限制：它有自己的“链下”执行环境（如 Rollup 的定序器 Sequencer），可以**几乎实时处理交易**（毫秒级确认），无需等待 L1 出块。
    

**2\. 批量处理（Batching）**

-   L2 将成百上千笔交易**打包成一批**，再统一提交到 L1。
    
-   用户在 L2 上的交易**立即被 L2 网络确认**（软确认），而不需要等这批数据最终写入 L1（硬确认）。
    
-   举例：你在 Arbitrum 上转账，几秒内就完成；而 L1 可能要等几十秒甚至几分钟。
    

### **为什么 L2 的 Gas 费用更低？**

**1\. 不直接支付 L1 的昂贵计算费**

-   在 L1 上，每一步计算（加法、存储、调用合约等）都要消耗 Gas，且价格由市场竞价决定（拥堵时 Gas 可达 $50+）。
    
-   在 L2 上，**计算和状态变更发生在链下**，只需支付极低的 L2 内部费用（由 L2 协议定价，通常固定且便宜）。
    

**2\. 数据压缩 + 批量提交**

-   L2 向 L1 提交的不是原始交易，而是**高度压缩的数据**（例如只记录“用户 A 给 B 转了 1 ETH”，而不记录整个交易结构）。
    
-   多笔交易合并成一笔“Blob”或“Calldata”写入 L1，**分摊了 L1 的发布成本**。
    
    -   例如：1000 笔 L2 交易可能只消耗 L1 上 1 笔交易的存储空间。
        
    -   成本从 “$20/笔” 降到 “$0.1/笔”。
        

**3\. L1 只负责“数据可用性”，不负责计算**

-   L2 的安全性依赖于：**所有交易数据都公开发布在 L1 上**，任何人都能验证或重建状态。
    
-   但 L1 **不需要执行这些交易**，所以省去了最贵的“计算 Gas”，只付相对便宜的“存储/数据 Gas”。
    

# **Blob 交易**

**Blob 交易（Blob Transaction）** 是以太坊在 **2024 年通过 EIP-4844（又称 Proto-Danksharding）升级** 引入的一种**专门为 Layer 2（L2）设计的新型交易类型**，核心目标是：**大幅降低 L2 向以太坊主网（L1）发布数据的成本**，从而让 L2 的 Gas 费用更低、更高效。

### **一句话理解 Blob 交易**

> Blob 交易是一种“**临时携带大块数据、但不永久存储在以太坊状态中**”的交易，专供 Rollup 等 L2 使用，用完即删（约 18 天后自动清除），因此成本极低。

### **为什么需要 Blob 交易？**

**L2 之前的数据发布方式太贵**

-   在 EIP-4844 之前，L2（如 Arbitrum、zkSync）必须把压缩后的交易数据作为 **Calldata（调用数据）** 写入 L1 交易。
    
-   Calldata 虽然不修改以太坊状态，但仍需**永久存储在区块链历史中**，Gas 成本高（占 L2 成本的 70%+）。
    

**解决方案：引入“临时数据容器”——Blob**

-   Blob（Binary Large Object）是一个**只用于短期存储、不进入以太坊状态树**的数据块。
    
-   它只在 **L1 上保留约 18 天**（足够任何人验证或重建 L2 状态），之后自动删除。
    
-   因为不需要永久存储，**Gas 成本比 Calldata 低 5–10 倍甚至更多**。
    

### **技术定位：Proto-Danksharding（“分片原型”）**

-   Blob 交易是 **完整 Danksharding 的简化版**（所以叫 “Proto”）。
    
-   完整分片未来会支持更多 Blob（如 64 个/区块），但 EIP-4844 先用 **1–6 个 Blob/区块** 起步，快速落地。
    
-   目标：让以太坊成为“**全球结算层 + 数据可用层**”，而 L2 负责执行。
    

# 目标：

## L1：结算层和数据可用性

## L2：执行层

### **什么是“数据可用性”（Data Availability, DA）？**

> **数据可用性 = 所有用户都能在需要时获取到交易的原始数据。**

在区块链中，**“数据可用”** 意味着：

-   任何人都可以下载并查看某笔交易或状态变更的**完整原始数据**；
    
-   即使你不信任某个节点或 Rollup 运营方，你也能**独立验证链的状态是否正确**；
    
-   如果数据不可用，你就无法判断链是否被恶意篡改（比如运营方偷偷转走你的钱但不公布记录）。
    

## **一、谁在 18 天内验证 L2 提交的数据？**

### **1\. Optimistic Rollup（如 Arbitrum、Optimism）：依赖“挑战者”（Challengers）**

-   **机制**：L2 提交的交易批次默认被接受，但设有 **7 天挑战期**（注意：不是 18 天，7 天是欺诈证明窗口；18 天是 Blob 数据保留期，两者不同）。
    
-   **谁验证？**
    
    -   **套利机器人**：运行开源验证软件，一旦发现欺诈（如错误的状态根），就提交欺诈证明，获得奖励（来自作恶者的质押金）。
        
    -   **L2 项目方或社区节点**：有强烈动机维护网络正确性。
        
    -   **MEV 搜索者**：顺便监控异常状态以获利。
        
-   **经济激励**：挑战成功 = 赚钱；作恶 = 被罚没质押金。市场会自发形成监督。
    

> 📌 注意：7 天挑战期 < 18 天 Blob 保留期 → **数据在挑战期内始终可用**，完全满足验证需求。

* * *

### **2\. ZK-Rollup（如 zkSync、StarkNet）：无需外部验证**

-   **机制**：每批交易附带一个 **零知识证明（ZK Proof）**，数学上证明“这批交易执行正确”。
    
-   **谁验证？**
    
    -   **以太坊 L1 的智能合约**：自动验证 ZK 证明（只需几万 Gas）。
        
    -   **任何全节点**：也可本地验证，但非必须。
        
-   **结果**：**无需等待、无需挑战者**，交易一经 L1 验证即最终确定。
    
-   **Blob 的作用**：仅用于提供“交易输入数据”，供任何人重建状态（比如你怀疑证明有问题，可以自己重放）。
<!-- DAILY_CHECKIN_2026-01-13_END -->

# 2026-01-12
<!-- DAILY_CHECKIN_2026-01-12_START -->







# 一.transfer测试币

## 1.领水地址：

[https://cloud.google.com/application/web3/faucet/ethereum/sepolia](https://cloud.google.com/application/web3/faucet/ethereum/sepolia) (可以直接领0.05)

[https://sepolia-faucet.pk910.de/#/](https://sepolia-faucet.pk910.de/#/) (可以自己挖)

## 2.在MetaMask APP中操作

在Meta Mask中在**主页->发送->点击SepoliaETH->输入金额0.1eth->继续->输入接收地址->点击确认**

## 3.在ethscan中查看转账信息

ethscan地址：[https://etherscan.io/](https://etherscan.io/)

在右上角点击以太坊图标，切换成Sepolia Testnent(或者直接访问[https://sepolia.etherscan.io/](https://sepolia.etherscan.io/))

搜索自己转账的地址，可以看到自己交易的具体信息（Transaction Hash，Status，Block等）

# 二.ETH学习

## 2.1区块链

区块链是一个网络中共享的公共数据库。数据被写入区块后便不能修改，每个区块记录了交易信息和上一个区块的哈希，保证了数据的不可篡改。若你修改了某一个区块的数据，需要修改后续所有区块的信息，并且要达到51%最低限度，才会被整个网络认可。

## 2.WEB3.0

web1.0 只读

web2.0 可读可写

web3.0 可读可写可拥有

web3.0用区块链技术实现去中心化，可以让用户拥有自己的数字资产，而不是掌握在平台手中，具有抗审查性。以此出现的去中心化自治组织DAO，让治理集中在每个社区的成员手中。

## 2.3以太坊

以太币（ETH）是以太坊的原生加密货币，使用ETH来支付连上操作产生的gas费用。目前的gas计算为：基础费（base fee）+小费(priority fee)。基础费由系统根据网络的拥堵情况，交互复杂程度等来决定，小费可以让验证者更倾向于打包你的交易。

gas计价单位为wei（纪念V神的贡献）是以太坊网络中的最小计价单位，**1 ETH = 10¹⁸ Wei**

## 2.4POS 权益证明

2022 年 9 月 15 日，**The Merge之后，**以太坊全面转入POS证明。

现在的以太坊实际上是两层结构：

-   **执行层**：处理交易、智能合约（原主网）
    
-   **共识层**：管理验证者、确定区块顺序（信标链）
    

整体的生态如下：、

### **1\. 应用层（Application Layer）**

用户直接交互的应用和界面：

-   **DeFi 应用**：Uniswap（去中心化交易所）、Aave（借贷协议）、Compound（借贷协议）
    
-   **NFT 平台**：OpenSea、Foundation、SuperRare
    
-   **钱包应用**：MetaMask、Coinbase Wallet、Rainbow
    
-   **DAO 工具**：Snapshot、Aragon、Colony
    

### **2\. 协议层（Protocol Layer）**

以太坊的核心基础设施：

-   **共识层客户端**：Prysm、Lighthouse、Nimbus、Teku
    
-   **执行层客户端**：Geth、Nethermind、Erigon、Besu
    
-   **核心协议**：EVM、状态管理、Gas 机制
    

### **3\. 扩展层（Scaling Layer）**

提升性能和降低成本的解决方案：

-   **Layer 2 Rollups**：Arbitrum、Optimism、Polygon zkEVM、zkSync Era
    
-   **侧链**：Polygon PoS、xDAI（Gnosis Chain）
    
-   **状态通道**：Lightning Network for Ethereum
    

## 2.5验证者，质押，联合质押

验证者存入 32 个以太币以激活验证者软件，运行将交易正确打包到新区块中并检查其他验证者工作的软件，以此来获得奖励，同时若是双重提议区块，double vote，surround vote等危害共识机制的行为会触发slashing惩罚，损失甚至是罚没质押的eth.

验证者的收益构成:

共识层奖励：

o 为链投票（attestation）、正确提议区块、参与同步委员会（sync committee）等都会获得奖励；

o 奖励以 ETH 形式在共识层记账。

• 执行层奖励：

o 包括用户支付的优先费（tip）、可能存在的 MEV 收入等；

o

直接打到你设置的执行层收益地址（fee recipient）。

• 额外激励（由协议或第三方提供）：

o 某些质押协议、LSD/LRT （流动性质押）协议会额外发代币或奖励；

o 某些场景下，对“举报 slashable 行为”的举报者（whistleblower）还会给额外 ETH 奖励。

### 联合质押：

质押池：激活一组验证者密钥需要 32 个以太币，而质押池这种协作方式使拥有少量以太币的人能够满足这一条件，相当于大家一起凑到目标金额来质押获得奖励，有些池甚至仅需0.01eth便能参与，一些资金池使用智能合约运行，资金会存入一个合约中，该合约以去信任的方式管理和跟踪你的质押，并向你发放代表该价值的代币。 其他资金池不涉及智能合约，而是在链下促成。

风险：将所有节点操作委托给第三方可能会带来额外的风险和费用
<!-- DAILY_CHECKIN_2026-01-12_END -->
<!-- Content_END -->
