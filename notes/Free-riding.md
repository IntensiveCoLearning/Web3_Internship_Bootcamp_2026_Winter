---
timezone: UTC+8
---

# Free-riding

**GitHub ID:** Free-riding

**Telegram:** @have_try

## Self-introduction

Web3 实习计划 2025 冬季实习生

## Notes

<!-- Content_START -->
# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->
## L1和L2的相关知识

### **L1（Layer 1）：以太坊主网**

-   **定义**：L1 指的是以太坊的**基础层区块链**，也就是我们常说的“以太坊主网”（Mainnet）。
    
-   **特点**：
    
    -   负责处理交易、执行智能合约、维护共识（目前是权益证明 PoS）。
        
    -   安全性最高，由全球数千个节点共同维护。
        
    -   但可扩展性有限，交易速度慢（约 15–30 TPS）、Gas 费用高（尤其在网络拥堵时）。
        

### **L2（Layer 2）：以太坊的扩容方案**

-   **定义**：L2 是构建在以太坊主网之上的**第二层扩展解决方案**，目的是提升交易吞吐量、降低费用，同时继承 L1 的安全性。
    
-   **核心思想**：将大量交易在 L2 上处理，然后将结果“汇总”或“证明”提交回 L1，从而减轻主网负担。
    
-   **主要类型**：
    
    1.  **Rollups（主流方案）**：
        
        -   **Optimistic Rollups**（如 Optimism、Arbitrum）：默认假设交易有效，设有 7 天挑战期供人质疑欺诈。
            
        -   **ZK-Rollups**（如 zkSync、StarkNet、Scroll）：使用零知识证明（ZK-SNARKs/STARKs）即时验证交易有效性，更快更安全。
            
    2.  **状态通道（State Channels）**：如 Raiden（较少使用）。
        
    3.  **Plasma**：早期方案，现已基本被 Rollups 取代。
        

# Rollups是什么意思

“Rollup” 字面意思是“卷起”或“汇总”。它就像把成百上千笔交易“卷”成一个批次（batch），只向以太坊主网提交这个批次的**压缩数据**和**有效性证明**，而不是每笔交易都单独上链，从而节省 L1 的宝贵空间。

### **Rollups 的核心原理**

1.  **交易在 L2 执行**：用户将交易发送到 Rollup 链（如 Arbitrum、zkSync），由 L2 的节点处理。
    
2.  **数据发布到 L1**：Rollup 定期将交易数据（或状态变更）**压缩后写入以太坊主网**（通常通过智能合约）。
    
3.  **安全性由 L1 保障**：因为关键数据已发布在 L1 上，即使 L2 出问题，用户也能从 L1 恢复资金（即“数据可用性”有保障）。
    
4.  **验证机制不同** → 分为两类：
    

| 类型 | 全称 | 验证方式 | 代表项目 | 特点 |
| --- | --- | --- | --- | --- |
| Optimistic Rollups | 乐观汇总 | 默认交易有效，设“挑战期”（通常7天）供人举报欺诈 | Arbitrum、Optimism | 兼容 EVM 好，开发简单；但提现慢（需等挑战期） |
| ZK-Rollups | 零知识汇总 | 每批交易附带数学证明（ZK-SNARKs/STARKs），即时验证有效性 | zkSync、StarkNet、Scroll、Polygon zkEVM | 提现快、更安全；但技术复杂，早期 EVM 兼容性较差（现在已大幅改善） |

### **为什么 L2 交易速度更快？**

**1\. 脱离 L1 的区块限制**

-   以太坊 L1 每 12 秒出一个区块，每个区块有 **Gas 上限**（约 3000 万 Gas），只能容纳有限交易。
    
-   L2 不受此限制：它有自己的“链下”执行环境（如 Rollup 的定序器 Sequencer），可以**几乎实时处理交易**（毫秒级确认），无需等待 L1 出块。
    

**2\. 批量处理（Batching）**

-   L2 将成百上千笔交易**打包成一批**，再统一提交到 L1。
    
-   用户在 L2 上的交易**立即被 L2 网络确认**（软确认），而不需要等这批数据最终写入 L1（硬确认）。
    
-   举例：你在 Arbitrum 上转账，几秒内就完成；而 L1 可能要等几十秒甚至几分钟。
    

### **为什么 L2 的 Gas 费用更低？**

**1\. 不直接支付 L1 的昂贵计算费**

-   在 L1 上，每一步计算（加法、存储、调用合约等）都要消耗 Gas，且价格由市场竞价决定（拥堵时 Gas 可达 $50+）。
    
-   在 L2 上，**计算和状态变更发生在链下**，只需支付极低的 L2 内部费用（由 L2 协议定价，通常固定且便宜）。
    

**2\. 数据压缩 + 批量提交**

-   L2 向 L1 提交的不是原始交易，而是**高度压缩的数据**（例如只记录“用户 A 给 B 转了 1 ETH”，而不记录整个交易结构）。
    
-   多笔交易合并成一笔“Blob”或“Calldata”写入 L1，**分摊了 L1 的发布成本**。
    
    -   例如：1000 笔 L2 交易可能只消耗 L1 上 1 笔交易的存储空间。
        
    -   成本从 “$20/笔” 降到 “$0.1/笔”。
        

**3\. L1 只负责“数据可用性”，不负责计算**

-   L2 的安全性依赖于：**所有交易数据都公开发布在 L1 上**，任何人都能验证或重建状态。
    
-   但 L1 **不需要执行这些交易**，所以省去了最贵的“计算 Gas”，只付相对便宜的“存储/数据 Gas”。
    

# **Blob 交易**

**Blob 交易（Blob Transaction）** 是以太坊在 **2024 年通过 EIP-4844（又称 Proto-Danksharding）升级** 引入的一种**专门为 Layer 2（L2）设计的新型交易类型**，核心目标是：**大幅降低 L2 向以太坊主网（L1）发布数据的成本**，从而让 L2 的 Gas 费用更低、更高效。

### **一句话理解 Blob 交易**

> Blob 交易是一种“**临时携带大块数据、但不永久存储在以太坊状态中**”的交易，专供 Rollup 等 L2 使用，用完即删（约 18 天后自动清除），因此成本极低。

### **为什么需要 Blob 交易？**

**L2 之前的数据发布方式太贵**

-   在 EIP-4844 之前，L2（如 Arbitrum、zkSync）必须把压缩后的交易数据作为 **Calldata（调用数据）** 写入 L1 交易。
    
-   Calldata 虽然不修改以太坊状态，但仍需**永久存储在区块链历史中**，Gas 成本高（占 L2 成本的 70%+）。
    

**解决方案：引入“临时数据容器”——Blob**

-   Blob（Binary Large Object）是一个**只用于短期存储、不进入以太坊状态树**的数据块。
    
-   它只在 **L1 上保留约 18 天**（足够任何人验证或重建 L2 状态），之后自动删除。
    
-   因为不需要永久存储，**Gas 成本比 Calldata 低 5–10 倍甚至更多**。
    

### **技术定位：Proto-Danksharding（“分片原型”）**

-   Blob 交易是 **完整 Danksharding 的简化版**（所以叫 “Proto”）。
    
-   完整分片未来会支持更多 Blob（如 64 个/区块），但 EIP-4844 先用 **1–6 个 Blob/区块** 起步，快速落地。
    
-   目标：让以太坊成为“**全球结算层 + 数据可用层**”，而 L2 负责执行。
    

# 目标：

## L1：结算层和数据可用性

## L2：执行层

### **什么是“数据可用性”（Data Availability, DA）？**

> **数据可用性 = 所有用户都能在需要时获取到交易的原始数据。**

在区块链中，**“数据可用”** 意味着：

-   任何人都可以下载并查看某笔交易或状态变更的**完整原始数据**；
    
-   即使你不信任某个节点或 Rollup 运营方，你也能**独立验证链的状态是否正确**；
    
-   如果数据不可用，你就无法判断链是否被恶意篡改（比如运营方偷偷转走你的钱但不公布记录）。
    

## **一、谁在 18 天内验证 L2 提交的数据？**

### **1\. Optimistic Rollup（如 Arbitrum、Optimism）：依赖“挑战者”（Challengers）**

-   **机制**：L2 提交的交易批次默认被接受，但设有 **7 天挑战期**（注意：不是 18 天，7 天是欺诈证明窗口；18 天是 Blob 数据保留期，两者不同）。
    
-   **谁验证？**
    
    -   **套利机器人**：运行开源验证软件，一旦发现欺诈（如错误的状态根），就提交欺诈证明，获得奖励（来自作恶者的质押金）。
        
    -   **L2 项目方或社区节点**：有强烈动机维护网络正确性。
        
    -   **MEV 搜索者**：顺便监控异常状态以获利。
        
-   **经济激励**：挑战成功 = 赚钱；作恶 = 被罚没质押金。市场会自发形成监督。
    

> 📌 注意：7 天挑战期 < 18 天 Blob 保留期 → **数据在挑战期内始终可用**，完全满足验证需求。

* * *

### **2\. ZK-Rollup（如 zkSync、StarkNet）：无需外部验证**

-   **机制**：每批交易附带一个 **零知识证明（ZK Proof）**，数学上证明“这批交易执行正确”。
    
-   **谁验证？**
    
    -   **以太坊 L1 的智能合约**：自动验证 ZK 证明（只需几万 Gas）。
        
    -   **任何全节点**：也可本地验证，但非必须。
        
-   **结果**：**无需等待、无需挑战者**，交易一经 L1 验证即最终确定。
    
-   **Blob 的作用**：仅用于提供“交易输入数据”，供任何人重建状态（比如你怀疑证明有问题，可以自己重放）。
<!-- DAILY_CHECKIN_2026-01-13_END -->

# 2026-01-12
<!-- DAILY_CHECKIN_2026-01-12_START -->


# 一.transfer测试币

## 1.领水地址：

[https://cloud.google.com/application/web3/faucet/ethereum/sepolia](https://cloud.google.com/application/web3/faucet/ethereum/sepolia) (可以直接领0.05)

[https://sepolia-faucet.pk910.de/#/](https://sepolia-faucet.pk910.de/#/) (可以自己挖)

## 2.在MetaMask APP中操作

在Meta Mask中在**主页->发送->点击SepoliaETH->输入金额0.1eth->继续->输入接收地址->点击确认**

## 3.在ethscan中查看转账信息

ethscan地址：[https://etherscan.io/](https://etherscan.io/)

在右上角点击以太坊图标，切换成Sepolia Testnent(或者直接访问[https://sepolia.etherscan.io/](https://sepolia.etherscan.io/))

搜索自己转账的地址，可以看到自己交易的具体信息（Transaction Hash，Status，Block等）

# 二.ETH学习

## 2.1区块链

区块链是一个网络中共享的公共数据库。数据被写入区块后便不能修改，每个区块记录了交易信息和上一个区块的哈希，保证了数据的不可篡改。若你修改了某一个区块的数据，需要修改后续所有区块的信息，并且要达到51%最低限度，才会被整个网络认可。

## 2.WEB3.0

web1.0 只读

web2.0 可读可写

web3.0 可读可写可拥有

web3.0用区块链技术实现去中心化，可以让用户拥有自己的数字资产，而不是掌握在平台手中，具有抗审查性。以此出现的去中心化自治组织DAO，让治理集中在每个社区的成员手中。

## 2.3以太坊

以太币（ETH）是以太坊的原生加密货币，使用ETH来支付连上操作产生的gas费用。目前的gas计算为：基础费（base fee）+小费(priority fee)。基础费由系统根据网络的拥堵情况，交互复杂程度等来决定，小费可以让验证者更倾向于打包你的交易。

gas计价单位为wei（纪念V神的贡献）是以太坊网络中的最小计价单位，**1 ETH = 10¹⁸ Wei**

## 2.4POS 权益证明

2022 年 9 月 15 日，**The Merge之后，**以太坊全面转入POS证明。

现在的以太坊实际上是两层结构：

-   **执行层**：处理交易、智能合约（原主网）
    
-   **共识层**：管理验证者、确定区块顺序（信标链）
    

整体的生态如下：、

### **1\. 应用层（Application Layer）**

用户直接交互的应用和界面：

-   **DeFi 应用**：Uniswap（去中心化交易所）、Aave（借贷协议）、Compound（借贷协议）
    
-   **NFT 平台**：OpenSea、Foundation、SuperRare
    
-   **钱包应用**：MetaMask、Coinbase Wallet、Rainbow
    
-   **DAO 工具**：Snapshot、Aragon、Colony
    

### **2\. 协议层（Protocol Layer）**

以太坊的核心基础设施：

-   **共识层客户端**：Prysm、Lighthouse、Nimbus、Teku
    
-   **执行层客户端**：Geth、Nethermind、Erigon、Besu
    
-   **核心协议**：EVM、状态管理、Gas 机制
    

### **3\. 扩展层（Scaling Layer）**

提升性能和降低成本的解决方案：

-   **Layer 2 Rollups**：Arbitrum、Optimism、Polygon zkEVM、zkSync Era
    
-   **侧链**：Polygon PoS、xDAI（Gnosis Chain）
    
-   **状态通道**：Lightning Network for Ethereum
    

## 2.5验证者，质押，联合质押

验证者存入 32 个以太币以激活验证者软件，运行将交易正确打包到新区块中并检查其他验证者工作的软件，以此来获得奖励，同时若是双重提议区块，double vote，surround vote等危害共识机制的行为会触发slashing惩罚，损失甚至是罚没质押的eth.

验证者的收益构成:

共识层奖励：

o 为链投票（attestation）、正确提议区块、参与同步委员会（sync committee）等都会获得奖励；

o 奖励以 ETH 形式在共识层记账。

• 执行层奖励：

o 包括用户支付的优先费（tip）、可能存在的 MEV 收入等；

o

直接打到你设置的执行层收益地址（fee recipient）。

• 额外激励（由协议或第三方提供）：

o 某些质押协议、LSD/LRT （流动性质押）协议会额外发代币或奖励；

o 某些场景下，对“举报 slashable 行为”的举报者（whistleblower）还会给额外 ETH 奖励。

### 联合质押：

质押池：激活一组验证者密钥需要 32 个以太币，而质押池这种协作方式使拥有少量以太币的人能够满足这一条件，相当于大家一起凑到目标金额来质押获得奖励，有些池甚至仅需0.01eth便能参与，一些资金池使用智能合约运行，资金会存入一个合约中，该合约以去信任的方式管理和跟踪你的质押，并向你发放代表该价值的代币。 其他资金池不涉及智能合约，而是在链下促成。

风险：将所有节点操作委托给第三方可能会带来额外的风险和费用
<!-- DAILY_CHECKIN_2026-01-12_END -->
<!-- Content_END -->
