---
timezone: UTC+8
---

# AN_SU

**GitHub ID:** SU-AN-coder

**Telegram:** @AN_SU

## Self-introduction

Web3 实习计划 2025 冬季实习生

## Notes

<!-- Content_START -->
# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->
# 以太坊节点

# 一、节点与客户端架构

## 1 以太坊节点

运行以太坊客户端软件并接入网络的计算机，核心功能：验证数据、同步区块/状态，保障网络安全

## 2 合并后双客户端架构

完整节点 = 执行客户端（EL）+ 共识客户端（CL）；验证节点需额外添加验证者客户端（共识客户端插件）

-   执行客户端（EL）：负责业务逻辑与状态（交易处理、EVM执行、状态数据库维护、JSON-RPC接口）
    
-   共识客户端（CL）：负责PoS共识（信标链维护、区块提议/投票、验证者管理、链头选择）
    
-   Engine API：EL与CL的内部通信接口（JSON-RPC），核心作用：传递区块骨架与执行结果，保障两客户端协同
    

# 二、节点通信机制

## 1 节点发现（UDP + Kademlia）

新节点通过引导节点（长期在线全节点）接入，基于discv4/discv5协议（Ping/Pong确认在线，FindNode/Neighbors获取邻居列表），构建分布式哈希表（DHT）完成节点发现

## 2 安全连接（TCP + RLPx devp2p）

UDP用于发现，TCP建立可靠传输通道；RLPx协议实现加密会话与多协议复用（同步区块、传播交易等子协议共享通道）

## 3 数据传播（Gossip + 请求-响应）

-   Gossip协议：新交易/区块随机转发给少数邻居，层层扩散，实现秒级全网同步，适用于最新消息传播
    
-   请求 响应：按需拉取历史区块/状态数据，适用于同步离线期间的历史数据
    

# 三、节点的类型

| 类型 | 核心存储 | 资源消耗 | 核心用途 |
| --- | --- | --- | --- |
| 全节点 | 全部区块+最近~128块完整状态（老状态修剪） | 中等（数百GB级磁盘） | 自主验证交易 区块、提供RPC接口、自托管接入入口 |
| 归档节点 | 全节点数据+创世以来所有历史状态快照 | 极高（TB级，Erigon~2-3TB，Geth~12TB+） | 区块浏览器、链上分析、历史调试、合规审计 |
| 轻节点 | 仅区块头，按需请求数据 | 极低（几十MB~数百MB） | 资源受限设备手机、轻量验证 |

# 四、核心机制：同步、配合与数据交换

## 1 节点同步模式

-   Snap Sync（默认推荐）：先下区块头，再拉最新状态快照，数小时~1天完成，适用于开发/日常使用
    
-   Full Sync：从创世块逐笔执行交易重建状态，最安全但极慢（数天~数周），适用于审计/研究
    
-   Light Sync：仅同步区块头，依赖全节点获取详情，适用于轻量场景
    

## 2 EL与CL配合流程

-   出块场景：CL选中提议者→通过Engine API告知EL出块参数→EL生成执行负载→CL封装为信标区块广播
    
-   验证场景：CL接收新信标块→提取执行负载给EL复验→EL返回验证结果→CL决定是否投票认可
    

## 3 节点核心交换数据

交易/交易收据、区块头/区块体、状态树数据（账户/合约信息）、P2P管理数据（Ping/Pong等）、共识消息

# 五、运行节点的意义及对去中心化的保障

## 1 运行全节点的价值

-   隐私保护：避免地址/IP等元数据泄露给第三方RPC服务商
    
-   抗审查：自主广播交易，不依赖第三方服务，规避限流宕机风险
    
-   安全验证：本地完整验证数据，践行“不要信任，要验证”的哲学
    
-   网络贡献：增强去中心化与客户端多样性，提升网络弹性
    

## 2 去中心化保障机制

-   客户端多样性：无单一客户端占比超50%，降低软件层风险
    
-   地理分散：节点遍布全球，规避单一地区监管/断网风险
    
-   基础设施混合：自建节点与多云托管并存，降低云厂商依赖（AWS占比 20%）
    
-   验证者分散：近100万活跃验证者，通过PoS经济机制（slashing等）鼓励独立参与
    

# 六、Gossip协议用途

去中心化广播系统，核心功能：节点仅向少数邻居转发新消息，通过层层扩散实现秒级全网同步，保障高可用、容错性与可扩展性，支撑交易传播

# 七、如何节点搭建和数据分析

## 1 个人节点搭建核心步骤

1.  选型：全节点（开发） 归档节点（分析），本地机/云服务器
    
2.  安装：部署EL（Geth/Nethermind）+ CL（Lighthouse/Prysm），配置Engine API通信
    
3.  同步：EL用Snap Sync，CL用checkpoint sync（数小时完成）
    
4.  启用RPC：配置HTTP/WS接口，用于dApp开发/调试（注意鉴权与IP限制）
    

## 2 无节点数据分析方案

-   公共分析平台：Dune Flipside（零运维，直接用SQL查询预解析数据）
    
-   BigQuery公共数据集：企业级数仓，支持与业务数据联表分析
    
-   区块浏览器API：Etherscan等，适合轻量脚本/监控任务
    
-   混合方案：历史数据用BigQuery Dune，实时数据用托管RPC
    

ps:以太坊节点是网络的核心载体，合并后通过EL（算交易/管状态）与CL（跑共识/选区块）的协同实现功能.节点类型按存储与用途分层，全节点保障自主接入，归档节点支撑历史分析.运行节点是保障隐私、安全与抗审查的关键，而去中心化通过客户端/地理/基础设施/验证者的多维度分散实现.实践中可根据需求选择自建节点或利用公共数据服务完成开发与分析
<!-- DAILY_CHECKIN_2026-01-13_END -->

# 2026-01-12
<!-- DAILY_CHECKIN_2026-01-12_START -->

# 一、区块链基础

## 1\. 定义

-   去中心化分布式账本技术：通过时间哈希串联的区块记录交易数据，含前一区块哈希，确保安全可靠、不可篡改、可追溯
    

## 2\. 特性

-   不可篡改：区块串联结构，修改需改动后续所有区块，分布式网络下难以实现
    
-   公开透明和半匿名：链上信息可追溯，钱包地址与真实身份无关
    
-   快速交易：链上打包完成即确认，优于传统跨境支付
    
-   去中心化：全球节点分布式存储，无中心化单个控制方，数据永久存在链上
    

## 3\. 组成

-   去中心化网络：节点（矿机）分布式记账，各节点存储完整相同账本
    
-   代币激励：节点通过验证交易获代币奖励（如比特币），用户使用网络需支付Gas费（矿工手续费）
    
-   运行流程：用户发起交易→广播全网→节点验证→共识机制打包成→上链更新→矿工获奖励
    

## 4\. 三大类区块链

| 类型 | 节点加入 | 数据可见性 | 管理模式 | 适用场景 |
| --- | --- | --- | --- | --- |
| 公链 | 自由加入 | 全网可见 | 去中心化投票 | 加密货币、公共存证 |
| 联盟链 | 联盟邀请审批 | 仅联盟成员可见 | 多中心联合决策 | 供应链、金融协作 |
| 私链 | 严格审批 | 仅内部可见 | 中心化管控 | 企业内部管理、审计 |

## 5\. Web2、Web3、Web3.0 的差异

| 维度 | Web2（当前互联网） | Web3.0（语义网） | Web3（去中心化互联网） |
| --- | --- | --- | --- |
| 控制权 | 平台垄断 | 部分开放 | 用户自治 |
| 数据存储 | 中心服务器 | 混合存储 | 区块链/IPFS |
| 核心特征 | 用户产内容不拥数据，广告驱动 | 语义标记，结构化数据，机器理解 | 数据主权归用户，智能合约自动执行 |
| 典型应用 | 微信、抖音、亚马逊 | W3C、DBpedia | MetaMask、Uniswap、ENS |

ps：Web3 ！= Web3.0，前者是区块链驱动的去中心化互联网，后者是语义网技术驱动的数据组织升级

# 二、以太坊基础

## 1\. 定位与核心创新

区块链2.0的代表，开源去中心化计算平台（“全球共享计算机”），核心创新是智能合约（链上可执行代码，满足条件自动执行），支持DeFi、NFT、DAO等应用的执行（代币为ETH）

## 2\. 与比特币的差别

|   | 比特币 | 以太坊 |
| --- | --- | --- |
| 目标 | 数字黄金 | 去中心化平台，支持智能合约与Dapps |
| 共识机制 | PoW | 2022年Merge后转为PoS |
| 编程能力 | 脚本语言有限，仅简单交易验证 | 图灵完备（Solidity），支持开发复杂合约 |
| 出块速度 | 10分钟/块 | 12秒/Slot，确认更快 |
| 经济模型 | 总量固定2100万，抗通胀 | 供应灵活，EIP-1559下可通缩 |

## 3\. 关键历史升级

-   以太坊1.0（PoW）：能耗高、扩展性差
    
-   The Merge（2022.9）：主网与信标链合并，转为PoW，能耗降99.95%，架构分为执行层+共识层
    
-   EIP-4844（2024.3）：引入Blob交易，降低L2数据存储成本，L2费用降70%-90%
    
-   未来方向：数据分片（2025-2026）+Layer2 Rollup，主网做结算验证层，L2来处理大量交易
    

## 4\. 机制

-   账户系统：EOA（外部账户，私钥控制，可主动交易）+CA（合约账户，代码控制，被动触发）
    
-   Gas模型：交易燃料费=Gas Limit × Gas Price，EIP-1559协议后分为基础费用（销毁）+小费（激励验证者）
    
-   EVM（以太坊虚拟机）：图灵完备，全球节点同步执行合约，共同账本保证安全
    

## 5\. 生态架构

-   应用层：DeFi（Uniswap、Aave）、NFT（OpenSea）、钱包（MetaMask）、DAO工具（Snapshot）
    
-   协议层：共识层、执行层客户端、EVM、Gas机制
    
-   扩展层：L2 Rollup（Arbitrum/zkSync）、侧链（Polygon PoS）
    

# 三、行业赛道

## 1\. DeFi

核心：无需中介的金融服务，基于智能合约运行

-   Uniswap（DEX）：AMM自动做市商模式，_X x Y=K_ 恒定乘积公式定价，将用户存币成为LP赚手续费
    
-   Compound（借贷）：用户存币获cToken赚利息，借币需超额抵押，波动触发清算
    
-   Sky（原MakerDAO）：超额抵押生成稳定币（USDS），通过稳定费率调节供需关系
    

## 2\. NFT

核心：区块链实现数字资产唯一性与可验证所有权，智能合约支持自动版税与归属权分配

-   CryptoPunks：NFT先驱，10000个唯一像素头像，奠定NFT收藏文化
    
-   OpenSea：全球最大NFT交易平台，支持NFT的买卖与创建
    

## 3\. DAO

核心：智能合约+社区投票治理，无中心化管理层，决策公开透明

-   ETHPanda：聚合以太坊华语建设者，致力于生态教育与公共物品开发，搭建连接华语社区与全球以太坊生态的桥梁。
    
-   LXDAO：支持Web3公共物品建设，任务制激励贡献者
    
-   ConstitutionDAO：众筹竞拍美国宪法原稿，展现DAO集体行动潜力
    

## 4\. MEME

核心：基于网络文化的代币，价值依赖社区共识，投机性强、波动大，如DOGE、PEPE币

风险：缺乏实际价值，多为名人效应炒作和代币集中操控（如马斯克，trump），缺乏明确的技术价值，但通过社区共识和文化认同获得价值

## 5\. 交叉创新赛道

-   DeFi+NFT：NFT抵押借贷（BendDAO）、NFT AMM交易（Sudoswap）
    
-   DAO+MEME：FriendTech Key机制（社交影响力金融化）、ShibaSwap社区治理
    
-   AI+DeFi：Yearn Finance AI优化收益策略，Gauntlet AI风险管理
    
-   Web3+乡建：南塘DAO发行NT代币量化贡献，探索乡村社区货币与PGS的区块链认证
<!-- DAILY_CHECKIN_2026-01-12_END -->
<!-- Content_END -->
