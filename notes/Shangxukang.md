---
timezone: UTC+8
---

# Isaac

**GitHub ID:** Shangxukang

**Telegram:** 

## Self-introduction

Web3 实习计划 2025 冬季实习生

## Notes

<!-- Content_START -->
# 2026-01-25
<!-- DAILY_CHECKIN_2026-01-25_START -->
\# Uniswap笔记

\## V2

!\[\[截屏2026-01-25 11.17.23.png|600\]\]

越深的池子，把价格推高需要的交易量越大。

!\[\[截屏2026-01-25 11.20.41.png|600\]\]

严格地来说，滑点和price impact不是一回事。price impact是自己交易带来的影响，是可预期的。

**divergence loss**

!\[\[截屏2026-01-25 15.46.57.png|600\]\]

是挺大的一个问题，有很多方案试图解释，但发现基本无法避免。有集中流动性后更严重。现在的办法是提高付给LP的手续费。

用divergence的原因是：它不是“必然亏损”，而是“相对于某个参考路径的偏离（divergence）”。参考路径是：不做LP，只持有资产。

**TWAP Oracle，时间加权平均价格预言机**

!\[\[截屏2026-01-25 15.50.03.png|500\]\]

一个block是瞬时完成的，因此上图就是90度波动，即使block内部有上下颠簸。

每一个价格，以它持续的时间为权重

\## V3

2021年上线，至今仍是TVL最高的DEX协议。CLMM，集中流动性做市商

两种刻画流动性方式：

!\[\[截屏2026-01-25 15.59.38.png|500\]\]

只集中在一个小价格区间后，k就会很高

!\[\[截屏2026-01-25 16.01.38.png|500\]\]

!\[\[截屏2026-01-25 16.03.10.png|500\]\]

许多人叠加起来，就形成了这样。因此，swap时面对的流动性就会忽高忽低。

两种表达流动性的方式。红线是真实存在的流动性。

!\[\[截屏2026-01-25 16.06.22.png\]\]

现在，k会忽高忽低。想要计算？

$L=\\sqrt{ k }=\\sqrt{ xy }$，$\\sqrt{ p }=\\sqrt{ \\frac{y}{x} }$.通过这样的表示，就有$\\Delta y=\\Delta \\sqrt{ p }L$,$\\Delta x=\\Delta \\frac{L}{\\sqrt{ p }}$。

因此在每个区间，就知道这个区间能承受多少x和y的变化。通过不断轮询

!\[\[截屏2026-01-25 16.14.56.png|500\]\]

!\[\[截屏2026-01-25 16.16.30.png|500\]\]

每次轮询是需要gas的。现在规定只有在这些价格点上才能提供流动性。否则那么多小数位数。tick是万分之一的变化。

但是还是位数很多。用tick bitmap和tick struct记录哪些tick有变化，读一个大uint，根据每个位数上的情况就知道流动性变化点位。

但不是所有的池子都适合万分之一。又规定每x个tick才能改变流动性，叫tick spacing;tick spacing小的池子手续费越低，因为交易额越高。

用户面对的是聚合的一体的流动性，但付的手续费应该分给不同的LP。方法：所有手续费都加到feeGrowthGlobal，tick有feeGrowthOutside。

提供流动性时，需要指定tickLower和tickUpper。

\## V4

加了新功能，但核心机制还是原先的。

\- Uniswap资源

\- Uniswap Hooks Incubator：教怎么在v4上做开发，8周纯线上（课程+黑客松）

\- Audit Subsidies：很多项目的机制是写好合约后请审计公司来审计，但一般都很贵，五位数美元级别的。Uniswap最高能给到全额审计补贴

\- 黑客松

\- Infinite Hackathon：任何黑客松上做的和Uniswap相关的，都可以拿过来参加评奖

\- **TLDR，DeFi Education Fund:DeFi论文赞助，研究向的。The Latest in DeFi Research**
<!-- DAILY_CHECKIN_2026-01-25_END -->

# 2026-01-24
<!-- DAILY_CHECKIN_2026-01-24_START -->

南塘DAO

安徽省阜阳市颍州区三合镇南塘村

\- 2004年，南塘村在维权行动中建立组织“南塘兴农合作社”。2008年，议事规则“南塘十三条”出世。南塘吸引了许多知识分子，这些知识分子有人接触Web3概念。新冠后，南塘合作社陷入债务泥潭，同时国内DAO社区SeeDAO发展。牵线搭桥之下，Web3和南塘结合。许多Web3从业者来到南塘，建立“南塘DAO”，和当地村民组成的合作社并存、合作。一句话，DAO组织进入乡村。

\- 南塘DAO被视为“凝聚理想”的组织，但逐渐矛盾增多，部分元老退出而成立“南塘不知DAO”。其“虽以反讽和批判的姿态成立，却客观上为在地成员提供了介于合作社与南塘DAO之间的第三种选择。”

\- **南塘DAO对自身的定位是乡村服务组织，旨在通过民主治理和经济支持助力乡村建设。** 具体来说，是通过Web3技术，构建新型民主决策流程，实现金库资金的民主管理和分配。如：南塘豆（像公社积分）、网页钱包、提案投票平台、任务发放平台，不过现在服务器是中心化的。

\- 南塘豆：2024年上线于OP，用于记录贡献和充当投票凭证，2025年开始尝试扮演交易中介。

\- DAO组织在大陆处于模糊地带，政府没有禁止，但密切关注其影响力。DAO与乡村的结合在其他国家也有，如日本。

\- 南塘DAO由资助人刘兵为主要资金来源，刘兵也因此有特殊影响力。
<!-- DAILY_CHECKIN_2026-01-24_END -->

# 2026-01-23
<!-- DAILY_CHECKIN_2026-01-23_START -->


做市

\- 定义：\*\*做市商Market Maker\*\*指在市场上不断地报出某特定证券的买卖价格，并以其自有资金在该价位上接受买卖要求的主体。做市商从买卖价差（bid-ask spread）中盈利。

\- 作用：在任意时间点，给市场一个可成交的价格，从而支持大规模、连续、高频的交易。如果没有做市，交易只能等待对手、碰巧撮合。

\## Sandwich attacks

\- DEX系统中的特有问题。

\- 流程

\- A观察到B的swap进入mempool后，立即发送一个大额swap，在CPMM模式下就能显著推高价格。

\- B的swap以被推高的价格成交。

\- A再下一个反向大swap，把front-run中拿到的资产变现成确定利润，客观上将价格恢复，这叫back-run。

\- Front-run只是占位，Back-run才是收割。如果我不砸，别人会砸，我只能低位出；如果我自己砸，我至少是在一个对我最有利、我能控制的价位出；虽然理论上价格可能继续涨，但那已经是\*\*方向性博弈\*\*，不是MEV了。

\- sandwich的利润窗口是block-level的。不back-run，就是把平仓权交给别人。还要注意你front-run后，池子处在一个\*\*被你人为抬高、极度不稳定\*\*的状态，大概率是要回落。

\- A的利润几乎完全来于B的损失。
<!-- DAILY_CHECKIN_2026-01-23_END -->

# 2026-01-22
<!-- DAILY_CHECKIN_2026-01-22_START -->



智能合约是在什么环境下运行的？

EVM有四个执行区

\- Stack：计算所在地

\- Storage：链上存储、永久存储的地方。Gas开销来源于此，要少调用

\- Memory：运行时的临时内存

\- codate：只读参数的临时存储

\## 环境

\- 在remix中开发

\- 智能合约的运行比一般代码的运行要复杂。

\- Compile。注意选择的compiler的版本号，要和.sol文件中头`pragma solidity ...`适配。

\- Deploy。选择一个compiled contract来deploy。注意environment等各种参数。

\- 环境：Remix VM，沙盒。Injected Provider - xxxx，注入的web3实例，如Metamask。XXX Provider，远程的节点，如Ganache Provider

\- 调用合约。对deployed contract进行contract中定义好的那些操作，这便是调用合约了。

\- Debugger

\## 语言

\- 整体结构

\- **版本声明**：一`.sol`文件开头`pragma solidity xxx`，声明编译器版本号。声明版本时有讲究`^0.5`是说0.5到0.6之间。

\- 引入：每种类型的有自己的一套成品包

\- 合约结构

\- 类`class`，用一`contract name{..}`包裹起来。内部可以声明变量、函数。

\- 合约继承`contract 子合约 is 父合约 {..}`，则自合约拥有父合约的变量、函数等。deploy子合约时，链上也只有一个子合约，父合约的代码会被复制进子合约里。

\- 事件event：是合约的返回值，相当于区块链的日志。只有用 `emit EventName(...)` 才能“发送/触发/记录”事件到链上。
<!-- DAILY_CHECKIN_2026-01-22_END -->

# 2026-01-20
<!-- DAILY_CHECKIN_2026-01-20_START -->




在Web3世界中，开源代码、协议、开发者工具是公共物品，自然也有搭便车问题。因此问题是：在无法市场定价的情况下，如何“定价”从而让其生存？

\- 机制1：委员会制

\- 如政府中

\- 优点是决策效率高，缺点是权力集中、偏好固化、有限知识

\- 机制2：二次方资助QF

\- 正义：传统投票是拥有多少Token就能投多少票，如uniswap；而QF是看人数，matching pool由贡献者的数量决定

\- 已经资助了许多以太坊项目。不足：容易遭女巫攻击，如有一个人造许多钱包参与投票；治理攻击，在DAO中当水军，诱导别人投票

\- 代表：\[\[项目集##Octant\]\]。项目方可以上这个平台来融资，octant币持有者进行投票，按照QF规则资助。

\- 机制3：回溯性资助RetroPGF

\- 正义：项目创造价值后，根据影响力等再获得奖励。而传统是，在项目发芽之前资助

\- 代表：\[\[项目集#Optimism\]\]

\- 机制4：混合

如QF for 早期，RetroPGF for 成熟项目
<!-- DAILY_CHECKIN_2026-01-20_END -->

# 2026-01-18
<!-- DAILY_CHECKIN_2026-01-18_START -->





NFT是基于ERC-721的一个实践，在现实世界中通常表达为一个藏品，也有会员身份（ERC-1155）。

某组织想要发行其membership，这往往以某个ETH地址体现。

但，membership属于隐私，希望在不暴露隐私的情况下进行数据交易。ERC-7962 is designed to solve such a problem.

能发现：拥有某NFT的某地址是什么，以及此地址的所有交易记录

\- ERC-7962是在ERC-721的基础上，应用ZK原理保证了向第三方证明其归属，但是不暴露其真实地址。

\- `KeyHash=keccak(publicKey)`作为资产所有权标识，从而地址不上链

\- 商家是msg.sender，用户

\- 强制key轮换，增强不可关联性。

\- 更佳UX：gas sponsorship，代付gas费，交易的发起者和token的owner可以分开。
<!-- DAILY_CHECKIN_2026-01-18_END -->

# 2026-01-17
<!-- DAILY_CHECKIN_2026-01-17_START -->






今天没有特别需要记录的内容
<!-- DAILY_CHECKIN_2026-01-17_END -->

# 2026-01-16
<!-- DAILY_CHECKIN_2026-01-16_START -->







今天主要是听同学的复盘，发现很多同学学的都很认真，不但完成了基本任务，还进行了很多扩展。我应该向他们学习。
<!-- DAILY_CHECKIN_2026-01-16_END -->

# 2026-01-15
<!-- DAILY_CHECKIN_2026-01-15_START -->








合规

分享人：邓小宇，曼昆律所律师

当前，合规主要适用于单位；对于个人，主要是风控。

\- 中国内地三个负面清单

\- ICO公开融资

\- 虚拟货币交易

\- 永续合约是赌博吗？执法认为是，律师在辩护时认为不是。就像说买期货、买股票，而不是说赌期货赌股票。关键差别在于有没有买定离手

\- 挖矿

\- 也有合股空间。如以AI算力中心的名义建，然后把算力卖给海外，

\- 出入金

\- 最主要的问题是涉赃款

\- 出金风险：当前许多人从香港出金后，回大陆被税务联系报税

\- 入金攻击：故意往一个人的钱包里打赃款，引发公安

\- U商：在大陆废了。U卡，有丢失风险，因为U卡常挂靠传统银行

\- 项目方：有一种情况是，技术公司和大陆警方合作，一边分析链上数据，一边派人入职项目方搜集信息。警方端掉项目方后，以线索奖励的方式回报技术公司。

\- KOL：赌博从犯。最根本还是合约能被认为是赌博。但这个风险可以被深度合规化effort给缓解，如纸面合规、跟属地警察打好关系（异地警察想来也来不了了）

\# 安全

攻击趋势是广撒网+精准猎杀（targeted at 一些TVL很高的合约地址、交易所）

主要方式：私钥被盗、合约漏洞、钓鱼攻击

\- 精准猎杀

\- CeFi成为黑客取款机，主要是因为管理员私钥被盗、热钱包私钥被盗

\- DeFi漏洞越来越深入，如Balancer、Yearn等已经安全运行数年的合约被挖掘出新的漏洞

\- 国家级黑客，如朝鲜黑客组织

\- 广撒网

\- 窃取私钥、助记词：基于病毒、社会工程（如面试时运行代码）、供应链

\- 钓鱼攻击：签名陷阱

\- rug token：不断在链上发同名的恶意token，各种xx盘
<!-- DAILY_CHECKIN_2026-01-15_END -->

# 2026-01-14
<!-- DAILY_CHECKIN_2026-01-14_START -->









\# Web3行业介绍

介绍人：SmartDeer人员

\- 市场情况

加密资产的市值3万亿美元；权威报告指出的市场规模是69.4亿美元，全球月活开发者约3万人...总之，市场增速快，人才需求大，复合人才高端人才需求大，重点增长区域是北美、中东（阿联酋、沙特）、香港和东南亚。

\- 就业情况

\- 初级人才过剩，精英短缺。初级合约开发、社区运营是红海，但资深工程师、合规官、Research Analyst是蓝海

\- 个人进入

\- 求职渠道：传统招聘网站覆盖率低；核心渠道是：

!\[\[截屏2026-01-12 20.18.57.png|550\]\]

\- 准备

\- 链上CV：Github、snapshot投票、链上徽章

\- 语言：solidity必备，rust逐渐流行

\- 互联网行业背景；

\- 区块链行业背景不是必选项

\- 避坑：警惕匿名、无VC支持、无代码更新

\- 岗位类型：

\- 开发、技术：solidity最广泛，但Rust越来越多；合约安全意识，即不能只会写代码，要会更多的技能

\- 产品、投研：tokenomics很重要，从研究员可向投资人发展；对Web3的理解；计算机和金融领域的知识“几乎可以横着走”

\- 进入路径

\- 从web2迁移

\- 从生态切入：在开源社区贡献、在投研社区发表意见

\- 建立链上声誉：如在X上持续输入研报...公域流量池很重要

\- 进入时，能进大项目就进大项目。
<!-- DAILY_CHECKIN_2026-01-14_END -->
<!-- Content_END -->
