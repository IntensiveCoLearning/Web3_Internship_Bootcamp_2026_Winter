---
timezone: UTC+8
---

# 韩浩

**GitHub ID:** svers7

**Telegram:** @Svers

## Self-introduction

正在看我这篇自我介绍的同志，你好，我今年周岁24岁，本科软件工程，毕业已有两年，在玻璃行业从事轻度web2工作，在此想深入学习web3，从而能够提升自己，转到更大的平台，共勉。

## Notes

<!-- Content_START -->
# 2026-01-15
<!-- DAILY_CHECKIN_2026-01-15_START -->
# **《从零到一学习以太坊》第3-4章核心笔记**

## **第三章：账户类型与结构**

### **一、EOA（外部拥有账户）**

-   **定义**：由私钥直接控制的账户，可主动发起交易、持有ETH/代币。
    
-   **控制方式**：
    
    -   私钥签名交易，公钥派生地址（`0x`开头，20字节）。
        
    -   通过助记词（BIP-39）和分层确定性钱包（BIP-44）管理多个地址。
        
    -   **Nonce**：防止重放攻击，保证交易顺序。
        
-   **状态字段**（与合约账户相同结构）：
    
    -   `address`、`nonce`、`balance`、`storageRoot`、`codeHash`
        
    -   EOA的`codeHash`和`storageRoot`为空。
        

### **二、合约账户**

-   **定义**：由部署在链上的EVM字节码控制的账户，无私钥，不能主动发起交易。
    
-   **创建方式**：
    
    -   **CREATE**：地址由部署者地址 + nonce决定。
        
    -   **CREATE2**：地址可预先计算（`0xff + deployer + salt + keccak256(init_code)`）。
        
-   **能力**：
    
    -   可持有ETH/代币、存储状态变量、执行复杂逻辑。
        
    -   只能通过被EOA或其他合约调用执行。
        

### **三、EOA vs 合约账户对比**

| 特性 | EOA | 合约账户 |
| --- | --- | --- |
| 控制方式 | 私钥签名 | 智能合约代码 |
| 发起交易 | 能主动发起 | 只能被动响应调用 |
| 代码/存储 | 无代码，无存储 | 有代码和存储 |
| 升级能力 | 私钥不变即可 | 需通过代理模式升级 |
| 创建成本 | 低（只需签名） | 高（需支付部署Gas） |

### **四、地址格式与交互**

-   `0x`**前缀**：十六进制标识，非协议强制，为便于识别。
    
-   **EOA → 合约**：通过交易调用合约函数（`data`字段编码）。
    
-   **合约 → 合约**：通过`call`/`delegatecall`/`staticcall`内部调用。
    
-   **合约 → EOA**：可转账，但无法主动发起新交易。
    

### **五、扩展功能（多签、时间锁）**

-   **多签钱包**：需多个签名才可执行交易（如Gnosis Safe）。
    
-   **时间锁**：延迟敏感操作，用于治理升级或资金解锁。
    

### **六、ERC-20/ERC-721代币与合约**

-   代币本质是**合约内的记账系统**（如`_balances`映射）。
    
-   代币操作实为**调用代币合约的函数**（如`transfer`、`approve`）。
    

### **七、合约的不可篡改性与升级**

-   **默认不可变**：部署后代码无法直接修改。
    
-   **升级方案**：
    
    -   代理模式（Proxy）：逻辑合约可更换，状态保持不变。
        
    -   **SELFDESTRUCT**：EIP-6780后仅在创建交易内有效，不再推荐用于升级。
        

* * *

## **第四章：智能合约理论基础**

### **一、智能合约概念与功能**

-   **定义**：部署在区块链上的自动化程序，条件触发自动执行。
    
-   **核心价值**：
    
    -   **去信任化**：无需中介，代码即规则。
        
    -   **确定性**：相同输入 → 相同输出。
        
    -   **透明可审计**：所有执行记录公开上链。
        
    -   **可编程性**：支持复杂业务逻辑（DeFi、NFT、DAO等）。
        

### **二、Solidity语言特性与优势**

-   **EVM原生**：专为EVM设计，编译为字节码。
    
-   **语法友好**：类似JavaScript/C++，支持继承、库、事件等。
    
-   **生态成熟**：
    
    -   工具链：Hardhat、Foundry、Remix、OpenZeppelin。
        
    -   安全工具：Slither、Mythril、审计服务。
        
-   **安全增强**：
    
    -   0.8.x默认开启溢出检查。
        
    -   支持`reentrancy guard`、`pull payment`等模式。
        

### **三、合约编译产出**

NaN.  **字节码（Bytecode）**：
      
      -   **创建字节码**：包含构造函数逻辑，部署时执行。
          
      -   **运行字节码**：部署后存储在链上的可执行代码。
          
NaN.  **ABI（应用二进制接口）**：
      
      -   JSON文件，描述合约函数、事件、参数格式。
          
      -   用于前端/其他合约正确编码/解码调用。
          
NaN.  **元数据（Metadata）**：
      
      -   包含编译器版本、源码哈希、ABI等信息。
          
      -   用于合约验证（Etherscan/Sourcify）。
          
NaN.  **其他中间表示**：
      
      -   AST（抽象语法树）、源映射、Yul IR、EVM汇编代码。
          

### **四、合约部署与交互**

-   **部署流程**：
    
    NaN.  编译生成字节码 + ABI。
          
    NaN.  发送创建合约交易（`to`为空，`data`为字节码）。
          
    NaN.  获得合约地址（由部署者地址 + nonce 或 CREATE2 计算）。
          
-   **交互方式**：
    
    -   前端通过ABI + 地址调用合约函数。
        
    -   区块浏览器验证源码后提供“读写合约”界面。
        

### **五、合约核心组件**

| 组件 | 说明 |
| --- | --- |
| 状态变量 | 持久化存储在链上的数据（可public/private） |
| 函数 | 可修改状态、返回结果（支持pure/view/payable） |
| 事件 | 用于日志记录，外部可监听 |
| 构造函数 | 仅在部署时执行一次 |
| 修饰符 | 可复用的条件检查逻辑（如onlyOwner） |
| 结构体/枚举 | 定义复杂数据类型与状态枚举 |
| 自定义错误 | 更高效的错误提示（替代require字符串） |
<!-- DAILY_CHECKIN_2026-01-15_END -->

# 2026-01-14
<!-- DAILY_CHECKIN_2026-01-14_START -->

# **Web3安全与合规指南笔记**

## **1\. 核心：中国监管环境与法律风险**

中国对虚拟货币及相关金融活动持严格限制态度，监管基调是 **“全面封堵金融属性，有限容忍技术创新”**。

### **1.1 主要禁令政策**

-   禁止ICO（首次代币发行）、IEO、IDO等任何形式的代币融资活动。
    
-   禁止虚拟货币交易所运营及提供撮合服务。
    
-   明确虚拟货币不具有法偿性，不得作为支付工具。
    
-   禁止境外交易平台向中国境内居民提供服务。
    
-   打击利用虚拟货币进行的非法集资、传销、洗钱、赌博等活动。
    

### **1.2 关键法律风险领域**

| 风险领域 | 具体情形与风险 |
| --- | --- |
| 代币发行与交易 | 任何具备融资功能或可流通性的代币发行都可能构成非法金融活动（如非法吸收公众存款罪），技术人员参与开发也无法以“只是写代码”为由免责。 |
| 涉赌风险 | 项目若存在“充值-抽奖-提现”闭环，可能被认定为“开设赌场罪”。具有提现功能是涉赌应用的显著特征。 |
| 传销风险 | 项目经济模型中如含“邀请返利”、“多级推广”等团队计酬模式，可能触犯组织、领导传销活动罪。 |
| 场外交易风险 | 通过虚拟货币进行“地下换汇”可能构成非法经营罪。若交易资金涉及黑产，可能被控洗钱罪或掩饰隐瞒犯罪所得罪。 |
| 民商事争议 | 涉及虚拟货币买卖、委托投资的合同，在中国法院很可能被认定为无效，导致“风险自担”，损失难以追回。 |

## **2\. 全球监管趋势概览**

全球正逐步建立加密资产监管框架，合规化是明确趋势。

### **2.1 核心监管机构与框架**

-   **FATF（金融行动特别工作组）**：制定全球反洗钱(AML)标准，其 **“旅行规则”(Travel Rule)** 要求虚拟资产服务商在转账时收集并传输用户信息，对DeFi和DEX构成合规挑战。
    
-   **稳定币监管**：因系统性风险（如Terra UST崩盘）和货币政策影响，成为监管重点。监管目标在于确保储备资产充足、维护金融稳定及反洗钱。
    
-   **主要地区监管**：
    
    -   **美国**：SEC（证监会）将多数代币视为证券监管；CFTC（商品期货委员会）监管加密货币期货。
        
    -   **欧盟**：**MiCA法规**（已生效）是全球首个全面的加密货币监管框架，对稳定币有严格储备要求，并禁止算法稳定币。
        
    -   **香港**：已实施虚拟资产服务提供商(VASP)牌照制度，并对零售投资者开放交易。
        

## **3\. Web3入职风险防范（针对求职者）**

Web3领域新型的雇佣关系与传统行业差异巨大，需审慎评估。

### **3.1 雇佣关系与薪酬风险**

| 风险点 | 具体说明与防范建议 |
| --- | --- |
| 劳动关系模糊 | 项目多在境外注册，可能无法签订国内有效的《劳动合同》及缴纳社保公积金，影响落户、购房、贷款等权益。入职前需评估能否接受。 |
| 薪酬结构风险 | “人民币+Token”或“全USDT”薪酬可能不符合《劳动法》以法定货币支付的规定。Token价值波动大甚至归零，会直接影响收入。建议与公司协商保留部分法币薪酬。 |
| 虚拟货币出金风险 | 将薪酬虚拟币兑换为人民币时，若交易对手资金涉诈涉赌，可能导致银行卡冻结甚至承担刑事责任。务必通过可信渠道交易，并保留资金来源记录。 |
| 项目合法性风险 | 即使作为员工，若所在项目整体涉嫌非法金融活动，也可能被牵连。入职前应主动审查项目白皮书、代币模型、是否面向中国大陆用户等。 |

### **3.2 刑事风险提示：属人管辖原则**

中国刑法不仅适用属地管辖，也适用**属人管辖**。即中国公民在境外从事中国刑法所禁止的犯罪活动（如开设赌场、非法经营），中国司法机关依然拥有管辖权。

## **4\. 刑事案例警示：BigGame开设赌场案**

-   **案情**：2018-2020年，谢某非、刘某功等人在EOS区块链上开发运营BigGame赌博平台，提供“掷骰子”等游戏，赌资累计3.3亿余EOS。
    
-   **判决**：法院认定10名被告均构成**开设赌场罪**。两名主犯（负责运营、技术）分别被判处有期徒刑五年九个月和四年六个月，并处罚金；其余8名从犯（负责产品设计、代码编写、客服推广等）均被判处有期徒刑并适用缓刑，同时处罚金。
    
-   **核心启示**：在涉嫌犯罪的项目中，**不仅是组织者和运营者，连负责产品设计、代码编写、客服推广等环节的技术和工作人员，也会被认定为共犯（从犯）并承担刑事责任**。
    

> **总结要点**：对于中国从业者而言，参与Web3项目必须将**合规置于首位**，深刻理解境内外的监管红线，审慎评估项目性质与个人职责，避免因追求技术创新或经济利益而触碰法律底线。
<!-- DAILY_CHECKIN_2026-01-14_END -->

# 2026-01-13
<!-- DAILY_CHECKIN_2026-01-13_START -->


### **以太坊核心机制与架构学习笔记**

**一、 基础认知：什么是以太坊？**

以太坊是一个**全球性、去中心化的状态机**（可编程的区块链），其核心是运行**智能合约**的**以太坊虚拟机（EVM）**。它不仅是数字货币（ETH），更是一个**无需信任的计算平台**。

**二、 核心演变：从PoW到PoS**

这是理解现代以太坊的基础，两种机制在哲学和实现上截然不同。

| 对比维度 | 工作量证明 (PoW - 已淘汰) | 权益证明 (PoS - 当前使用) |
| --- | --- | --- |
| 核心资源 | 物理算力与电力（能源消耗） | 质押的ETH资本（经济质押） |
| 参与者 | 矿工 | 验证者（需质押32 ETH） |
| 竞争方式 | 所有矿工进行哈希计算竞赛，赢者通吃。 | 算法随机选择区块提议者，概率与质押量成正比。 |
| 安全性基础 | 篡改历史需拥有 >51% 全网算力，物理成本极高。 | 篡改历史需控制 >66% 质押ETH，资产会被罚没，经济成本毁灭性。 |
| 关键角色 | 获胜矿工全权打包并确认区块。 | 提议者打包区块，验证者委员会投票确认，权力分离。 |

**三、 核心支柱详解**

**1\. 执行层：智能合约与EVM**

-   **智能合约**：部署在链上的程序，代码即法律，自动执行。
    
-   **EVM**：全球所有节点运行的标准虚拟机，确保合约执行结果一致。
    
-   **Gas**：衡量计算/存储资源的单位。用户支付ETH作为Gas费，旨在为网络资源定价并防止垃圾交易。
    

**2\. 共识层：PoS与委员会机制**

-   **质押与验证者**：质押32 ETH可成为一个验证者。质押越多，验证者单元越多。
    
-   **提议者**：每个时隙（12秒）被随机选出一个，负责打包新区块。
    
-   **验证者委员会**：随机抽选数百名验证者组成，对提议的区块进行**投票**。需超过2/3赞成票，区块才能被最终确认。
    
-   **核心逻辑**：委员会机制确保 **“提议权”与“确认权”分离**。大户可能更常成为提议者，但无法控制委员会投票，从而无法单方面作恶。
    

**3\. 安全与惩罚机制**

-   **51%攻击 (PoW) / 66%攻击 (PoS)**：理论上控制大部分资源可篡改历史，但因物理/经济成本高到不现实，实际中几乎不可能。
    
-   **罚没**：PoS中的核心反制措施。验证者若作恶（如双重投票）或严重失职，其质押的ETH将被部分或全部销毁。
    
-   **反相关惩罚**：如果多个验证者（通常属于同一实体）**同时犯相同错误**，惩罚会指数级放大。这**强制大户必须分散部署节点**，否则将面临毁灭性损失，从而对抗中心化。
    

-   **分层协作**：用户操作触发交易，由**执行客户端**在**EVM**中处理，由**共识客户端**通过**PoS**机制与全网节点达成共识，最终更新全局状态。
    
-   **关键升级**：“合并”后，架构明确分为**执行层**和**共识层**，通过“引擎API”通信，提升了系统的模块化和可升级性。
    

**四、 关键概念辨析**

-   **矿工 vs. 验证者/提议者**：矿工是PoW时代的产物，通过算力竞争获得记账权；验证者是PoS时代的参与者，通过质押和随机选择获得提议权。
    
-   **概率优势 vs. 控制权**：在PoS中，质押多意味着被选为**提议者**的概率大（获得奖励的机会多），但绝不等于能控制**委员会投票**结果或篡改网络。
    
-   **难度调整 (PoW)**：算法根据过去区块的出块时间，自动调整挖矿难度以维持稳定出块速度。规则写死在客户端代码中，任何个体无法篡改。
<!-- DAILY_CHECKIN_2026-01-13_END -->

# 2026-01-12
<!-- DAILY_CHECKIN_2026-01-12_START -->



### **一、区块链基础概念**

区块链的定义（一种由区块按时间顺序串联而成的分布式账本）及其**不可篡改、公开透明、去中心化**等特性；区分了**比特币**作为激励和价值载体的角色；对比了**公链、联盟链、私链**三种类型在访问权限和管理模式上的差异；辨析了**Web2、Web3与Web 3.0**（语义网）的根本不同，并探讨了去中心化的优势与挑战。

### **二、以太坊概览**

将以太坊定位为“**区块链2.0**”和“**世界计算机**”，其最关键的创新是引入了**智能合约**。对比了以太坊与比特币的差异，重点阐述了从**工作量证明（PoW）到权益证明（PoS）** 的“合并”升级及其意义，并勾勒了未来的分片等扩容路线。此外，还概述了以太坊的**多层生态**（L1主网、L2扩展方案）和其**去中心化、开放、抗审查**的文化价值观。

### **三、行业赛道全览**

介绍了Web3的四大核心应用领域，通过典型案例进行剖析：

-   **DeFi**：以 **Uniswap**（去中心化交易所，采用自动做市商模式）、**Compound**（借贷协议）和 **MakerDAO**（超额抵押生成稳定币）为例，展示了如何去除传统金融中介。
    
-   **NFT**：强调了其作为**数字所有权唯一凭证**的本质，并介绍了 **CryptoPunks**（开创性项目）和 **OpenSea**（主流交易平台）。
    
-   **DAO**：介绍了**去中心化自治组织**的理念，例举了 **Nouns DAO**（社区驱动的NFT项目）和 **ConstitutionDAO**（轰动一时的众筹案例），展示了社区共治的模式。
    

### **四、Web3工作方式（远程工作指南）**

这是一份面向Web3从业者的远程协作实用指南。**内容分为两部分**：

1.  **常用工具**：列举并简要介绍了 **Twitter（X）、Telegram、Discord、MetaMask** 等社交媒体、通讯、钱包工具，以及 **Notion、Zoom、Calendly、Figma、GitHub** 等办公协作工具，其中特别强调了Telegram使用的**安全防范措施**。
    
2.  **协作习惯**：重点介绍了用 **OKR**（目标与关键结果）方法进行目标管理，并提供了如何高效组织**远程会议**（包括预约技巧和会议纪律）以及提升职场**软技能**（如排版）的建议。
<!-- DAILY_CHECKIN_2026-01-12_END -->
<!-- Content_END -->
